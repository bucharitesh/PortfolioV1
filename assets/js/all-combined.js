!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e((t=t||self).firebase)}(this,function(t){"use strict";try{(function(){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}(t)}}!function(t,e){if(e){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(e=e(o=r[t=t[t.length-1]]))!=o&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=i.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(e){o(e)}}:e}var r,o,a=new e(function(t,e){r=t,o=e});return this.Oa(i(t,r),i(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=r(t),a=i.next();!a.done;a=i.next())o(a.value).Oa(e,n)})},e.all=function(t){var n=r(t),i=n.next();return i.done?o([]):new e(function(t,e){function r(e){return function(n){a[e]=n,0==--s&&t(a)}}for(var a=[],s=0;a.push(void 0),s++,o(i.value).Oa(r(a.length-1),e),!(i=n.next()).done;);})},e});var o=o||{},a=this||self,s=/^[\w+\/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function w(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=S+t,this.message=e||T[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new E(e.substring(S.length),t.message,t.serverResponse):null}w(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var I,S="auth/",T={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function A(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");R.call(this,n+t[i])}function O(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function x(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}I=N("__EID__")?"__EID__":void 0,w(R,Error),R.prototype.name="CustomError",w(P,R),P.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new D(function(){return new F},function(t){t.reset()});function F(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(i[r++]=s)}return i},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function W(t,e){return 0<=j(t,e)}function q(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1).length})}function G(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var Y,z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},X=/&/g,J=/</g,$=/>/g,Z=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function rt(t,e){return t<e?-1:e<t?1:0}t:{var ot=a.navigator;if(ot){var at=ot.userAgent;if(at){Y=at;break t}}Y=""}function st(t){return it(Y,t)}function ut(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ct(t){for(var e in t)return!1;return!0}function lt(t){var e,n={};for(e in t)n[e]=t[e];return n}var ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<ht.length;o++)n=ht[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function dt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function pt(t,e){this.a=t===mt&&e||"",this.b=gt}function vt(t){return t instanceof pt&&t.constructor===pt&&t.b===gt?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}pt.prototype.ra=!0,pt.prototype.qa=function(){return this.a},pt.prototype.toString=function(){return"Const{"+this.a+"}"};var gt={},mt={},yt=new pt(mt,"");function bt(t,e){this.a=t===St&&e||"",this.b=It}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===It?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function wt(t,e){var n=vt(t);if(!Ct.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Et,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof pt?vt(t):encodeURIComponent(String(t))}),new bt(St,t)}bt.prototype.ra=!0,bt.prototype.qa=function(){return this.a.toString()},bt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Et=/%{(\w+)}/g,Ct=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,It={},St={};function Tt(t,e){this.a=t===Pt&&e||"",this.b=Rt}function kt(t){return t instanceof Tt&&t.constructor===Tt&&t.b===Rt?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Tt.prototype.ra=!0,Tt.prototype.qa=function(){return this.a.toString()},Tt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function At(t){return t instanceof Tt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new Tt(Pt,t))}var Rt={},Pt={};function Ot(){this.a="",this.b=xt}function Dt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===xt?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xt={};function Lt(t){var e=new Ot;return e.a=t,e}Lt("<!DOCTYPE html>");var Mt=Lt("");function Ft(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function jt(t){return nt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(X,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace($,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Z,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(tt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(et,"&#0;"))),t}function Ut(t){return Ut[" "](t),t}Lt("<br>"),Ut[" "]=c;var Vt,Bt,Ht=st("Opera"),Wt=st("Trident")||st("MSIE"),qt=st("Edge"),Kt=qt||Wt,Gt=st("Gecko")&&!(it(Y.toLowerCase(),"webkit")&&!st("Edge"))&&!(st("Trident")||st("MSIE"))&&!st("Edge"),Qt=it(Y.toLowerCase(),"webkit")&&!st("Edge");function Yt(){var t=a.document;return t?t.documentMode:void 0}t:{var zt="",Xt=(Bt=Y,Gt?/rv:([^\);]+)(\)|;)/.exec(Bt):qt?/Edge\/([\d\.]+)/.exec(Bt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):Qt?/WebKit\/(\S+)/.exec(Bt):Ht?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Xt&&(zt=Xt?Xt[1]:""),Wt){var Jt=Yt();if(null!=Jt&&Jt>parseFloat(zt)){Vt=String(Jt);break t}}Vt=zt}var $t,Zt={};function te(t){return e=t,n=Zt,Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(){for(var e=0,n=z(String(Vt)).split("."),i=z(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=rt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||rt(0==a[2].length,0==s[2].length)||rt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}();var e,n}$t=a.document&&Wt?Yt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var ee=!Wt||9<=Number($t);function ne(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ie(t,e){ut(e,function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ae.hasOwnProperty(n)?t.setAttribute(ae[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var re,oe,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function se(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ue(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function ce(t){a.setTimeout(function(){throw t},0)}function le(t,e){oe||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);oe=function(){t.then(de)}}else oe=function(){var t=de;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!st("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(re=re||function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!st("Presto")&&(t=function(){var t=se(document,"IFRAME");t.style.display="none",function(t){var e=new bt(St,vt(yt));dt(t,"HTMLIFrameElement"),t.src=_t(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Dt(Mt)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=y(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0===t||st("Trident")||st("MSIE"))return function(t){a.setTimeout(t,0)};var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){i.next={Db:t},i=i.next,e.port2.postMessage(0)}}())(t):a.setImmediate(t)}}(),he||(oe(),he=!0),fe.add(t,e)}var he=!1,fe=new L;function de(){for(var t;n=e=void 0,n=null,(e=fe).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){ce(t)}x(M,t)}var e,n;he=!1}function pe(t,e){if(this.a=ve,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,function(t){ke(n,ge,t)},function(t){if(!(t instanceof xe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}ke(n,me,t)})}catch(t){ke(this,me,t)}}var ve=0,ge=2,me=3;function ye(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ye.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var be=new D(function(){return new ye},function(t){t.reset()});function _e(t,e,n){var i=be.get();return i.g=t,i.b=e,i.f=n,i}function we(t){if(t instanceof pe)return t;var e=new pe(c);return ke(e,ge,t),e}function Ee(t){return new pe(function(e,n){n(t)})}function Ce(t,e,n){Ne(t,e,n,null)||le(b(e,t))}function Ie(t){return new pe(function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Ce(t[o],b(r,o,!0),b(r,o,!1));else e(i)})}function Se(t,e){t.b||t.a!=ge&&t.a!=me||Ae(t),t.f?t.f.next=e:t.b=e,t.f=e}function Te(t,e,n,i){var r=_e(null,null,null);return r.a=new pe(function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(n){o(n)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof xe?o(e):t(r)}catch(e){o(e)}}:o}),Se(r.a.c=t,r),r.a}function ke(t,e,n){t.a==ve&&(t===n&&(e=me,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ne(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Ae(t),e!=me||n instanceof xe||function(t,e){t.g=!0,le(function(){t.g&&De.call(null,e)})}(t,n)))}function Ne(t,e,n,i){if(t instanceof pe)return Se(t,_e(e||c,n||null,i)),!0;if(A(t))return t.then(e,n,i),!0;if(d(t))try{var r=t.then;if(f(r))return function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(r,t))},o)}catch(t){o(t)}}(t,r,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function Ae(t){t.h||(t.h=!0,le(t.ec,t))}function Re(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Pe(t,e,n,i){if(n==me&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Oe(e,n,i);else try{e.c?e.g.call(e.f):Oe(e,n,i)}catch(t){De.call(null,t)}x(be,e)}function Oe(t,e,n){e==ge?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}pe.prototype.then=function(t,e,n){return Te(this,f(t)?t:null,f(e)?e:null,n)},pe.prototype.$goog_Thenable=!0,(e=pe.prototype).ma=function(t,e){return(t=_e(t,t,e)).c=!0,Se(this,t),this},e.o=function(t,e){return Te(this,null,t,e)},e.cancel=function(t){if(this.a==ve){var e=new xe(t);le(function(){!function t(e,n){if(e.a==ve)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,a=null,s=i.b;s&&(s.c||(r++,s.a==e&&(o=s),!(o&&1<r)));s=s.next)o||(a=s);o&&(i.a==ve&&1==r?t(i,n):(a?((r=a).next==i.f&&(i.f=r),r.next=r.next.next):Re(i),Pe(i,o,me,n)))}e.c=null}else ke(e,me,n)}(this,e)},this)}},e.Yc=function(t){this.a=ve,ke(this,ge,t)},e.Zc=function(t){this.a=ve,ke(this,me,t)},e.ec=function(){for(var t;t=Re(this);)Pe(this,t,this.a,this.i);this.h=!1};var De=ce;function xe(t){R.call(this,t)}function Le(){this.wa=this.wa,this.na=this.na}w(xe,R);var Me=0;function Fe(t){t.wa||(t.wa=!0,t.Ba(),0==Me)||function(t){Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++v)}(t)}Le.prototype.wa=!(xe.prototype.name="cancel"),Le.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var je=Object.freeze||function(t){return t},Ue=!Wt||9<=Number($t),Ve=Wt&&!te("9"),Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(t){}return t}();function He(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function We(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{Ut(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qe[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}He.prototype.preventDefault=function(){this.defaultPrevented=!0},w(We,He);var qe=je({2:"touch",3:"pen",4:"mouse"});We.prototype.preventDefault=function(){We.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ve)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},We.prototype.f=function(){return this.a};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function Qe(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Ta=r,this.key=++Ge,this.ua=this.Na=!1}function Ye(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function ze(t){this.src=t,this.a={},this.b=0}function Xe(t,e){var n=e.type;n in t.a&&q(t.a[n],e)&&(Ye(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Je(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==i)return r}return-1}ze.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Je(t,e,i,r);return-1<a?(e=t[a],n||(e.Na=!1)):((e=new Qe(e,this.src,o,!!i,r)).Na=n,t.push(e)),e};var $e="closure_lm_"+(1e6*Math.random()|0),Ze={};function tn(t,e,n,i,r){if(i&&i.once)nn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)tn(t,e[o],n,i,r);else n=fn(n),t&&t[Ke]?pn(t,e,n,d(i)?!!i.capture:!!i,r):en(t,e,n,!1,i,r)}function en(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=d(r)?!!r.capture:!!r,s=ln(t);if(s||(t[$e]=s=new ze(t)),!(n=s.add(e,n,i,a,o)).proxy)if(i=function(){var t=cn,e=Ue?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),(n.proxy=i).src=t,i.listener=n,t.addEventListener)Be||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(an(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function nn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)nn(t,e[o],n,i,r);else n=fn(n),t&&t[Ke]?vn(t,e,n,d(i)?!!i.capture:!!i,r):en(t,e,n,!0,i,r)}function rn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)rn(t,e[o],n,i,r);else i=d(i)?!!i.capture:!!i,n=fn(n),t&&t[Ke]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=Je(o=t.a[e],n,i,r))&&(Ye(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&ln(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Je(e,n,i,r)),(n=-1<t?e[t]:null)&&on(n))}function on(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ke])Xe(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(an(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=ln(e))?(Xe(n,t),0==n.b&&(n.src=null,e[$e]=null)):Ye(t)}}}function an(t){return t in Ze?Ze[t]:Ze[t]="on"+t}function sn(t,e,n,i){var r=!0;if((t=ln(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=un(o,i),r=r&&!1!==o)}return r}function un(t,e){var n=t.listener,i=t.Ta||t.src;return t.Na&&on(t),n.call(i,e)}function cn(t,e){if(t.ua)return!0;if(Ue)return un(t,new We(e,this));if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new We(i=e,this),n=!0,!(i.keyCode<0||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}!r&&null!=i.returnValue||(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=sn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=sn(i[r],t,!1,e),n=n&&o}return n}function ln(t){return(t=t[$e])instanceof ze?t:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(t){return f(t)?t:(t[hn]||(t[hn]=function(e){return t.handleEvent(e)}),t[hn])}function dn(){Le.call(this),this.u=new ze(this),(this.Yb=this).eb=null}function pn(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function vn(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function gn(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ua&&a.capture==n){var s=a.listener,u=a.Ta||a.src;a.Na&&Xe(t.u,a),r=!1!==s.call(u,i)&&r}}return r&&!i.defaultPrevented}function mn(t,e,n){if(f(t))n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function yn(t){var e=null;return new pe(function(n,i){-1==(e=mn(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function bn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function _n(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function wn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof wn)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function En(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Cn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Cn(r,i=t.a[e])||(r[t.a[n++]=i]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}w(dn,Le),dn.prototype[Ke]=!0,dn.prototype.addEventListener=function(t,e,n,i){tn(this,t,e,n,i)},dn.prototype.removeEventListener=function(t,e,n,i){rn(this,t,e,n,i)},dn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var i=t.type||t;if("string"==typeof t)t=new He(t,n);else if(t instanceof He)t.target=t.target||n;else{var r=t;ft(t=new He(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];r=gn(a,i,!0,t)&&r}if(r=gn(a=t.b=n,i,!0,t)&&r,r=gn(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=gn(a=t.b=e[o],i,!1,t)&&r;return r},dn.prototype.Ba=function(){if(dn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)Ye(n[i]);delete e.a[t],e.b--}}this.eb=null},(e=wn.prototype).V=function(){En(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return En(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},e.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var In=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Sn?(this.h=void 0!==e?e:t.h,Tn(this,t.f),this.i=t.i,this.b=t.b,kn(this,t.l),this.c=t.c,Nn(this,Qn(t.a)),this.g=t.g):t&&(n=String(t).match(In))?(this.h=!!e,Tn(this,n[1]||"",!0),this.i=Dn(n[2]||""),this.b=Dn(n[3]||"",!0),kn(this,n[4]),this.c=Dn(n[5]||"",!0),Nn(this,n[6]||"",!0),this.g=Dn(n[7]||"")):(this.h=!!e,this.a=new Bn(null,this.h))}function Tn(t,e,n){t.f=n?Dn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function kn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Nn(t,e,n){e instanceof Bn?(t.a=e,function(t,e){e&&!t.f&&(Hn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(qn(this,e),Gn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=xn(e,Un)),t.a=new Bn(e,t.h))}function An(t,e,n){t.a.set(e,n)}function Rn(t,e){return t.a.get(e)}function Pn(t){return t instanceof Sn?new Sn(t):new Sn(t,void 0)}function On(t,e){var n=new Sn(null,void 0);return Tn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Dn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ln),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ln(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(xn(e,Mn,!0),":");var n=this.b;return!n&&"file"!=e||(t.push("//"),(e=this.i)&&t.push(xn(e,Mn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(xn(n,"/"==n.charAt(0)?jn:Fn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",xn(n,Vn)),t.join("")},Sn.prototype.resolve=function(t){var e=new Sn(this),n=!!t.f;n?Tn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)kn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(it(r,"./")||it(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?Nn(e,Qn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Mn=/[#\/\?@]/g,Fn=/[#\?:]/g,jn=/[#\?]/g,Un=/[#\?@]/g,Vn=/#/g;function Bn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(t){t.a||(t.a=new wn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Wn(t){var e=_n(t);if(void 0===e)throw Error("Keys are undefined");var n=new Bn(null,void 0);t=bn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?Gn(n,r,o):n.add(r,o)}return n}function qn(t,e){Hn(t),e=Yn(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&En(t)))}function Kn(t,e){return Hn(t),e=Yn(t,e),Cn(t.a.b,e)}function Gn(t,e,n){qn(t,e),0<n.length&&(t.c=null,t.a.set(Yn(t,e),Q(n)),t.b+=n.length)}function Qn(t){var e=new Bn;return e.c=t.c,t.a&&(e.a=new wn(t.a),e.b=t.b),e}function Yn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function zn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),t(e,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&"function"!=typeof(a=n[r])&&(i.push(o),Zn(r,i),i.push(":"),t(e,a,i),o=",");return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Xn,t,e),e.join("")}function Xn(){}(e=Bn.prototype).add=function(t,e){Hn(this),this.c=null,t=Yn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Hn(this),this.a.forEach(function(n,i){U(n,function(n){t.call(e,n,i,this)},this)},this)},e.X=function(){Hn(this);for(var t=this.a.V(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},e.V=function(t){Hn(this);var e=[];if("string"==typeof t)Kn(this,t)&&(e=G(e,this.a.get(Yn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},e.set=function(t,e){return Hn(this),this.c=null,Kn(this,t=Yn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.V(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var Jn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},$n=/\uffff/.test("ï¿¿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(t,e){e.push('"',t.replace($n,function(t){var e=Jn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Jn[t]=e),e}),'"')}function ti(){var t=bi();return Wt&&!!$t&&11==$t||/Edge\/\d+/.test(t)}function ei(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ni(t,e){e=e||a.window;var n="about:blank";t&&(n=kt(At(t))),e.location.href=n}function ii(t){return!!((t=(t||bi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ri(t){t=t||a.window;try{t.close()}catch(t){}}function oi(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=bi().toLowerCase(),i&&(e.target=i,it(n,"crios/")&&(e.target="_blank")),gi(bi())==pi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Tt?n:At(void 0!==n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((st("iPhone")&&!st("iPod")&&!st("iPad")||st("iPad")||st("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(dt(a=se(document,"A"),"HTMLAnchorElement"),e instanceof Tt||e instanceof Tt||(e="object"==typeof e&&e.ra?e.qa():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new Tt(Pt,e)),a.href=kt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=i.open("",n,a),t=kt(e),a&&(Kt&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Lt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">'),i=a.document)&&(i.write(Dt(t)),i.close())):(a=i.open(kt(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var ai=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,si=/^[^@]+@[^@]+$/;function ui(){var t=null;return new pe(function(e){"complete"==a.document.readyState?e():(t=function(){e()},nn(window,"load",t))}).o(function(e){throw rn(window,"load",t),e})}function ci(t){return t=t||bi(),!("file:"!==Ii()&&"ionic:"!==Ii()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function li(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function hi(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function fi(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":hi()?"Worker":"Browser"}function di(){var t=fi();return"ReactNative"===t||"Node"===t}var pi="Firefox",vi="Chrome";function gi(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?pi:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":vi:"Safari"}var mi={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function yi(t,e){e=e||[];var n,i=[],r={};for(n in mi)r[mi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=fi())?i=gi(r=bi()):"Worker"===i&&(i=gi(r=bi())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function bi(){return a.navigator&&a.navigator.userAgent||""}function _i(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function wi(){try{var t=a.localStorage,e=Ai();if(t)return t.setItem(e,"1"),t.removeItem(e),!ti()||!!a.indexedDB}catch(t){return hi()&&!!a.indexedDB}return!1}function Ei(){return(Ci()||"chrome-extension:"===Ii()||ci())&&!di()&&wi()&&!hi()}function Ci(){return"http:"===Ii()||"https:"===Ii()}function Ii(){return a.location&&a.location.protocol||null}function Si(t){return!ii(t=t||bi())&&gi(t)!=pi}function Ti(t){return void 0===t?null:zn(t)}function ki(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Ni(t){if(null!==t)return JSON.parse(t)}function Ai(t){return t||Math.floor(1e9*Math.random()).toString()}function Ri(t){return"Safari"!=gi(t=t||bi())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Pi(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Oi(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=bi(),e=fi(),this.b=ii(t)||"ReactNative"===e}function Di(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function xi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Li(){return!(!_i("fireauth.oauthhelper",a)&&!_i("fireauth.iframe",a))}Oi.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ci()&&"chrome-extension:"!==Ii()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Mi,Fi={};function ji(t){Fi[t]||(Fi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ui={};Object.defineProperty(Ui,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ui,"abcd",{configurable:!0,enumerable:!0,value:2}),Mi=2==Ui.abcd}catch(e){Mi=!1}function Vi(t,e,n){Mi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Bi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Vi(t,n,e[n])}function Hi(t){var e={};return Bi(e,t),e}function Wi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Vi(e,n,Wi(t[n]));return e}function qi(t){var e=t&&(t[zi]?"phone":null);if(!(e&&t&&t[Yi]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Vi(this,"uid",t[Yi]),Vi(this,"displayName",t[Gi]||null);var n=null;t[Qi]&&(n=new Date(t[Qi]).toUTCString()),Vi(this,"enrollmentTime",n),Vi(this,"factorId",e)}function Ki(t){try{var e=new Xi(t)}catch(t){e=null}return e}qi.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Gi="displayName",Qi="enrolledAt",Yi="mfaEnrollmentId",zi="phoneInfo";function Xi(t){qi.call(this,t),Vi(this,"phoneNumber",t[zi])}function Ji(t){var e={},n=t[er],i=t[ir],r=t[rr];if(t=Ki(t[nr]),!r||r!=Zi&&r!=tr&&!n||r==tr&&!i||r==$i&&!t)throw Error("Invalid checkActionCode response!");r==tr?(e[ar]=n||null,e[ur]=n||null,e[or]=i):(e[ar]=i||null,e[ur]=i||null,e[or]=n||null),e[sr]=t||null,Vi(this,lr,r),Vi(this,cr,Wi(e))}w(Xi,qi),Xi.prototype.v=function(){var t=Xi.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var $i="REVERT_SECOND_FACTOR_ADDITION",Zi="EMAIL_SIGNIN",tr="VERIFY_AND_CHANGE_EMAIL",er="email",nr="mfaInfo",ir="newEmail",rr="requestType",or="email",ar="fromEmail",sr="multiFactorInfo",ur="previousEmail",cr="data",lr="operation";function hr(t){var e=Rn(t=Pn(t),fr)||null,n=Rn(t,dr)||null,i=Rn(t,gr)||null;if(i=i&&yr[i]||null,!e||!n||!i)throw new E("argument-error",fr+", "+dr+"and "+gr+" are required in a valid action code URL.");Bi(this,{apiKey:e,operation:i,code:n,continueUrl:Rn(t,pr)||null,languageCode:Rn(t,vr)||null,tenantId:Rn(t,mr)||null})}var fr="apiKey",dr="oobCode",pr="continueUrl",vr="languageCode",gr="mode",mr="tenantId",yr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:$i,signIn:Zi,verifyAndChangeEmail:tr,verifyEmail:"VERIFY_EMAIL"};function br(t){try{return new hr(t)}catch(t){return null}}function _r(t){var e=t[Sr];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[wr];if(n&&"object"==typeof n){e=n[Nr];var i=n[Tr];if(n=n[kr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new E("argument-error",Tr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",kr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Nr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",wr+" property must be a non null object when specified.");if(this.f=null,(e=t[Ir])&&"object"==typeof e){if("string"==typeof(e=e[Ar])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Ar+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ir+" property must be a non null object when specified.");if(void 0!==(e=t[Cr])&&"boolean"!=typeof e)throw new E("argument-error",Cr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Er])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Er+" property must be a non empty string when specified.");this.i=t||null}var wr="android",Er="dynamicLinkDomain",Cr="handleCodeInApp",Ir="iOS",Sr="url",Tr="installApp",kr="minimumVersion",Nr="packageName",Ar="bundleId";function Rr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Pr=null;function Or(t){var e=xr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Dr(t){try{return new Or(t)}catch(t){return null}}function xr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Pr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Pr){Pr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Pr[o]&&(Pr[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(t){}return null}Or.prototype.S=function(){return this.f},Or.prototype.i=function(){return this.b},Or.prototype.toString=function(){return this.g};var Lr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Mr=["client_id","response_type","scope","redirect_uri","state"],Fr={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Mr},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Mr},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Mr},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Lr},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function jr(t){for(var e in Fr)if(Fr[e].ea==t)return Fr[e];return null}function Ur(t){var e={};e["facebook.com"]=qr,e["google.com"]=Gr,e["github.com"]=Kr,e["twitter.com"]=Qr;var n=t&&t[Br];try{if(n)return e[n]?new e[n](t):new Wr(t);if(void 0!==t[Vr])return new Hr(t)}catch(t){}return null}var Vr="idToken",Br="providerId";function Hr(t){var e=t[Br];if(!e&&t[Vr]){var n=Dr(t[Vr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Vi(this,"providerId",e),Vi(this,"isNewUser",n)}function Wr(t){Hr.call(this,t),Vi(this,"profile",Wi((t=Ni(t.rawUserInfo||"{}"))||{}))}function qr(t){if(Wr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Kr(t){if(Wr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Vi(this,"username",this.profile&&this.profile.login||null)}function Gr(t){if(Wr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qr(t){if(Wr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Vi(this,"username",t.screenName||null)}function Yr(t){var e=Pn(t),n=Rn(e,"link"),i=Rn(Pn(n),"link");return Rn(Pn(e=Rn(e,"deep_link_id")),"link")||e||i||n||t}function zr(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Xr:Jr}w(Wr,Hr),w(qr,Wr),w(Kr,Wr),w(Gr,Wr),w(Qr,Wr);var Xr="enroll",Jr="signin";function $r(){}function Zr(t,e){return t.then(function(t){if(t[Ba]){var n=Dr(t[Ba]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==S+"user-not-found"?new E("user-mismatch"):t})}function to(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Vi(this,"providerId",t),Vi(this,"signInMethod",t)}function eo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function no(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new to(t.providerId,t.pendingToken)}catch(t){}return null}function io(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Vi(this,"idToken",e.idToken),e.accessToken&&Vi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Vi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Vi(this,"accessToken",e.oauthToken),Vi(this,"secret",e.oauthTokenSecret)}Vi(this,"providerId",t),Vi(this,"signInMethod",n)}function ro(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Wn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function oo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new io(t.providerId,e,t.signInMethod)}catch(t){}}return null}function ao(t,e){this.Oc=e||[],Bi(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(jr(t)||{}).Ha||null,this.kb=null}function so(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');ao.call(this,t,[])}function uo(t){ao.call(this,t,Mr),this.a=[]}function co(){uo.call(this,"facebook.com")}function lo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new co).credential({accessToken:e})}function ho(){uo.call(this,"github.com")}function fo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new ho).credential({accessToken:e})}function po(){uo.call(this,"google.com"),this.Aa("profile")}function vo(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new po).credential({idToken:n,accessToken:e})}function go(){ao.call(this,"twitter.com",Lr)}function mo(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new io("twitter.com",n,"twitter.com")}function yo(t,e,n){this.a=t,this.f=e,Vi(this,"providerId","password"),Vi(this,"signInMethod",n===_o.EMAIL_LINK_SIGN_IN_METHOD?_o.EMAIL_LINK_SIGN_IN_METHOD:_o.EMAIL_PASSWORD_SIGN_IN_METHOD)}function bo(t){return t&&t.email&&t.password?new yo(t.email,t.password,t.signInMethod):null}function _o(){Bi(this,{providerId:"password",isOAuthProvider:!1})}function wo(t,e){if(!(e=Eo(e)))throw new E("argument-error","Invalid email link!");return new yo(t,e.code,_o.EMAIL_LINK_SIGN_IN_METHOD)}function Eo(t){return(t=br(t=Yr(t)))&&t.operation===Zi?t:null}function Co(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,Vi(this,"providerId","phone"),this.ea="phone",Vi(this,"signInMethod","phone")}function Io(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Co(e)}return null}function So(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function To(e){try{this.a=e||t.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Bi(this,{providerId:"phone",isOAuthProvider:!1})}function ko(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Co({bb:t,ab:e})}function No(t){if(t.temporaryProof&&t.phoneNumber)return new Co({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return vo(o,n);case"facebook.com":return lo(n);case"github.com":return fo(n);case"twitter.com":return mo(n,i);default:return n||i||o||a?a?0==e.indexOf("saml.")?new to(e,a):new io(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new uo(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(t){return null}}function Ao(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Ro(t,e,n,i,r,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Po(t){return(t=t||{}).type?new Ro(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Oo(){this.b=null,this.a=[]}zr.prototype.Fa=function(){return this.a?we(this.a):we(this.b)},zr.prototype.v=function(){return this.type==Xr?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},$r.prototype.ia=function(){},$r.prototype.b=function(){},$r.prototype.c=function(){},$r.prototype.v=function(){},to.prototype.ia=function(t){return as(t,eo(this))},to.prototype.b=function(t,e){var n=eo(this);return n.idToken=e,ss(t,n)},to.prototype.c=function(t,e){return Zr(us(t,eo(this)),e)},to.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},io.prototype.ia=function(t){return as(t,ro(this))},io.prototype.b=function(t,e){var n=ro(this);return n.idToken=e,ss(t,n)},io.prototype.c=function(t,e){return Zr(us(t,ro(this)),e)},io.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ao.prototype.Ia=function(t){return this.Fb=lt(t),this},w(so,ao),w(uo,ao),uo.prototype.Aa=function(t){return W(this.a,t)||this.a.push(t),this},uo.prototype.Nb=function(){return Q(this.a)},uo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new io(this.providerId,n,this.providerId)},w(co,uo),Vi(co,"PROVIDER_ID","facebook.com"),Vi(co,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(ho,uo),Vi(ho,"PROVIDER_ID","github.com"),Vi(ho,"GITHUB_SIGN_IN_METHOD","github.com"),w(po,uo),Vi(po,"PROVIDER_ID","google.com"),Vi(po,"GOOGLE_SIGN_IN_METHOD","google.com"),w(go,ao),Vi(go,"PROVIDER_ID","twitter.com"),Vi(go,"TWITTER_SIGN_IN_METHOD","twitter.com"),yo.prototype.ia=function(t){return this.signInMethod==_o.EMAIL_LINK_SIGN_IN_METHOD?Ws(t,gs,{email:this.a,oobCode:this.f}):Ws(t,js,{email:this.a,password:this.f})},yo.prototype.b=function(t,e){return this.signInMethod==_o.EMAIL_LINK_SIGN_IN_METHOD?Ws(t,ms,{idToken:e,email:this.a,oobCode:this.f}):Ws(t,Rs,{idToken:e,email:this.a,password:this.f})},yo.prototype.c=function(t,e){return Zr(this.ia(t),e)},yo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Bi(_o,{PROVIDER_ID:"password"}),Bi(_o,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Bi(_o,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Co.prototype.ia=function(t){return t.cb(So(this))},Co.prototype.b=function(t,e){var n=So(this);return n.idToken=e,Ws(t,Vs,n)},Co.prototype.c=function(t,e){var n=So(this);return n.operation="REAUTH",Zr(t=Ws(t,Bs,n),e)},Co.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},To.prototype.cb=function(t,e){var n=this.a.b;return we(e.verify()).then(function(i){if("string"!=typeof i)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(r&&r.type==Xr?r.Fa().then(function(t){return function(t,e){return Ws(n,Os,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(0,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})}):r&&r.type==Jr?r.Fa().then(function(e){return function(t,e){return Ws(t,Ds,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})}):function(t,e){return Ws(n,Ns,e)}(0,{phoneNumber:o,recaptchaToken:i})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Bi(To,{PROVIDER_ID:"phone"}),Bi(To,{PHONE_SIGN_IN_METHOD:"phone"}),Ro.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ro.prototype.S=function(){return this.h},Ro.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Do,xo=null;function Lo(t){var e="unauthorized-domain",n=void 0,i=Pn(t);t=i.b,"chrome-extension"==(i=i.f)?n=Ft("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Ft("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Mo(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&Vi(this,"email",t.Gb),t.da&&Vi(this,"phoneNumber",t.da),t.credential&&Vi(this,"credential",t.credential),t.Wb&&Vi(this,"tenantId",t.Wb)}function Fo(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:No(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Mo(e,n,t.message)}return null}function jo(){}function Uo(t){return t.c||(t.c=t.b())}function Vo(){}function Bo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Ho(){}function Wo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=y(this.oc,this),this.a.onerror=y(this.Pb,this),this.a.onprogress=y(this.pc,this),this.a.ontimeout=y(this.tc,this)}function qo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ko(t,e,n){this.reset(t,e,n,void 0,void 0)}function Go(t){this.f=t,this.b=this.c=this.a=null}function Qo(t,e){this.name=t,this.value=e}w(Lo,E),w(Mo,E),Mo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&ft(t,e),t},Mo.prototype.toJSON=function(){return this.v()},jo.prototype.c=null,w(Vo,jo),Vo.prototype.a=function(){var t=Bo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Vo.prototype.b=function(){var t={};return Bo(this)&&(t[0]=!0,t[1]=!0),t},Do=new Vo,w(Ho,jo),Ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Wo;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(e=Wo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,qo(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",qo(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,qo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ko.prototype.a=null,Ko.prototype.reset=function(t,e,n,i,r){delete this.a},Qo.prototype.toString=function(){return this.name};var Yo=new Qo("SEVERE",1e3),zo=new Qo("WARNING",900),Xo=new Qo("CONFIG",700),Jo=new Qo("FINE",500);Go.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(O("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Ko(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var $o,Zo={},ta=null;function ea(t){var e;if(ta||(ta=new Go(""),(Zo[""]=ta).c=Xo),!(e=Zo[t])){e=new Go(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=ea(t.substr(0,n))).b||(n.b={}),(n.b[i]=e).a=n,Zo[t]=e}return e}function na(t,e){t&&t.log(Jo,e,void 0)}function ia(t){this.f=t}function ra(t){dn.call(this),this.s=t,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ea("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}w(ia,jo),ia.prototype.a=function(){return new ra(this.f)},ia.prototype.b=($o={},function(){return $o}),w(ra,dn);var oa=0;function aa(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function sa(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ua(t)}function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ca(t){dn.call(this),this.headers=new wn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=la,this.w=this.R=!1}(e=ra.prototype).open=function(t,e){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ua(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,sa(this,!1)),this.readyState=oa},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ua(this)),this.a&&(this.readyState=3,ua(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,aa(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?sa(this,!0):ua(this),3==this.readyState&&aa(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,sa(this,!0))},e.qc=function(t){this.a&&(this.response=t,sa(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(zo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&sa(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(zo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(zo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},w(ca,dn);var la="";ca.prototype.b=ea("goog.net.XhrIo");var ha=/^https?$/i,fa=["POST","PUT"];function da(t){return"content-type"==t.toLowerCase()}function pa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,va(t),ma(t)}function va(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ga(t){if(t.c&&void 0!==o)if(t.B[1]&&4==ba(t)&&2==_a(t))na(t.b,wa(t,"Local request error detected and ignored"));else if(t.i&&4==ba(t))mn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==ba(t)){na(t.b,wa(t,"Request complete")),t.c=!1;try{var e,n=_a(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.l).match(In)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}r=!ha.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ba(t)?t.a.statusText:""}catch(e){na(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+_a(t)+"]",va(t)}}finally{ma(t)}}}function ma(t,e){if(t.a){ya(t);var n=t.a,i=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.b)&&t.log(Yo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ya(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function ba(t){return t.a?t.a.readyState:0}function _a(t){try{return 2<ba(t)?t.a.status:-1}catch(t){return-1}}function wa(t,e){return e+" ["+t.P+" "+t.l+" "+_a(t)+"]"}function Ea(t){var e=Da;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ca(t,e,n){t.a=!0,t.c=n,t.f=!e,ka(t)}function Ia(t){if(t.a){if(!t.u)throw new Na(t);t.u=!1}}function Sa(t,e,n,i){t.g.push([e,n,i]),t.a&&ka(t)}function Ta(t){return H(t.g,function(t){return f(t[1])})}function ka(t){if(t.h&&t.a&&Ta(t)){var e=t.h,n=Pa[e];n&&(a.clearTimeout(n.a),delete Pa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],s=r[1];if(r=r[2],o=t.f?s:o)try{var u=o.call(r||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(A(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(i){e=i,t.f=!0,Ta(t)||(n=!0)}}t.c=e,i&&(u=y(t.m,t,!0),i=y(t.m,t,!1),e instanceof Ea?(Sa(e,u,i),e.B=!0):e.then(u,i)),n&&(e=new Ra(e),Pa[e.a]=e,t.h=e.a)}function Na(){R.call(this)}function Aa(){R.call(this)}function Ra(t){this.a=a.setTimeout(y(this.c,this),0),this.b=t}(e=ca.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",na(this.b,wa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(na(this.b,wa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ma(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ma(this,!0)),ca.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?ga(this):this.Hc())},e.Hc=function(){ga(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case la:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Yo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return na(this.b,"Can not get response: "+t.message),null}},Ea.prototype.cancel=function(t){if(this.a)this.c instanceof Ea&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Aa(this),Ia(this),Ca(this,!1,t))}},Ea.prototype.m=function(t,e){this.i=!1,Ca(this,t,e)},Ea.prototype.then=function(t,e,n){var i,r,o=new pe(function(t,e){i=t,r=e});return Sa(this,i,function(t){t instanceof Aa?o.cancel():r(t)}),o.then(t,e,n)},Ea.prototype.$goog_Thenable=!0,w(Na,R),Na.prototype.message="Deferred has already fired",Na.prototype.name="AlreadyCalledError",w(Aa,R),Aa.prototype.message="Deferred was canceled",Aa.prototype.name="CanceledError",Ra.prototype.c=function(){throw delete Pa[this.a],this.b};var Pa={};function Oa(t){var e,n=document,i=_t(t).toString(),r=se(document,"SCRIPT"),o={Tb:r,Ka:void 0},c=new Ea(o);return e=window.setTimeout(function(){xa(r,!0);var t=new Fa(Ma,"Timeout reached for loading script "+i);Ia(c),Ca(c,!1,t)},5e3),o.Ka=e,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(xa(r,!1,e),Ia(c),Ca(c,!0,null))},r.onerror=function(){xa(r,!0,e);var t=new Fa(La,"Error while loading script "+i);Ia(c),Ca(c,!1,t)},ft(o={},{type:"text/javascript",charset:"UTF-8"}),ie(r,o),function(t,e){dt(t,"HTMLScriptElement"),t.src=_t(e),null===u&&(u=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),c}function Da(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&xa(t,!0,this.Ka)}}function xa(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var La=0,Ma=1;function Fa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function ja(t){this.f=t}function Ua(e,n,i){if(this.c=e,e=n||{},this.u=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ha,this.g=lt(e.secureTokenHeaders||Wa),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=e.firebaseTimeout||qa,this.a=lt(e.firebaseHeaders||Ka),i&&(this.a["X-Client-Version"]=i,this.g["X-Client-Version"]=i),i="Node"==fi(),!(i=a.XMLHttpRequest||i&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest)&&!hi())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,hi()?this.f=new ia(self):di()?this.f=new ja(i):this.f=new Ho,this.b=null}w(Fa,R),w(ja,jo),ja.prototype.a=function(){return new this.f},ja.prototype.b=function(){return{}};var Va,Ba="idToken",Ha=new Oi(3e4,6e4),Wa={"Content-Type":"application/x-www-form-urlencoded"},qa=new Oi(3e4,6e4),Ka={"Content-Type":"application/json"};function Ga(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ya(t,e,n,i,r,o,s){(t=function(){var t=bi();return!((t=gi(t)!=vi?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&t<30||Wt&&$t&&!(9<$t))}()||hi()?y(t.w,t):(Va=Va||new pe(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[Xa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Sa(Oa(wt(za,{onload:Xa})),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)}),y(t.s,t)))(e,n,i,r,o,s)}Ua.prototype.S=function(){return this.b},Ua.prototype.w=function(t,e,n,i,r,o){if(hi()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ca(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}pn(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return na(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),vn(s,"ready",function(){u&&clearTimeout(u),Fe(this)}),vn(s,"timeout",function(){u&&clearTimeout(u),Fe(this),e&&e(null)}),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Do.a(),t.B=t.D?Uo(t.D):Uo(Do),t.a.onreadystatechange=y(t.Sb,t);try{na(t.b,wa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return na(t.b,wa(t,"Error opening Xhr: "+e.message)),void pa(t,e)}e=i||"";var o=new wn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)U(t,e,void 0);else for(var n=_n(t),i=bn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=da,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),i=a.FormData&&e instanceof a.FormData,!W(fa,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ya(t),0<t.g&&(t.w=function(t){return Wt&&te(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),na(t.b,wa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=y(t.Ka,t)):t.s=mn(t.Ka,t.g,t)),na(t.b,wa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){na(t.b,wa(t,"Send error: "+e.message)),pa(t,e)}}(s,t,n,i,r)};var za=new pt(mt,"https://apis.google.com/js/client.js?onload=%{onload}"),Xa="__fcb"+Math.floor(1e6*Math.random()).toString();function Ja(t){if("string"!=typeof(t=t.email)||!si.test(t))throw new E("invalid-email")}function $a(t){"email"in t&&Ja(t)}function Za(t){if(!t[Ba]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,lt(t));throw new E("internal-error")}}function ts(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Ua.prototype.s=function(t,e,n,i,r){var o=this;Va.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ua.prototype.vb=function(){return Ws(this,Ps,{})},Ua.prototype.xb=function(t,e){return Ws(this,As,{idToken:t,email:e})},Ua.prototype.yb=function(t,e){return Ws(this,Rs,{idToken:t,password:e})};var es={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ns(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function is(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function rs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Kn(t=new Bn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function os(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Fo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Fo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Fo(t)):t.errorMessage&&(e=qs(t.errorMessage)),e)throw e;Za(t)}function as(t,e){return e.returnIdpCredential=!0,Ws(t,xs,e)}function ss(t,e){return e.returnIdpCredential=!0,Ws(t,Ms,e)}function us(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ws(t,Ls,e)}function cs(t){if(!t.oobCode)throw new E("invalid-action-code")}(e=Ua.prototype).zb=function(t,e){var n={idToken:t},i=[];return ut(es,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),Ws(this,As,n)},e.rb=function(t,e){return ft(t={requestType:"PASSWORD_RESET",email:t},e),Ws(this,Is,t)},e.sb=function(t,e){return ft(t={requestType:"EMAIL_SIGNIN",email:t},e),Ws(this,ws,t)},e.qb=function(t,e){return ft(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ws(this,Es,t)},e.Ab=function(t,e,n){return ft(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ws(this,Cs,t)},e.cb=function(t){return Ws(this,Us,t)},e.jb=function(t,e){return Ws(this,ks,{oobCode:t,newPassword:e})},e.Pa=function(t){return Ws(this,hs,{oobCode:t})},e.fb=function(t){return Ws(this,ls,{oobCode:t})};var ls={endpoint:"setAccountInfo",A:cs,Y:"email",C:!0},hs={endpoint:"resetPassword",A:cs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},fs={endpoint:"signupNewUser",A:function(t){if(Ja(t),!t.password)throw new E("weak-password")},G:Za,U:!0,C:!0},ds={endpoint:"createAuthUri",C:!0},ps={endpoint:"deleteAccount",M:["idToken"]},vs={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new E("internal-error")}},gs={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Ja,G:Za,U:!0,C:!0},ms={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Ja,G:Za,U:!0},ys={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ns,G:Za,C:!0,La:!0},bs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ns,G:Za,C:!0,La:!0},_s={endpoint:"getAccountInfo"},ws={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");Ja(t)},Y:"email",C:!0},Es={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Cs={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Is={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");Ja(t)},Y:"email",C:!0},Ss={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ts={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},ks={endpoint:"resetPassword",A:cs,Y:"email",C:!0},Ns={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},As={endpoint:"setAccountInfo",M:["idToken"],A:$a,U:!0},Rs={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if($a(t),!t.password)throw new E("weak-password")},G:Za,U:!0},Ps={endpoint:"signupNewUser",G:Za,U:!0,C:!0},Os={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Ds={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},xs={endpoint:"verifyAssertion",A:is,Wa:rs,G:os,U:!0,C:!0},Ls={endpoint:"verifyAssertion",A:is,Wa:rs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw qs(t.errorMessage);Za(t)},U:!0,C:!0},Ms={endpoint:"verifyAssertion",A:function(t){if(is(t),!t.idToken)throw new E("internal-error")},Wa:rs,G:os,U:!0},Fs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:Za,U:!0,C:!0},js={endpoint:"verifyPassword",A:function(t){if(Ja(t),!t.password)throw new E("wrong-password")},G:Za,U:!0,C:!0},Us={endpoint:"verifyPhoneNumber",A:ts,G:Za,C:!0},Vs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");ts(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Fo(t);Za(t)}},Bs={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ts,G:Za,C:!0},Hs={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ba]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Ws(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.M))return Ee(new E("internal-error"));var i,r=!!e.La,o=e.Rb||"POST";return we(n).then(e.A).then(function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o,a){var s=Pn(e+n);An(s,"key",t.c),a&&An(s,"cb",_().toString());var u="GET"==i;if(u)for(var c in r)r.hasOwnProperty(c)&&An(s,c,r[c]);return new pe(function(e,n){Ya(t,s.toString(),function(t){t?t.error?n(Ks(t,o||{})):e(t):n(new E("network-request-failed"))},i,u?void 0:zn(ki(r)),t.a,t.i.get())})}(t,r?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)}).then(function(t){return i=t,e.Wa?e.Wa(n,i):i}).then(e.G).then(function(){if(!e.Y)return i;if(!(e.Y in i))throw new E("internal-error");return i[e.Y]})}function qs(t){return Ks({error:{errors:[{message:t}],code:400,message:t}})}function Ks(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new E(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",ft(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new E(i[r],e);return!e&&t&&(e=Ti(t)),new E("internal-error",e)}function Gs(t){var e;this.b=t,this.a=null,this.nb=(e=this,(Xs=Xs||new pe(function(t,e){function n(){Pi(),_i("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Pi(),e(Error("Network Error"))},timeout:Ys.get()})}if(_i("gapi.iframes.Iframe"))t();else if(_i("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){_i("gapi.load")?n():e(Error("Network Error"))},we(Oa(i=wt(Qs,{onload:i}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw Xs=null,t})).then(function(){return new pe(function(t,n){_i("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:_i("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),t()}e.a=i,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},zs.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})}))}var Qs=new pt(mt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ys=new Oi(3e4,6e4),zs=new Oi(5e3,15e3),Xs=null;function Js(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=On(this.i,"/__/auth/iframe"),An(this.a,"apiKey",this.g),An(this.a,"appName",this.h),this.b=null,this.c=[]}function $s(t,e,n,i,r){this.s=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function Zs(e){try{return t.app(e).auth().Ea()}catch(e){return[]}}function tu(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function eu(t){var e=ei();return function(t){return Ws(t,Ss,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Pn(e),i=n.f;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],a=n,s=i;if(a=0==o.indexOf("chrome-extension://")?Pn(o).b==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(ai.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){t=!0;break t}}t=!1}if(!t)throw new Lo(ei())})}function nu(t){return t.l||(t.l=ui().then(function(){if(!t.s){var e=t.c,n=t.h,i=Zs(t.b),r=new Js(t.u,t.f,t.b);r.f=e,r.b=n,r.c=Q(i||[]),t.s=r.toString()}t.i=new Gs(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");var e,n;e=t.i,n=function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Po(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",we(n)}return n.status="ERROR",we(n)},e.nb.then(function(){e.a.register("authEvent",n,_i("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t)})),t.l}function iu(t){return t.m||(t.w=t.c?yi(t.c,Zs(t.b)):null,t.m=new Ua(t.f,N(t.h),t.w)),t.m}function ru(t,e,n,i,r,o,a,s,u,c,l){return(t=new $s(t,e,n,i,r)).l=o,t.g=a,t.i=s,t.b=lt(u||null),t.f=c,t.ub(l).toString()}function ou(e){if(this.a=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function au(t){this.b=t,this.a={},this.f=y(this.c,this)}Js.prototype.toString=function(){return this.f?An(this.a,"v",this.f):qn(this.a.a,"v"),this.b?An(this.a,"eid",this.b):qn(this.a.a,"eid"),this.c.length?An(this.a,"fw",this.c.join(",")):qn(this.a.a,"fw"),this.a.toString()},$s.prototype.ub=function(t){return this.h=t,this},$s.prototype.toString=function(){var e=On(this.s,"/__/auth/handler");if(An(e,"apiKey",this.m),An(e,"appName",this.c),An(e,"authType",this.u),this.a.isOAuthProvider){var n=this.a;try{var i=t.app(this.c).auth().ja()}catch(e){i=null}for(var r in n.kb=i,An(e,"providerId",this.a.providerId),i=ki((n=this.a).Fb))i[r]=i[r].toString();r=n.Oc,i=lt(i);for(var o=0;o<r.length;o++){var a=r[o];a in i&&delete i[a]}n.lb&&n.kb&&!i[n.lb]&&(i[n.lb]=n.kb),ct(i)||An(e,"customParameters",Ti(i))}if("function"==typeof this.a.Nb&&(n=this.a.Nb()).length&&An(e,"scopes",n.join(",")),this.l?An(e,"redirectUrl",this.l):qn(e.a,"redirectUrl"),this.g?An(e,"eventId",this.g):qn(e.a,"eventId"),this.i?An(e,"v",this.i):qn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Rn(e,s)&&An(e,s,this.b[s]);return this.h?An(e,"tid",this.h):qn(e.a,"tid"),this.f?An(e,"eid",this.f):qn(e.a,"eid"),(s=Zs(this.c)).length&&An(e,"fw",s.join(",")),e.toString()},(e=tu.prototype).Lb=function(t,e,n){var i=new E("popup-closed-by-user"),r=new E("web-storage-unsupported"),o=this,a=!1;return this.ka().then(function(){(function(t){var e={type:"webStorageSupport"};return nu(t).then(function(){return function(t,e){return t.nb.then(function(){return new pe(function(n){t.a.send(e.type,e,n,_i("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&ri(t),e(r),a=!0)})}).o(function(){}).then(function(){if(!a)return e=t,new pe(function(t){return function n(){yn(2e3).then(function(){if(e&&!e.closed)return n();t()})}()});var e}).then(function(){if(!a)return yn(n).then(function(){e(i)})})},e.Ub=function(){var t=bi();return!Si(t)&&!Ri(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,i,r,o,a,s){if(!t)return Ee(new E("popup-blocked"));if(a&&!Si())return this.ka().o(function(e){ri(t),r(e)}),i(),we();this.a||(this.a=eu(iu(this)));var u=this;return this.a.then(function(){var e=u.ka().o(function(e){throw ri(t),r(e),e});return i(),e}).then(function(){Ao(n),a||ni(ru(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},e.Kb=function(t,e,n,i){this.a||(this.a=eu(iu(this)));var r=this;return this.a.then(function(){Ao(e),ni(ru(r.u,r.f,r.b,t,e,ei(),n,r.c,void 0,r.h,i))}).o(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},e.ka=function(){var t=this;return nu(this).then(function(){return t.i.nb}).o(function(){throw t.a=null,new E("network-request-failed")})},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){K(this.g,function(e){return e==t})},(e=ou.prototype).get=function(t){return we(this.a.getItem(t)).then(function(t){return t&&Ni(t)})},e.set=function(t,e){return we(this.a.setItem(t,Ti(e)))},e.T=function(t){return we(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var su,uu=[];function cu(t,e,n){ct(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function lu(t){this.a=t}function hu(t){this.c=t,this.b=!1,this.a=[]}function fu(t,e,n,i){var r,o,a,s,u=n||{},c=null;if(t.b)return Ee(Error("connection_unavailable"));var l=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new pe(function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){i(Error("unsupported_event"))},l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:u},[h.port2])):i(Error("connection_unavailable"))}).then(function(e){return du(t,c),e}).o(function(e){throw du(t,c),e})}function du(t,e){if(e){var n=e.messageChannel,i=e.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),K(t.a,function(t){return t==e})}}function pu(){if(!gu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t,e=this;hi()&&self?(this.l=function(){var t=hi()?self:null;if(U(uu,function(n){n.b==t&&(e=n)}),!e){var e=new au(t);uu.push(e)}return e}(),cu(this.l,"keyChanged",function(t,n){return wu(e).then(function(t){return 0<t.length&&U(e.a,function(e){e(t)}),{keyProcessed:W(t,n.key)}})}),cu(this.l,"ping",function(){return we(["keyChanged"])})):(t=a.navigator,t&&t.serviceWorker?we().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):we(null)).then(function(t){(e.h=t)&&(e.g=new hu(new lu(t)),fu(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&W(t[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function vu(t){return t.m||(t.m=function t(e){return new pe(function(n,i){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}i(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){i(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(r):function(t){return new pe(function(e,n){var i=t.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).o(function(t){i(t)})}})}(t)),t.m}function gu(){try{return!!a.indexedDB}catch(t){return!1}}function mu(t){return t.objectStore("firebaseLocalStorage")}function yu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function bu(t){return new pe(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function _u(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?fu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):we()}function wu(t){return vu(t).then(function(t){var e=mu(yu(t,!1));return e.getAll?bu(e.getAll()):new pe(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i})}function Eu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Cu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=we().then(function(){if(gu()){var t=Ai(),i="__sak"+t;return su=su||new pu,(n=su).set(i,t).then(function(){return n.get(i)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(i)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ba(function(t){U(e.a,function(e){e(t)})}),t})}function Iu(){this.a={},this.type="inMemory"}function Su(){if(!function(){var e="Node"==fi();if(!(e=Tu()||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==fi())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Tu()||t.INTERNAL.node.localStorage,this.type="localStorage"}function Tu(){try{var t=a.localStorage,e=Ai();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ku(){this.type="nullStorage"}function Nu(){if(!function(){var e="Node"==fi();if(!(e=Au()||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==fi())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Au()||t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Au(){try{var t=a.sessionStorage,e=Ai();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ru(){var t={};t.Browser=Du,t.Node=xu,t.ReactNative=Lu,t.Worker=Mu,this.a=t[fi()]}au.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];U(i,function(e){r.push(we().then(function(){return e(t.origin,t.data.data)}))}),Ie(r).then(function(i){var r=[];U(i,function(t){r.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})}),U(r,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})})}},lu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},hu.prototype.close=function(){for(;0<this.a.length;)du(this,this.a[0]);this.b=!0},(e=pu.prototype).set=function(t,e){var n,i=!1,r=this;return vu(this).then(function(e){return bu((e=mu(yu(n=e,!0))).get(t))}).then(function(o){var a=mu(yu(n,!0));return o?(o.value=e,bu(a.put(o))):(r.b++,i=!0,(o={}).fbase_key=t,o.value=e,bu(a.add(o)))}).then(function(){return r.c[t]=e,_u(r,t)}).ma(function(){i&&r.b--})},e.get=function(t){return vu(this).then(function(e){return bu(mu(yu(e,!1)).get(t))}).then(function(t){return t&&t.value})},e.T=function(t){var e=!1,n=this;return vu(this).then(function(i){return e=!0,n.b++,bu(mu(yu(i,!0)).delete(t))}).then(function(){return delete n.c[t],_u(n,t)}).ma(function(){e&&n.b--})},e.ba=function(t){0==this.a.length&&function(t){Eu(t),function e(){t.f=setTimeout(function(){t.i=wu(t).then(function(e){0<e.length&&U(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},e.ha=function(t){K(this.a,function(e){return e==t}),0==this.a.length&&Eu(this)},(e=Cu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},e.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},e.T=function(t){return this.b.then(function(e){return e.T(t)})},e.ba=function(t){this.a.push(t)},e.ha=function(t){K(this.a,function(e){return e==t})},(e=Iu.prototype).get=function(t){return we(this.a[t])},e.set=function(t,e){return this.a[t]=e,we()},e.T=function(t){return delete this.a[t],we()},e.ba=function(){},e.ha=function(){},(e=Su.prototype).get=function(t){var e=this;return we().then(function(){return Ni(e.a.getItem(t))})},e.set=function(t,e){var n=this;return we().then(function(){var i=Ti(e);null===i?n.T(t):n.a.setItem(t,i)})},e.T=function(t){var e=this;return we().then(function(){e.a.removeItem(t)})},e.ba=function(t){a.window&&tn(a.window,"storage",t)},e.ha=function(t){a.window&&rn(a.window,"storage",t)},(e=ku.prototype).get=function(){return we(null)},e.set=function(){return we()},e.T=function(){return we()},e.ba=function(){},e.ha=function(){},(e=Nu.prototype).get=function(t){var e=this;return we().then(function(){return Ni(e.a.getItem(t))})},e.set=function(t,e){var n=this;return we().then(function(){var i=Ti(e);null===i?n.T(t):n.a.setItem(t,i)})},e.T=function(t){var e=this;return we().then(function(){e.a.removeItem(t)})},e.ba=function(){},e.ha=function(){};var Pu,Ou,Du={F:Su,$a:Nu},xu={F:Su,$a:Nu},Lu={F:ou,$a:ku},Mu={F:Su,$a:ku},Fu={od:"local",NONE:"none",qd:"session"};function ju(){var t=!(Ri(bi())||!li()),e=Si(),n=wi();this.m=t,this.h=e,this.l=n,this.a={},t=Pu=Pu||new Ru;try{this.g=!ti()&&Li()||!a.indexedDB?new t.a.F:new Cu(hi()?new Iu:new t.a.F)}catch(t){this.g=new Iu,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Iu}this.u=new Iu,this.f=y(this.Vb,this),this.b={}}function Uu(){return Ou=Ou||new ju}function Vu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Bu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Hu(t,e,n){return n=Bu(e,n),"local"==e.F&&(t.b[n]=null),Vu(t,e.F).T(n)}function Wu(t){t.c&&(clearInterval(t.c),t.c=null)}function qu(t){this.a=t,this.b=Uu()}(e=ju.prototype).get=function(t,e){return Vu(this,t.F).get(Bu(t,e))},e.set=function(t,e,n){var i=Bu(t,n),r=this,o=Vu(this,t.F);return o.set(i,e).then(function(){return o.get(i)}).then(function(e){"local"==t.F&&(r.b[i]=e)})},e.addListener=function(t,e,n){var i;t=Bu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ct(this.a)&&(Vu(this,"local").ba(this.f),this.h||(ti()||!Li())&&a.indexedDB||!this.l||(Wu(i=this),i.c=setInterval(function(){for(var t in i.a){var e=a.localStorage.getItem(t),n=i.b[t];e!=n&&(i.b[t]=e,e=new We({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),i.Vb(e))}},1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Bu(t,e),this.a[t]&&(K(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ct(this.a)&&(Vu(this,"local").ha(this.f),Wu(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Vu(this,"local").ha(this.f):Wu(this),this.m)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.ib(e))},Wt&&$t&&10==$t&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else U(t,y(this.ib,this))},e.ib=function(t){this.a[t]&&U(this.a[t],function(t){t()})};var Ku,Gu={name:"authEvent",F:"local"};function Qu(){this.a=Uu()}function Yu(t,e){this.b=zu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Ku&&(Ku=a.Int32Array?new Int32Array(nc):nc),this.reset()}w(Yu,function(){this.b=-1});for(var zu=64,Xu=zu-1,Ju=[],$u=0;$u<Xu;$u++)Ju[$u]=0;var Zu=G(128,Ju);function tc(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;e<64;e++){r=0|n[e-15],i=0|n[e-2];var o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Ku[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=r,r=i,i=a+f|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ec(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(tc(t),r=0);else{if(!h(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(tc(t),r=0)}}t.c=r,t.g+=n}Yu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var nc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ic(){Yu.call(this,8,rc)}w(ic,Yu);var rc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function oc(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.s=r||null,this.h=e+":"+n,this.w=new Qu,this.g=new qu(this.h),this.f=null,this.b=[],this.a=this.c=null}function ac(t){return new E("invalid-cordova-configuration",t)}function sc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function uc(t){return t.f||(t.f=t.ka().then(function(){return new pe(function(e){t.Ca(function n(i){return e(i),t.Qa(n),!1}),function(t){function e(e){i=!0,r&&r.cancel(),cc(t).then(function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=Yr(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ni(Rn(o=Pn(r),"firebaseError")||null))?C(o):null)?new Ro(i.c,i.b,null,null,o,null,i.S()):new Ro(i.c,i.b,r,i.f,null,null,i.S())),r=o||n}sc(t,r)})}var n=new Ro("unknown",null,null,null,new E("no-auth-event")),i=!1,r=yn(500).then(function(){return cc(t).then(function(){i||sc(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(_i("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},xo=xo||new Oo,function(t){var e=xo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=_i("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function cc(t){var e,n=null;return(e=t.g,e.b.get(Gu,e.a).then(function(t){return Po(t)})).then(function(e){return n=e,Hu((e=t.g).b,Gu,e.a)}).then(function(){return n})}function lc(t){this.a=t,this.b=Uu()}(e=oc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(ci(void 0)?ui().then(function(){return new pe(function(t,e){var n=a.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Ee(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof _i("universalLinks.subscribe",a))throw ac("cordova-universal-links-plugin-fix is not installed");if(void 0===_i("BuildInfo.packageName",a))throw ac("cordova-plugin-buildinfo is not installed");if("function"!=typeof _i("cordova.plugins.browsertab.openUrl",a))throw ac("cordova-plugin-browsertab is not installed");if("function"!=typeof _i("cordova.InAppBrowser.open",a))throw ac("cordova-plugin-inappbrowser is not installed")},function(){throw new E("cordova-not-ready")})},e.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),we()},e.Jb=function(){return Ee(new E("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,i){if(this.c)return Ee(new E("redirect-operation-pending"));var r=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=we().then(function(){return Ao(e),uc(r)}).then(function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Ro(e,i,null,o,new E("no-auth-event"),null,r),u=_i("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=_i("BuildInfo.displayName",a),l={};if(bi().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!bi().toLowerCase().match(/android/))return Ee(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new ic;ec(e,t),t=[];var n=8*e.g;e.c<56?ec(e,Zu,56-e.c):ec(e,Zu,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(tc(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return B(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=ru(t.u,t.i,t.l,e,n,null,i,t.m,l,t.s,r);return t.ka().then(function(){var e=t.h;return t.w.a.set(Gu,s.v(),e)}).then(function(){var e=_i("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=_i("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=_i("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=bi(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n,i)}).then(function(){return new pe(function(t,e){u=function(){var e=_i("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ca(u),c=function(){s=s||yn(2e3).then(function(){e(new E("redirect-cancelled-by-user"))})},l=function(){Di()&&c()},o.addEventListener("resume",c,!1),bi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return cc(r).then(function(){throw t})})}).ma(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&r.Qa(u),r.c=null})},e.Ca=function(t){this.b.push(t),uc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ro("unknown",null,null,null,new E("no-auth-event")),t(e))})},e.Qa=function(t){K(this.b,function(e){return e==t})};var hc={name:"pendingRedirect",F:"session"};function fc(t){return Hu(t.b,hc,t.a)}function dc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=y(this.s,this),this.b=new kc,this.B=new Oc,this.g=new lc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=pc(this.D,this.u,this.m,I)}function pc(e,n,i,r){var o=t.SDK_VERSION||null;return ci()?new oc(e,n,i,o,r):new tu(e,n,i,o,r)}function vc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o(function(n){throw t.a==e&&t.reset(),n})}function gc(t){t.a.Ub()&&vc(t).o(function(e){var n=new Ro("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Ec(e)&&t.s(n)}),t.a.Qb()||Nc(t.b)}function mc(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(hc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?fc(t.g).then(function(){vc(t).o(function(e){var n=new Ro("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Ec(e)&&t.s(n)})}):gc(t)}).o(function(){gc(t)})}function yc(t,e){K(t.h,function(t){return t==e})}dc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=pc(this.D,this.u,this.m),this.i={}},dc.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=_()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=_())),e=!0;break}}return Nc(this.b),e};var bc=new Oi(2e3,1e4),_c=new Oi(3e4,6e4);function wc(t,e,n,i,r,o,a){return t.a.Jb(e,n,i,function(){t.f||(t.f=!0,t.a.Ca(t.l))},function(){t.reset()},r,o,a)}function Ec(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Cc(t,e,n,i,r){var o;return function(t){return t.b.set(hc,"pending",t.a)}(t.g).then(function(){return t.a.Kb(e,n,i,r).o(function(e){if(Ec(e))throw new E("operation-not-supported-in-this-environment");return o=e,fc(t.g).then(function(){throw o})}).then(function(){return t.a.Xb()?new pe(function(){}):fc(t.g).then(function(){return t.pa()}).then(function(){}).o(function(){})})})}function Ic(t,e,n,i,r){return t.a.Lb(i,function(t){e.la(n,null,t,r)},bc.get())}dc.prototype.pa=function(){return this.b.pa()};var Sc={};function Tc(t,e,n){var i=e+":"+n;return Sc[i]||(Sc[i]=new dc(t,e,n)),Sc[i]}function kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Nc(t){t.g||(t.g=!0,Pc(t,!1,null,null))}function Ac(t){t.g&&!t.i&&Pc(t,!1,null,null)}function Rc(t,e){if(t.b=function(){return we(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Pc(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Ee(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Rc(t,n):Rc(t,{user:null}),t.f=[],t.c=[]}function Oc(){}function Dc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function xc(t,e){this.a=e,Vi(this,"verificationId",t)}function Lc(t,e,n,i){return new To(t).cb(e,n).then(function(t){return new xc(t,i)})}function Mc(t){var e=xr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Bi(this,{token:t,expirationTime:xi(1e3*e.exp),authTime:xi(1e3*e.auth_time),issuedAtTime:xi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Fc(t,e,n){var i=e&&e[Uc];if(!i)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=lt(e),this.g=n,this.c=new zr(null,i),this.b=[];var r=this;U(e[jc]||[],function(t){(t=Ki(t))&&r.b.push(t)}),Vi(this,"auth",this.a),Vi(this,"session",this.c),Vi(this,"hints",this.b)}kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Pc(this,!0,null,t.a),we()):e.Da(n,i)?function(t,e,n){n=n.Da(e.c,e.b);var i=e.g,r=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(i,r,a,o).then(function(e){Pc(t,s,e,null)}).o(function(e){Pc(t,s,null,e)})}(this,t,e):Ee(new E("invalid-auth-event")):(Pc(this,!1,null,null),we())}else Ee(new E("invalid-auth-event"))},kc.prototype.pa=function(){var t=this;return new pe(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=yn(_c.get()).then(function(){t.b||(t.g=!0,Pc(t,!0,null,e))})}(t))})},Oc.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.la(t.c,null,t.a,t.b),we()):e.Da(n,i)?function(t,e){var n=t.b,i=t.c;e.Da(i,n)(t.g,t.f,t.S(),t.i).then(function(t){e.la(i,t,null,n)}).o(function(t){e.la(i,null,t,n)})}(t,e):Ee(new E("invalid-auth-event"))}else Ee(new E("invalid-auth-event"))},xc.prototype.confirm=function(t){return t=ko(this.verificationId,t),this.a(t)};var jc="mfaInfo",Uc="mfaPendingCredential";function Vc(t,e,n,i){E.call(this,"multi-factor-auth-required",i,e),this.b=new Fc(t,e,n),Vi(this,"resolver",this.b)}function Bc(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Vc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Hc(){}function Wc(t){Vi(this,"factorId",t.ea),this.a=t}function qc(t){if(Wc.call(this,t),this.a.ea!=To.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Kc(t,e){for(var n in He.call(this,t),e)this[n]=e[n]}function Gc(t,e){this.a=t,this.b=[],this.c=y(this.wc,this),tn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&U(e.multiFactor.enrolledFactors,function(t){var e=null,i={};if(t){t.uid&&(i[Yi]=t.uid),t.displayName&&(i[Gi]=t.displayName),t.enrollmentTime&&(i[Qi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[zi]=t.phoneNumber);try{e=new Xi(i)}catch(t){}t=e}else t=null;t&&n.push(t)}),Qc(this,n)}function Qc(t,e){t.b=e,Vi(t,"enrolledFactors",e)}function Yc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function zc(t){this.c=t,this.b=this.a=null}function Xc(t){return t.b&&1e3*t.b.c||0}function Jc(t,e){var n=e.refreshToken;t.b=Dr(e[Ba]||""),t.a=n}function $c(t,e){this.a=t||null,this.b=e||null,Bi(this,{lastSignInTime:xi(e||null),creationTime:xi(t||null)})}function Zc(t,e,n,i,r,o){Bi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function tl(e,n,i){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null,e=t.SDK_VERSION?yi(t.SDK_VERSION):null,this.a=new Ua(this.l,N(I),e),this.b=new zc(this.a),sl(this,n[Ba]),Jc(this.b,n),Vi(this,"refreshToken",this.b.a),ll(this,i||{}),dn.call(this),this.P=!1,this.s&&Ei()&&(this.i=Tc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Yc(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=Xc(t.b)-_()-3e5;return 0<e?e:0})}(this),this.Z=y(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){nl(r,t.c)},this.$=null,this.O=new Gc(this,i),Vi(this,"multiFactor",this.O)}function el(t,e){t.aa&&rn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&tn(e,"languageCodeChanged",t.za)}function nl(e,n){e.W=n,Qa(e.a,t.SDK_VERSION?yi(t.SDK_VERSION,e.W):null)}function il(t,e){t.$&&rn(t.$,"frameworkChanged",t.ya),(t.$=e)&&tn(e,"frameworkChanged",t.ya)}function rl(e){try{return t.app(e.m).auth()}catch(t){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function ol(t){t.D||t.B.b||(t.B.start(),rn(t,"tokenChanged",t.Z),tn(t,"tokenChanged",t.Z))}function al(t){rn(t,"tokenChanged",t.Z),t.B.stop()}function sl(t,e){t.xa=e,Vi(t,"_lat",e)}function ul(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ie(e).then(function(){return t})}function cl(t){t.i&&!t.P&&(t.P=!0,mc(t.i,t))}function ll(t,e){Bi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new $c(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function hl(){}function fl(t){return we().then(function(){if(t.D)throw new E("app-deleted")})}function dl(t){return B(t.providerData,function(t){return t.providerId})}function pl(t,e){e&&(vl(t,e.providerId),t.providerData.push(e))}function vl(t,e){K(t.providerData,function(t){return t.providerId==e})}function gl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Vi(t,e,n)}function ml(t,e){t!=e&&(Bi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Vi(t,"metadata",function(t){return new $c(t.a,t.b)}(e.metadata)):Vi(t,"metadata",new $c),U(e.providerData,function(e){pl(t,e)}),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Vi(t,"refreshToken",t.b.a),Qc(t.O,e.O.b))}function yl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Ws(t.a,_s,{idToken:e}).then(y(t.Ic,t))}(t,e).then(function(){return n||gl(t,"isAnonymous",!1),e})})}function bl(t,e){e[Ba]&&t.xa!=e[Ba]&&(Jc(t.b,e),t.dispatchEvent(new Kc("tokenChanged")),sl(t,e[Ba]),gl(t,"refreshToken",t.b.a))}function _l(t,e){return yl(t).then(function(){if(W(dl(t),e))return ul(t).then(function(){throw new E("provider-already-linked")})})}function wl(t,e,n){return Hi({user:t,credential:No(e),additionalUserInfo:e=Ur(e),operationType:n})}function El(t,e){return bl(t,e),t.reload().then(function(){return t})}function Cl(e,n,i,r,o){if(!Ei())return Ee(new E("operation-not-supported-in-this-environment"));if(e.h&&!o)return Ee(e.h);var a=jr(i.providerId),s=Ai(e.uid+":::"),u=null;(!Si()||li())&&e.s&&i.isOAuthProvider&&(u=ru(e.s,e.l,e.m,n,i,null,s,t.SDK_VERSION||null,null,null,e.tenantId));var c=oi(u,a&&a.ta,a&&a.sa);return r=r().then(function(){if(Sl(e),!o)return e.I().then(function(){})}).then(function(){return wc(e.i,c,n,i,s,!!u,e.tenantId)}).then(function(){return new pe(function(t,i){e.la(n,null,new E("cancelled-popup-request"),e.g||null),e.f=t,e.w=i,e.g=s,e.c=Ic(e.i,e,n,c,s)})}).then(function(t){return c&&ri(c),t?Hi(t):null}).o(function(t){throw c&&ri(c),t}),Tl(e,r,o)}function Il(t,e,n,i,r){if(!Ei())return Ee(new E("operation-not-supported-in-this-environment"));if(t.h&&!r)return Ee(t.h);var o=null,a=Ai(t.uid+":::");return i=i().then(function(){if(Sl(t),!r)return t.I().then(function(){})}).then(function(){return t.fa=a,ul(t)}).then(function(e){return t.ga&&(e=(e=t.ga).b.set(Al,t.v(),e.a)),e}).then(function(){return Cc(t.i,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ga)return Rl(t.ga);throw o}).then(function(){if(o)throw o}),Tl(t,i,r)}function Sl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Tl(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),Ee(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Kc("userInvalidated")),t.h=e),e})}(t,e,n);return t.N.push(i),i.ma(function(){q(t.N,i)}),i.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Bc(e.v(),rl(t),y(t.hc,t))),n||e})}function kl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ba]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=new tl(e,n,t);return t.providerData&&U(t.providerData,function(t){t&&pl(i,Hi(t))}),t.redirectEventId&&(i.fa=t.redirectEventId),i}function Nl(t){this.a=t,this.b=Uu()}Fc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then(function(t){var n=lt(e.f);return delete n[jc],delete n[Uc],ft(n,t),e.g(n)})},w(Vc,E),Hc.prototype.ob=function(t,e,n){return e.type==Xr?function(t,e,n,i){return n.Fa().then(function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),ft(n,{phoneVerificationInfo:So(t.a)}),Ws(e,ys,n)})}(this,t,e,n):function(t,e,n){return n.Fa().then(function(n){return ft(n={mfaPendingCredential:n},{phoneVerificationInfo:So(t.a)}),Ws(e,bs,n)})}(this,t,e)},w(Wc,Hc),w(qc,Wc),w(Kc,He),(e=Gc.prototype).wc=function(t){Qc(this,function(t){var e=[];return U(t.mfaInfo||[],function(t){(t=Ki(t))&&e.push(t)}),e}(t.ed))},e.Ob=function(){return this.a.I().then(function(t){return new zr(t,null)})},e.dc=function(t,e){var n=this,i=this.a.a;return this.Ob().then(function(n){return t.ob(i,n,e)}).then(function(t){return bl(n.a,t),n.a.reload()})},e.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then(function(t){return Ws(i,Hs,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var i=V(e.b,function(t){return t.uid!=n});return Qc(e,i),bl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},e.v=function(){return{multiFactor:{enrolledFactors:B(this.b,function(t){return t.v()})}}},Yc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=yn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=a.document,e=null,Di()||!t?we():new pe(function(n){e=function(){Di()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).o(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Yc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},zc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Xc(this)}},zc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ee(new E("user-token-expired")):t||!this.b||_()>Xc(this)-3e4?this.a?function(t,e){return function(t,e){return new pe(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ya(t,t.u+"?key="+encodeURIComponent(t.c),function(t){t?t.error?i(Ks(t)):t.access_token&&t.refresh_token?n(t):i(new E("internal-error")):i(new E("network-request-failed"))},"POST",Wn(e).toString(),t.g,t.m.get()):i(new E("internal-error"))})}(t.c,e).then(function(e){return t.b=Dr(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):we(null):we({accessToken:this.b.toString(),refreshToken:this.a})},$c.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(tl,dn),tl.prototype.va=function(t){this.oa=t,Ga(this.a,t)},tl.prototype.ja=function(){return this.oa},tl.prototype.Ea=function(){return Q(this.W)},tl.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Vi(tl.prototype,"providerId","firebase"),(e=tl.prototype).reload=function(){var t=this;return Tl(this,fl(this).then(function(){return yl(t).then(function(){return ul(t)}).then(hl)}))},e.mc=function(t){return this.I(t).then(function(t){return new Mc(t)})},e.I=function(t){var e=this;return Tl(this,fl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(sl(e,t.accessToken),e.dispatchEvent(new Kc("tokenChanged"))),gl(e,"refreshToken",t.refreshToken),t.accessToken}))},e.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");ll(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,function(t){return new Zc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)pl(this,e[n]);gl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Kc("userReloaded",{ed:t}))},e.Jc=function(t){return ji("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,n=null;return Tl(this,t.c(this.a,this.uid).then(function(t){return bl(e,t),n=wl(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},e.Ac=function(t){return ji("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},e.mb=function(t){var e=this,n=null;return Tl(this,_l(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=wl(e,t,"link"),El(e,t)}).then(function(){return n}))},e.Bc=function(t,e){var n=this;return Tl(this,_l(this,"phone").then(function(){return Lc(rl(n),t,e,y(n.mb,n))}))},e.Kc=function(t,e){var n=this;return Tl(this,we().then(function(){return Lc(rl(n),t,e,y(n.pb,n))}),!0)},e.xb=function(t){var e=this;return Tl(this,this.I().then(function(n){return e.a.xb(n,t)}).then(function(t){return bl(e,t),e.reload()}))},e.cd=function(t){var e=this;return Tl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return bl(e,t),e.reload()}))},e.yb=function(t){var e=this;return Tl(this,this.I().then(function(n){return e.a.yb(n,t)}).then(function(t){return bl(e,t),e.reload()}))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return fl(this);var e=this;return Tl(this,this.I().then(function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return bl(e,t),gl(e,"displayName",t.displayName||null),gl(e,"photoURL",t.photoUrl||null),U(e.providerData,function(t){"password"===t.providerId&&(Vi(t,"displayName",e.displayName),Vi(t,"photoURL",e.photoURL))}),ul(e)}).then(hl))},e.ad=function(t){var e=this;return Tl(this,yl(this).then(function(n){return W(dl(e),t)?function(t,e,n){return Ws(t,vs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return U(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),U(dl(e),function(t){n[t]||vl(e,t)}),n[To.PROVIDER_ID]||Vi(e,"phoneNumber",null),ul(e)}):ul(e).then(function(){throw new E("no-such-provider")})}))},e.delete=function(){var t=this;return Tl(this,this.I().then(function(e){return Ws(t.a,ps,{idToken:e})}).then(function(){t.dispatchEvent(new Kc("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");el(t,null),il(t,null),t.N=[],t.D=!0,al(t),Vi(t,"refreshToken",null),t.i&&yc(t.i,t)})},e.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},e.la=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?y(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?y(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?y(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?y(this.Ib,this):null},e.Cc=function(t){var e=this;return Cl(this,"linkViaPopup",t,function(){return _l(e,t.providerId).then(function(){return ul(e)})},!1)},e.Lc=function(t){return Cl(this,"reauthViaPopup",t,function(){return we()},!0)},e.Dc=function(t){var e=this;return Il(this,"linkViaRedirect",t,function(){return _l(e,t.providerId)},!1)},e.Mc=function(t){return Il(this,"reauthViaRedirect",t,function(){return we()},!0)},e.Hb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tl(this,this.I().then(function(n){return ss(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})}).then(function(t){return o=wl(r,t,"link"),El(r,t)}).then(function(){return o}))},e.Ib=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tl(this,we().then(function(){return Zr(us(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)}).then(function(t){return o=wl(r,t,"reauthenticate"),bl(r,t),r.h=null,r.reload()}).then(function(){return o}),!0)},e.qb=function(t){var e=this,n=null;return Tl(this,this.I().then(function(e){return n=e,void 0===t||ct(t)?{}:Rr(new _r(t))}).then(function(t){return e.a.qb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},e.Ab=function(t,e){var n=this,i=null;return Tl(this,this.I().then(function(t){return i=t,void 0===e||ct(e)?{}:Rr(new _r(e))}).then(function(e){return n.a.Ab(i,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},e.hc=function(t){var e=null,n=this;return Tl(this,t=Zr(we(t),n.uid).then(function(t){return e=wl(n,t,"reauthenticate"),bl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&ft(t,this.metadata.v()),U(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),ft(t,this.O.v()),t};var Al={name:"redirectUser",F:"session"};function Rl(t){return Hu(t.b,Al,t.a)}function Pl(t){var e,n,i,r;this.a=t,this.b=Uu(),this.c=null,this.f=(e=this,n=xl("local"),i=xl("session"),r=xl("none"),function(t,e,n){var i=Bu(e,n),r=Vu(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Ni(a.localStorage.getItem(i))}catch(o){}if(s&&!o)return a.localStorage.removeItem(i),t.set(e,s,n);s&&o&&"localStorage"!=r.type&&a.localStorage.removeItem(i)})}(e.b,n,e.a).then(function(){return e.b.get(i,e.a)}).then(function(t){return t?i:e.b.get(r,e.a).then(function(t){return t?r:e.b.get(n,e.a).then(function(t){return t?n:e.b.get(Dl,e.a).then(function(t){return t?xl(t):n})})})}).then(function(t){return e.c=t,Ol(e,t.F)}).o(function(){e.c||(e.c=n)})),this.b.addListener(xl("local"),this.a,y(this.g,this))}function Ol(t,e){var n,i,r=[];for(n in Fu)Fu[n]!==e&&r.push(Hu(t.b,xl(Fu[n]),t.a));return r.push(Hu(t.b,Dl,t.a)),i=r,new pe(function(t,e){var n=i.length,r=[];if(n)for(var o=function(e,i){n--,r[e]=i,0==n&&t(r)},a=function(t){e(t)},s=0;s<i.length;s++)Ce(i[s],b(o,s),a);else t(r)})}Pl.prototype.g=function(){var t=this,e=xl("local");jl(this,function(){return we().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Ol(t,"local").then(function(){t.c=e})})})};var Dl={name:"persistence",F:"session"};function xl(t){return{name:"authUser",F:t}}function Ll(t,e){return jl(t,function(){return t.b.set(t.c,e.v(),t.a)})}function Ml(t){return jl(t,function(){return Hu(t.b,t.c,t.a)})}function Fl(t,e){return jl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),kl(t||{})})})}function jl(t,e){return t.f=t.f.then(e,e),t.f}function Ul(e){if(this.l=!1,Vi(this,"settings",new Dc),Vi(this,"app",e),!Gl(this).options||!Gl(this).options.apiKey)throw new E("invalid-api-key");var n;e=t.SDK_VERSION?yi(t.SDK_VERSION):null,this.b=new Ua(Gl(this).options&&Gl(this).options.apiKey,N(I),e),this.P=[],this.m=[],this.O=[],this.$b=t.INTERNAL.createSubscribe(y(this.xc,this)),this.W=void 0,this.ac=t.INTERNAL.createSubscribe(y(this.yc,this)),ql(this,null),this.i=new Pl(Gl(this).options.apiKey+":"+Gl(this).name),this.B=new Nl(Gl(this).options.apiKey+":"+Gl(this).name),this.Z=Xl(this,function(t){var e=Gl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Al,t.a).then(function(t){return t&&e&&(t.authDomain=e),kl(t||{})})}(t.B,Gl(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ga=t.B),Rl(t.B)});return Xl(t,e)}(t).then(function(){return Fl(t.i,e)}).then(function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then(function(){return Ll(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Ml(t.i)})):null}).then(function(e){ql(t,e||null)});return Xl(t,n)}(this)),this.h=Xl(this,(n=this).Z.then(function(){return Wl(n)}).o(function(){}).then(function(){if(!n.l)return n.oa()}).o(function(){}).then(function(){if(!n.l){n.aa=!0;var t=n.i;t.b.addListener(xl("local"),t.a,n.oa)}})),this.aa=!1,this.oa=y(this.Xc,this),this.Ma=y(this.ca,this),this.xa=y(this.jc,this),this.ya=y(this.uc,this),this.za=y(this.vc,this),this.a=null,function(t){var e=Gl(t).options.authDomain,n=Gl(t).options.apiKey;e&&Ei()&&(t.Zb=t.Z.then(function(){if(!t.l){if(t.a=Tc(e,n,Gl(t).name),mc(t.a,t),Ql(t)&&cl(Ql(t)),t.D){cl(t.D);var i=t.D;i.va(t.ja()),el(i,t),nl(i=t.D,t.N),il(i,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.Ec,this),this.s=0,dn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Vl(t){He.call(this,"languageCodeChanged"),this.g=t}function Bl(t){He.call(this,"frameworkChanged"),this.c=t}function Hl(t){return t.Zb||Ee(new E("auth-domain-config-required"))}function Wl(t){if(!Ei())return Ee(new E("operation-not-supported-in-this-environment"));var e=Hl(t).then(function(){return t.a.pa()}).then(function(t){return t?Hi(t):null});return Xl(t,e)}function ql(t,e){Ql(t)&&(function(t,e){K(t.R,function(t){return t==e})}(Ql(t),t.Ma),rn(Ql(t),"tokenChanged",t.xa),rn(Ql(t),"userDeleted",t.ya),rn(Ql(t),"userInvalidated",t.za),al(Ql(t))),e&&(e.R.push(t.Ma),tn(e,"tokenChanged",t.xa),tn(e,"userDeleted",t.ya),tn(e,"userInvalidated",t.za),0<t.s&&ol(e)),Vi(t,"currentUser",e),e&&(e.va(t.ja()),el(e,t),nl(e,t.N),il(e,t))}function Kl(t,e){var n=null,i=null;return Xl(t,e.then(function(e){return n=No(e),i=Ur(e),function(t,e){var n={};return n.apiKey=Gl(t).options.apiKey,n.authDomain=Gl(t).options.authDomain,n.appName=Gl(t).name,t.Z.then(function(){return function(t,e,n,i){var r=new tl(t,e);return n&&(r.ga=n),i&&nl(r,i),r.reload().then(function(){return r})}(n,e,t.B,t.Ea())}).then(function(e){return Ql(t)&&e.uid==Ql(t).uid?ml(Ql(t),e):(ql(t,e),cl(e)),t.ca(e)}).then(function(){zl(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Bc(e.v(),t,y(t.ic,t))),n||e}).then(function(){return Hi({user:Ql(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function Gl(t){return t.app}function Ql(t){return t.currentUser}function Yl(t){return Ql(t)&&Ql(t)._lat||null}function zl(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Yl(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Yl(t))}}function Xl(t,e){return t.P.push(e),e.ma(function(){q(t.P,e)}),e}function Jl(){}function $l(){this.a={},this.b=1e12}Pl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(i in Fu)if(Fu[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(fi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!wi()&&"none"!==t)throw n}}(t),jl(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(i){return e=i,Ol(n,t)}).then(function(){if(n.c=xl(t),e)return n.b.set(n.c,e,n.a)}):we()})},w(Ul,dn),w(Vl,He),w(Bl,He),(e=Ul.prototype).tb=function(t){return Xl(this,t=this.i.tb(t))},e.va=function(t){this.$===t||this.l||(this.$=t,Ga(this.b,this.$),this.dispatchEvent(new Vl(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(e){this.N.push(e),Qa(this.b,t.SDK_VERSION?yi(t.SDK_VERSION,this.N):null),this.dispatchEvent(new Bl(this.N))},e.Ea=function(){return Q(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:Gl(this).options.apiKey,authDomain:Gl(this).options.authDomain,appName:Gl(this).name,currentUser:Ql(this)&&Ql(this).v()}},e.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?y(this.gc,this):null},e.gc=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.Z.then(function(){return Kl(r,as(r.b,o))})},e.Vc=function(e){if(!Ei())return Ee(new E("operation-not-supported-in-this-environment"));var n=this,i=jr(e.providerId),r=Ai(),o=null;(!Si()||li())&&Gl(this).options.authDomain&&e.isOAuthProvider&&(o=ru(Gl(this).options.authDomain,Gl(this).options.apiKey,Gl(this).name,"signInViaPopup",e,null,r,t.SDK_VERSION||null,null,null,this.S()));var a=oi(o,i&&i.ta,i&&i.sa);return Xl(this,i=Hl(this).then(function(t){return wc(t,a,"signInViaPopup",e,r,!!o,n.S())}).then(function(){return new pe(function(t,e){n.la("signInViaPopup",null,new E("cancelled-popup-request"),n.g),n.f=t,n.w=e,n.g=r,n.c=Ic(n.a,n,"signInViaPopup",a,r)})}).then(function(t){return a&&ri(a),t?Hi(t):null}).o(function(t){throw a&&ri(a),t}))},e.Wc=function(t){if(!Ei())return Ee(new E("operation-not-supported-in-this-environment"));var e=this;return Xl(this,Hl(this).then(function(){return jl(t=e.i,function(){return t.b.set(Dl,t.c.F,t.a)});var t}).then(function(){return Cc(e.a,"signInViaRedirect",t,void 0,e.S())}))},e.pa=function(){var t=this;return Wl(this).then(function(e){return t.a&&Ac(t.a.b),e}).o(function(e){throw t.a&&Ac(t.a.b),e})},e.bd=function(t){if(!t)return Ee(new E("null-user"));if(this.R!=t.tenantId)return Ee(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=Gl(this).options.apiKey,n.authDomain=Gl(this).options.authDomain,n.appName=Gl(this).name;var i=function(t,e,n,i){var r=t.b,o={};return o[Ba]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new tl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),i&&nl(e,i),ml(e,t),e}(t,n,e.B,e.Ea());return Xl(this,this.h.then(function(){if(Gl(e).options.apiKey!=t.l)return i.reload()}).then(function(){return Ql(e)&&t.uid==Ql(e).uid?(ml(Ql(e),t),e.ca(t)):(ql(e,i),cl(i),e.ca(i))}).then(function(){zl(e)}))},e.wb=function(){var t=this;return Xl(this,this.h.then(function(){return t.a&&Ac(t.a.b),Ql(t)?(ql(t,null),Ml(t.i).then(function(){zl(t)})):we()}))},e.Xc=function(){var t=this;return Fl(this.i,Gl(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Ql(t)&&e){n=Ql(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return ml(Ql(t),e),Ql(t).I();(Ql(t)||e)&&(ql(t,e),e&&(cl(e),e.ga=t.B),t.a&&mc(t.a,t),zl(t))}})},e.ca=function(t){return Ll(this.i,t)},e.jc=function(){zl(this),this.ca(Ql(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then(function(){return Kl(e,we(t))})},e.xc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Ql(e))})},e.yc=function(t){var e=this;!function(t,e){t.O.push(e),Xl(t,t.h.then(function(){!t.l&&W(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Yl(t)))}))}(this,function(){t.next(Ql(e))})},e.Gc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then(function(){f(t)?t(Ql(i)):f(t.next)&&t.next(Ql(i))}),this.$b(t,e,n)},e.Fc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then(function(){i.W=i.getUid(),f(t)?t(Ql(i)):f(t.next)&&t.next(Ql(i))}),this.ac(t,e,n)},e.kc=function(t){var e=this;return Xl(this,this.h.then(function(){return Ql(e)?Ql(e).I(t).then(function(t){return{accessToken:t}}):null}))},e.Rc=function(t){var e=this;return this.h.then(function(){return Kl(e,Ws(e.b,Fs,{token:t}))}).then(function(t){var n=t.user;return gl(n,"isAnonymous",!1),e.ca(n),t})},e.Sc=function(t,e){var n=this;return this.h.then(function(){return Kl(n,Ws(n.b,js,{email:t,password:e}))})},e.cc=function(t,e){var n=this;return this.h.then(function(){return Kl(n,Ws(n.b,fs,{email:t,password:e}))})},e.Ya=function(t){var e=this;return this.h.then(function(){return Kl(e,t.ia(e.b))})},e.Qc=function(t){return ji("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},e.vb=function(){var t=this;return this.h.then(function(){var e=Ql(t);return e&&e.isAnonymous?Hi({user:e,credential:null,additionalUserInfo:Hi({providerId:null,isNewUser:!1}),operationType:"signIn"}):Kl(t,t.b.vb()).then(function(e){var n=e.user;return gl(n,"isAnonymous",!0),t.ca(n),e})})},e.getUid=function(){return Ql(this)&&Ql(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Ql(this)&&ol(Ql(this))},e.Nc=function(t){var e=this;U(this.m,function(n){n==t&&e.s--}),this.s<0&&(this.s=0),0==this.s&&Ql(this)&&al(Ql(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),Xl(this,this.h.then(function(){e.l||W(e.m,t)&&t(Yl(e))}))},e.removeAuthTokenListener=function(t){K(this.m,function(e){return e==t})},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(xl("local"),t.a,this.oa),this.a&&(yc(this.a,this),Ac(this.a.b)),Promise.resolve()},e.fc=function(t){return Xl(this,function(t,e){return Ws(t,ds,{identifier:e,continueUri:Ci()?ei():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},e.zc=function(t){return!!Eo(t)},e.sb=function(t,e){var n=this;return Xl(this,we().then(function(){var t=new _r(e);if(!t.c)throw new E("argument-error",Cr+" must be true when sending sign in link to email");return Rr(t)}).then(function(e){return n.b.sb(t,e)}).then(function(){}))},e.fd=function(t){return this.Pa(t).then(function(t){return t.data.email})},e.jb=function(t,e){return Xl(this,this.b.jb(t,e).then(function(){}))},e.Pa=function(t){return Xl(this,this.b.Pa(t).then(function(t){return new Ji(t)}))},e.fb=function(t){return Xl(this,this.b.fb(t).then(function(){}))},e.rb=function(t,e){var n=this;return Xl(this,we().then(function(){return void 0===e||ct(e)?{}:Rr(new _r(e))}).then(function(e){return n.b.rb(t,e)}).then(function(){}))},e.Uc=function(t,e){return Xl(this,Lc(this,t,e,y(this.Ya,this)))},e.Tc=function(t,e){var n=this;return Xl(this,we().then(function(){var i=e||ei(),r=wo(t,i);if(!(i=Eo(i)))throw new E("argument-error","Invalid email link!");if(i.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(r)}))},Jl.prototype.render=function(){},Jl.prototype.reset=function(){},Jl.prototype.getResponse=function(){},Jl.prototype.execute=function(){};var Zl=null;function th(t,e){return(e=eh(e))&&t.a[e]||null}function eh(t){return(t=void 0===t?1e12:t)?t.toString():null}function nh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ne(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():tn(this.f,"click",this.i)}function ih(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function rh(){}function oh(){}$l.prototype.render=function(t,e){return this.a[this.b.toString()]=new nh(t,e),this.b++},$l.prototype.reset=function(t){var e=th(this,t);t=eh(t),e&&t&&(e.delete(),delete this.a[t])},$l.prototype.getResponse=function(t){return(t=th(this,t))?t.getResponse():null},$l.prototype.execute=function(t){(t=th(this,t))&&t.execute()},nh.prototype.getResponse=function(){return ih(this),this.b},nh.prototype.execute=function(){ih(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(e){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},nh.prototype.delete=function(){ih(this),this.g=!0,clearTimeout(this.a),this.a=null,rn(this.f,"click",this.i)},Vi(rh,"FACTOR_ID","phone"),oh.prototype.g=function(){return we(Zl=Zl||new $l)},oh.prototype.c=function(){};var ah=null;function sh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var uh=new pt(mt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ch=new Oi(3e4,6e4);sh.prototype.g=function(t){var e=this;return new pe(function(n,i){var r=setTimeout(function(){i(new E("network-request-failed"))},ch.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new E("internal-error"));delete a[e.a]},we(Oa(wt(uh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(r),i(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),n(a.grecaptcha))})},sh.prototype.c=function(){this.b--};var lh=null;function hh(t,e,n,i,r,o,s){if(Vi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s=s?ah=ah||new oh:lh=lh||new sh,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[ph])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[vh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ne(e)||!this.i&&ne(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ua(t,o||null,r||null),this.w=i||function(){return null};var u=this;this.l=[];var c=this.a[fh];this.a[fh]=function(t){if(gh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=_i(c,a);"function"==typeof e&&e(t)}};var l=this.a[dh];this.a[dh]=function(){if(gh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=_i(l,a);"function"==typeof t&&t()}}}var fh="callback",dh="expired-callback",ph="sitekey",vh="size";function gh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function mh(t,e){return t.h.push(e),e.ma(function(){q(t.h,e)}),e}function yh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function bh(e,n,i){var r=!1;try{this.b=i||t.app()}catch(e){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");i=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ea()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=t.SDK_VERSION?yi(t.SDK_VERSION,a):null,hh.call(this,i,e,n,function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t},a,N(I),r)}function _h(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].K(n[r])&&!o){if(e=e[r],r<0||r>=wh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=wh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}i=null}}if(i)throw new E("argument-error",t+" failed: "+i)}(e=hh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=mh(this,we().then(function(){if(Ci()&&!hi())return ui();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.w())}).then(function(e){return t.g=e,Ws(t.s,Ts,{})}).then(function(e){t.a[ph]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},e.render=function(){yh(this);var t=this;return mh(this,this.Ga().then(function(){if(null===t.c){var e=t.u;if(!t.i){var n=ne(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!ee&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',jt(a.name),'"'),a.type){o.push(' type="',jt(a.type),'"');var s={};ft(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=se(r,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ie(o,a)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!h(o)||d(o)&&0<o.nodeType?i(o):U(ue(o)?Q(o):o,i)}}(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},e.verify=function(){yh(this);var t=this;return mh(this,this.render().then(function(e){return new pe(function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(e,n){K(t.l,function(t){return t==n})}(0,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}})}))},e.reset=function(){yh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){yh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ne(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},w(bh,hh);var wh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Eh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Ch(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Ih(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function Sh(t,e){return{name:t||"",J:"a function",optional:!!e,K:f}}function Th(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function kh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Nh(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&f(t.Fa)}function Ah(t){return d(t)&&"string"==typeof t.uid}function Rh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!f(t.verify))}}}function Ph(t,e,n,i){return{name:n||"",J:t.J+" or "+e.J,optional:!!i,K:function(n){return t.K(n)||e.K(n)}}}function Oh(t,e){for(var n in e){var i=e[n].name;t[i]=Lh(i,t[n],e[n].j)}}function Dh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:b(function(t){return this[t]},n),set:b(function(t,e,n,i){_h(t,[n],[i],!0),this[e]=i},i,n,e[n].gb),enumerable:!0})}}function xh(t,e,n,i){t[e]=Lh(e,n,i)}function Lh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return _h(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Oh(Ul.prototype,{fb:{name:"applyActionCode",j:[Eh("code")]},Pa:{name:"checkActionCode",j:[Eh("code")]},jb:{name:"confirmPasswordReset",j:[Eh("code"),Eh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Eh("email"),Eh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Eh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Eh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Ph(Ih(),Sh(),"nextOrObserver"),Sh("opt_error",!0),Sh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Ph(Ih(),Sh(),"nextOrObserver"),Sh("opt_error",!0),Sh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Eh("email"),Ph(Ih("opt_actionCodeSettings",!0),Th(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Eh("email"),Ih("actionCodeSettings")]},tb:{name:"setPersistence",j:[Eh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[kh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[kh()]},Rc:{name:"signInWithCustomToken",j:[Eh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Eh("email"),Eh("password")]},Tc:{name:"signInWithEmailLink",j:[Eh("email"),Eh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Eh("phoneNumber"),Rh()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Ph({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof tl)}},Th(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Eh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Eh("code")]}}),Dh(Ul.prototype,{lc:{name:"languageCode",gb:Ph(Eh(),Th(),"languageCode")},ti:{name:"tenantId",gb:Ph(Eh(),Th(),"tenantId")}}),(Ul.Persistence=Fu).LOCAL="local",Ul.Persistence.SESSION="session",Ul.Persistence.NONE="none",Oh(tl.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Ch("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ch("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[kh()]},mb:{name:"linkWithCredential",j:[kh()]},Bc:{name:"linkWithPhoneNumber",j:[Eh("phoneNumber"),Rh()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[kh()]},pb:{name:"reauthenticateWithCredential",j:[kh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Eh("phoneNumber"),Rh()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Ph(Ih("opt_actionCodeSettings",!0),Th(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Eh(null,!0)]},ad:{name:"unlink",j:[Eh("provider")]},xb:{name:"updateEmail",j:[Eh("email")]},yb:{name:"updatePassword",j:[Eh("password")]},cd:{name:"updatePhoneNumber",j:[kh("phone")]},zb:{name:"updateProfile",j:[Ih("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Eh("email"),Ph(Ih("opt_actionCodeSettings",!0),Th(null,!0),"opt_actionCodeSettings",!0)]}}),Oh($l.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Oh(Jl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Oh(pe.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Dh(Dc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Ch("appVerificationDisabledForTesting")}}),Oh(xc.prototype,{confirm:{name:"confirm",j:[Eh("verificationCode")]}}),xh($r,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[oo,bo,Io,no],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[Ph(Eh(),Ih(),"json")]),xh(_o,"credential",function(t,e){return new yo(t,e)},[Eh("email"),Eh("password")]),Oh(yo.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Oh(co.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),xh(co,"credential",lo,[Ph(Eh(),Ih(),"token")]),xh(_o,"credentialWithLink",wo,[Eh("email"),Eh("emailLink")]),Oh(ho.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),xh(ho,"credential",fo,[Ph(Eh(),Ih(),"token")]),Oh(po.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),xh(po,"credential",vo,[Ph(Eh(),Ph(Ih(),Th()),"idToken"),Ph(Eh(),Th(),"accessToken",!0)]),Oh(go.prototype,{Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),xh(go,"credential",mo,[Ph(Eh(),Ih(),"token"),Eh("secret",!0)]),Oh(uo.prototype,{Aa:{name:"addScope",j:[Eh("scope")]},credential:{name:"credential",j:[Ph(Eh(),Ph(Ih(),Th()),"optionsOrIdToken"),Ph(Eh(),Th(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Ih("customOAuthParameters")]}}),Oh(io.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Oh(to.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),xh(To,"credential",ko,[Eh("verificationId"),Eh("verificationCode")]),Oh(To.prototype,{cb:{name:"verifyPhoneNumber",j:[Ph(Eh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Nh(t.session,Xr)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Nh(t.session,Jr)&&Ah(t.multiFactorHint):t.session&&t.multiFactorUid?Nh(t.session,Jr)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Rh()]}}),Oh(Co.prototype,{v:{name:"toJSON",j:[Eh(null,!0)]}}),Oh(E.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Oh(Mo.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Oh(Lo.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Oh(Vc.prototype,{toJSON:{name:"toJSON",j:[Eh(null,!0)]}}),Oh(Fc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Oh(Gc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Eh("displayName",!0)]},$c:{name:"unenroll",j:[Ph({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Ah},Eh(),"multiFactorInfoIdentifier")]}}),Oh(bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xh(hr,"parseLink",br,[Eh("link")]),xh(rh,"assertion",function(t){return new qc(t)},[kh("phone")]),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:$i,VERIFY_AND_CHANGE_EMAIL:tr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ul,AuthCredential:$r,Error:E};xh(e,"EmailAuthProvider",_o,[]),xh(e,"FacebookAuthProvider",co,[]),xh(e,"GithubAuthProvider",ho,[]),xh(e,"GoogleAuthProvider",po,[]),xh(e,"TwitterAuthProvider",go,[]),xh(e,"OAuthProvider",uo,[Eh("providerId")]),xh(e,"SAMLAuthProvider",so,[Eh("providerId")]),xh(e,"PhoneAuthProvider",To,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Ul)}}]),xh(e,"RecaptchaVerifier",bh,[Ph(Eh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ih("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(e){return!!(e&&e instanceof t.app.App)}}]),xh(e,"ActionCodeURL",hr,[]),xh(e,"PhoneMultiFactorGenerator",rh,[]),t.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Ul(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),t.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:y((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:y(t.kc,t),addAuthTokenListener:y(t.bc,t),removeAuthTokenListener:y(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.registerVersion("@firebase/auth","0.14.1"),t.INTERNAL.extendNamespace({User:tl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-auth.js - be sure to load firebase-app.js first.")}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e((t=t||self).firebase)}(this,function(t){"use strict";try{(function(){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)};function n(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t}function s(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128):e[n++]=r>>12|224,e[n++]=r>>6&63|128),e[n++]=63&r|128)}return e}function u(t){try{return f.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}var c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(t,e){if(!t)throw h(e)},h=function(t){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),i.push(n[l],n[h],n[f],n[d])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(191<r&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(239<r&&r<365){var a=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,u=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(i.push(c),64!==s){var l=a<<4&240|s>>2;if(i.push(l),64!==u){var h=s<<6&192|u;i.push(h)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};var d=(p.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},p);function p(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function g(){return!0===c.NODE_ADMIN}var m,y=(n(b,m=Error),b);function b(t,e){var n=m.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,_.prototype.create),n}var _=(w.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return o.replace(E,function(t,n){var i=e[n];return null!=i?i.toString():"<"+n+"?>"})}(0,i):"Error",s=this.serviceName+": "+a+" ("+r+").",u=new y(r,s),c=0,l=Object.keys(i);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=i[h])}return u},w);function w(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var E=/\{\$([^}]+)}/g;function C(t){return JSON.parse(t)}function I(t){return JSON.stringify(t)}function S(t){var e={},n={},i={},r="";try{var o=t.split(".");e=C(u(o[0])||""),n=C(u(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:i,signature:r}}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function N(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}var R,P,O,D=(x.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},x.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++)a=i<40?i<20?(o=l^u&(c^l),1518500249):(o=u^c^l,1859775393):i<60?(o=u&c|l&(u|c),2400959708):(o=u^c^l,3395469782),r=(s<<5|s>>>27)+o+h+a+n[i]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=r;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},x.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},x.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;0<=r;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},x);function x(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function L(t,e,n,i){var r;if(i<e?r="at least "+e:n<i&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}function M(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+(i+" argument ")}function F(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(M(t,e,i)+"must be a valid function.")}function j(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(M(t,e,i)+"must be a valid context object.")}function U(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:55296<=i&&i<=56319?(e+=4,n++):e+=3}return e}function V(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function B(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var r=(new Date).toISOString(),o=W[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,V(["["+r+"]  "+t.name+":"],n))}}(O=P=P||{})[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",P.DEBUG,P.VERBOSE,P.INFO,P.WARN,P.ERROR,P.SILENT;var H=P.INFO,W=((R={})[P.DEBUG]="log",R[P.VERBOSE]="log",R[P.INFO]="info",R[P.WARN]="warn",R[P.ERROR]="error",R),q=(Object.defineProperty(K.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in P))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(K.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(K.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),K.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,V([this,P.DEBUG],t)),this._logHandler.apply(this,V([this,P.DEBUG],t))},K.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,V([this,P.VERBOSE],t)),this._logHandler.apply(this,V([this,P.VERBOSE],t))},K.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,V([this,P.INFO],t)),this._logHandler.apply(this,V([this,P.INFO],t))},K.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,V([this,P.WARN],t)),this._logHandler.apply(this,V([this,P.WARN],t))},K.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,V([this,P.ERROR],t)),this._logHandler.apply(this,V([this,P.ERROR],t))},K);function K(t){this.name=t,this._logLevel=H,this._logHandler=B,this._userLogHandler=null}var G=(Q.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},Q.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},Q.prototype.setServiceProps=function(t){return this.serviceProps=t,this},Q);function Q(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var Y=(z.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),I(e))},z.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:C(e)},z.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},z.prototype.prefixedName_=function(t){return this.prefix_+t},z.prototype.toString=function(){return this.domStorage_.toString()},z);function z(t){this.domStorage_=t,this.prefix_="firebase:"}var X=(J.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},J.prototype.get=function(t){return T(this.cache_,t)?this.cache_[t]:null},J.prototype.remove=function(t){delete this.cache_[t]},J);function J(){this.cache_={},this.isInMemoryStorage=!0}function $(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Y(e)}}catch(t){}return new X}function Z(t){var e=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(55296<=r&&r<=56319){var o=r-55296;l(++i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return e}(t),n=new D;n.update(e);var i=n.digest();return f.encodeByteArray(i)}function tt(t,e){l(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(dt.logLevel=P.VERBOSE,gt=dt.log.bind(dt),e&&ft.set("logging_enabled",!0)):"function"==typeof t?gt=t:(gt=null,ft.remove("logging_enabled"))}function et(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===mt&&(mt=!1,null===gt&&!0===ft.get("logging_enabled")&&tt(!0)),gt){var n=vt.apply(null,t);gt(n)}}function nt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];et.apply(void 0,a([t],e))}}function it(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+vt.apply(void 0,a(t));dt.error(n)}function rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+vt.apply(void 0,a(t));throw dt.error(n),new Error(n)}function ot(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+vt.apply(void 0,a(t));dt.warn(n)}function at(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)}function st(t,e){return t===e?0:t<e?-1:1}function ut(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+I(e))}function ct(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)n<r+e?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i}var lt,ht=$("localStorage"),ft=$("sessionStorage"),dt=new q("@firebase/database"),pt=(lt=1,function(){return lt++}),vt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var r=t[i];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=vt.apply(null,r):n+="object"==typeof r?I(r):r,n+=" "}return n},gt=null,mt=!0,yt="[MIN_NAME]",bt="[MAX_NAME]",_t=function(t,e){if(t===e)return 0;if(t===yt||e===bt)return-1;if(e===yt||t===bt)return 1;var n=kt(t),i=kt(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},wt=function(t){if("object"!=typeof t||null===t)return I(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=I(e[r]),i+=":",i+=wt(t[e[r]]);return i+"}"};function Et(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function Ct(t){var e,n,i,r,o;l(!at(t),"Invalid JSON number"),0===t?e=1/t==-1/(i=n=0)?1:0:(e=t<0,i=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var s=a.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()}function It(t){try{t()}catch(t){setTimeout(function(){throw ot("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function St(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n}var Tt=new RegExp("^-?(0*)\\d{1,10}$"),kt=function(t){if(Tt.test(t)){var e=Number(t);if(-2147483648<=e&&e<=2147483647)return e}return null},Nt=(Object.defineProperty(At,"Empty",{get:function(){return new At("")},enumerable:!0,configurable:!0}),At.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},At.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},At.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new At(this.pieces_,t)},At.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},At.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},At.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},At.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},At.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new At(t,0)},At.prototype.child=function(t){for(var e=[],n=this.pieceNum_;n<this.pieces_.length;n++)e.push(this.pieces_[n]);if(t instanceof At)for(n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{var i=t.split("/");for(n=0;n<i.length;n++)0<i[n].length&&e.push(i[n])}return new At(e,0)},At.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},At.relativePath=function(t,e){var n=t.getFront(),i=e.getFront();if(null===n)return e;if(n===i)return At.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},At.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var o=_t(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1},At.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},At.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},At);function At(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)0<this.pieces_[i].length&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}var Rt=(Object.defineProperty(Pt,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(Pt,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),Pt.prototype.push=function(t){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=U(t),this.checkValid_()},Pt.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=U(t),0<this.parts_.length&&(this.byteLength_-=1)},Pt.prototype.checkValid_=function(){if(this.byteLength_>Pt.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+Pt.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>Pt.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pt.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},Pt.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},Pt);function Pt(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=U(this.parts_[n]);this.checkValid_()}var Ot="firebaseio.com",Dt="websocket",xt="long_polling",Lt=(Mt.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},Mt.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},Mt.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},Mt.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},Mt.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ht.set("host:"+this.host,this.internalHost))},Mt.prototype.connectionURL=function(t,e){var n;if(l("string"==typeof t,"typeof type must == string"),l("object"==typeof e,"typeof params must == object"),t===Dt)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==xt)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return Et(e,function(t,e){i.push(t+"="+e)}),n+i.join("&")},Mt.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},Mt.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},Mt);function Mt(t,e,n,i,r,o){void 0===r&&(r=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=ht.get("host:"+t)||this.host}function Ft(t){var e=zt(t),n=e.namespace;"firebase"===e.domain&&rt(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||rt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new Lt(e.host,e.secure,n,i,"",n!==e.subdomain),path:new Nt(e.pathString)}}function jt(t){return"string"==typeof t&&0!==t.length&&!Xt.test(t)}function Ut(t){return"string"==typeof t&&0!==t.length&&!Jt.test(t)}function Vt(t){return null===t||"string"==typeof t||"number"==typeof t&&!at(t)||t&&"object"==typeof t&&T(t,".sv")}function Bt(t,e,n,i,r){r&&void 0===n||Zt(M(t,e,r),n,i)}function Ht(t,e,n,i,r){if(!r||void 0!==n){var o=M(t,e,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];Et(n,function(t,e){var n=new Nt(t);if(Zt(o,e,i.child(n)),".priority"===n.getBack()&&!Vt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!jt(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Nt.comparePaths);var a=null;for(n=0;n<e.length;n++){if(i=e[n],null!==a&&a.contains(i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(o,a)}}function Wt(t,e,n,i){if(!i||void 0!==n){if(at(n))throw new Error(M(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vt(n))throw new Error(M(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function qt(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(M(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Kt(t,e,n,i){if(!(i&&void 0===n||jt(n)))throw new Error(M(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Gt(t,e,n,i){if(!(i&&void 0===n||Ut(n)))throw new Error(M(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Qt(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")}function Yt(t,e,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!jt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return Ut(t=t&&t.replace(/^\/*\.info(\/|$)/,"/"))}(i))throw new Error(M(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}var zt=function(t){var e="",n="",i="",o="",a="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");0<=l&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(0<n[i].length){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}e+="/"+r}return e}(t.substring(h,f)));var d=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=r(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):ot("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,f)));0<=(l=e.indexOf(":"))?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=t.length;var p=e.split(".");3===p.length?(n=p[1],a=i=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,l).toLowerCase()&&(n="localhost"),"ns"in d&&(a=d.ns)}return{host:e,port:c,domain:n,subdomain:i,secure:s,scheme:u,pathString:o,namespace:a}},Xt=/[\[\].#$\/\u0000-\u001F\u007F]/,Jt=/[\[\].#$\u0000-\u001F\u007F]/,$t=10485760,Zt=function(t,e,n){var i=n instanceof Nt?new Rt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(at(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"==typeof e&&e.length>$t/3&&U(e)>$t)throw new Error(t+"contains a string greater than "+$t+" utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,o=!1;if(Et(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!jt(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),Zt(t,n,i),i.pop()}),r&&o)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},te=(ee.prototype.cancel=function(t){L("OnDisconnect.cancel",0,1,arguments.length),F("OnDisconnect.cancel",1,t,!0);var e=new d;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},ee.prototype.remove=function(t){L("OnDisconnect.remove",0,1,arguments.length),Qt("OnDisconnect.remove",this.path_),F("OnDisconnect.remove",1,t,!0);var e=new d;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},ee.prototype.set=function(t,e){L("OnDisconnect.set",1,2,arguments.length),Qt("OnDisconnect.set",this.path_),Bt("OnDisconnect.set",1,t,this.path_,!1),F("OnDisconnect.set",2,e,!0);var n=new d;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},ee.prototype.setWithPriority=function(t,e,n){L("OnDisconnect.setWithPriority",2,3,arguments.length),Qt("OnDisconnect.setWithPriority",this.path_),Bt("OnDisconnect.setWithPriority",1,t,this.path_,!1),Wt("OnDisconnect.setWithPriority",2,e,!1),F("OnDisconnect.setWithPriority",3,n,!0);var i=new d;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},ee.prototype.update=function(t,e){if(L("OnDisconnect.update",1,2,arguments.length),Qt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,ot("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ht("OnDisconnect.update",1,t,this.path_,!1),F("OnDisconnect.update",2,e,!0);var r=new d;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},ee);function ee(t,e){this.repo_=t,this.path_=e}var ne=(ie.prototype.toJSON=function(){return L("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},ie);function ie(t,e){this.committed=t,this.snapshot=e}var re,oe,ae,se=(re="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oe=0,ae=[],function(t){var e,n=t===oe;oe=t;var i=new Array(8);for(e=7;0<=e;e--)i[e]=re.charAt(t%64),t=Math.floor(t/64);l(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;0<=e&&63===ae[e];e--)ae[e]=0;ae[e]++}else for(e=0;e<12;e++)ae[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=re.charAt(ae[e]);return l(20===r.length,"nextPushId: Length should be 20."),r}),ue=(ce.Wrap=function(t,e){return new ce(t,e)},ce);function ce(t,e){this.name=t,this.node=e}var le,he=(fe.prototype.getCompare=function(){return this.compare.bind(this)},fe.prototype.indexedValueChanged=function(t,e){var n=new ue(yt,t),i=new ue(yt,e);return 0!==this.compare(n,i)},fe.prototype.minPost=function(){return ue.MIN},fe);function fe(){}var de,pe=(n(ve,de=he),Object.defineProperty(ve,"__EMPTY_NODE",{get:function(){return le},set:function(t){le=t},enumerable:!0,configurable:!0}),ve.prototype.compare=function(t,e){return _t(t.name,e.name)},ve.prototype.isDefinedOn=function(t){throw h("KeyIndex.isDefinedOn not expected to be called.")},ve.prototype.indexedValueChanged=function(t,e){return!1},ve.prototype.minPost=function(){return ue.MIN},ve.prototype.maxPost=function(){return new ue(bt,le)},ve.prototype.makePost=function(t,e){return l("string"==typeof t,"KeyIndex indexValue must always be a string."),new ue(t,le)},ve.prototype.toString=function(){return".key"},ve);function ve(){return null!==de&&de.apply(this,arguments)||this}var ge,me=new pe;function ye(t){return"number"==typeof t?"number:"+Ct(t):"string:"+t}function be(t){if(t.isLeafNode()){var e=t.val();l("string"==typeof e||"number"==typeof e||"object"==typeof e&&T(e,".sv"),"Priority must be a string or number.")}else l(t===ge||t.isEmpty(),"priority of unexpected type.");l(t===ge||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}var _e,we,Ee,Ce,Ie=(Object.defineProperty(Se,"__childrenNodeConstructor",{get:function(){return _e},set:function(t){_e=t},enumerable:!0,configurable:!0}),Se.prototype.isLeafNode=function(){return!0},Se.prototype.getPriority=function(){return this.priorityNode_},Se.prototype.updatePriority=function(t){return new Se(this.value_,t)},Se.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:Se.__childrenNodeConstructor.EMPTY_NODE},Se.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:Se.__childrenNodeConstructor.EMPTY_NODE},Se.prototype.hasChild=function(){return!1},Se.prototype.getPredecessorChildName=function(t,e){return null},Se.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:Se.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},Se.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(l(".priority"!==n||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,Se.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},Se.prototype.isEmpty=function(){return!1},Se.prototype.numChildren=function(){return 0},Se.prototype.forEachChild=function(t,e){return!1},Se.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Se.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+ye(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"==e?Ct(this.value_):this.value_,this.lazyHash_=Z(t)}return this.lazyHash_},Se.prototype.getValue=function(){return this.value_},Se.prototype.compareTo=function(t){return t===Se.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Se.__childrenNodeConstructor?-1:(l(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},Se.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,i=Se.VALUE_TYPE_ORDER.indexOf(e),r=Se.VALUE_TYPE_ORDER.indexOf(n);return l(0<=i,"Unknown leaf type: "+e),l(0<=r,"Unknown leaf type: "+n),i===r?"object"==n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-i},Se.prototype.withIndex=function(){return this},Se.prototype.isIndexed=function(){return!0},Se.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},Se.VALUE_TYPE_ORDER=["object","boolean","number","string"],Se);function Se(t,e){void 0===e&&(e=Se.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,l(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),be(this.priorityNode_)}function Te(){return null!==Ce&&Ce.apply(this,arguments)||this}var ke=new(n(Te,Ce=he),Te.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?_t(t.name,e.name):r},Te.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},Te.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},Te.prototype.minPost=function(){return ue.MIN},Te.prototype.maxPost=function(){return new ue(bt,new Ie("[PRIORITY-POST]",Ee))},Te.prototype.makePost=function(t,e){var n=we(t);return new ue(e,new Ie("[PRIORITY-POST]",n))},Te.prototype.toString=function(){return".priority"},Te),Ne=(Ae.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},Ae.prototype.hasNext=function(){return 0<this.nodeStack_.length},Ae.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},Ae);function Ae(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}var Re=(Pe.prototype.copy=function(t,e,n,i,r){return new Pe(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)},Pe.prototype.count=function(){return this.left.count()+1+this.right.count()},Pe.prototype.isEmpty=function(){return!1},Pe.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},Pe.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Pe.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Pe.prototype.minKey=function(){return this.min_().key},Pe.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Pe.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},Pe.prototype.removeMin_=function(){if(this.left.isEmpty())return xe.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},Pe.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return xe.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},Pe.prototype.isRed_=function(){return this.color},Pe.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},Pe.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},Pe.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},Pe.prototype.rotateLeft_=function(){var t=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Pe.prototype.rotateRight_=function(){var t=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Pe.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Pe.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},Pe.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},Pe.RED=!0,Pe.BLACK=!1,Pe);function Pe(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Pe.RED,this.left=null!=i?i:xe.EMPTY_NODE,this.right=null!=r?r:xe.EMPTY_NODE}var Oe=(De.prototype.copy=function(t,e,n,i,r){return this},De.prototype.insert=function(t,e,n){return new Re(t,e,null)},De.prototype.remove=function(t,e){return this},De.prototype.count=function(){return 0},De.prototype.isEmpty=function(){return!0},De.prototype.inorderTraversal=function(t){return!1},De.prototype.reverseTraversal=function(t){return!1},De.prototype.minKey=function(){return null},De.prototype.maxKey=function(){return null},De.prototype.check_=function(){return 0},De.prototype.isRed_=function(){return!1},De);function De(){}var xe=(Le.prototype.insert=function(t,e){return new Le(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Re.BLACK,null,null))},Le.prototype.remove=function(t){return new Le(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Re.BLACK,null,null))},Le.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},Le.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(i=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},Le.prototype.isEmpty=function(){return this.root_.isEmpty()},Le.prototype.count=function(){return this.root_.count()},Le.prototype.minKey=function(){return this.root_.minKey()},Le.prototype.maxKey=function(){return this.root_.maxKey()},Le.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},Le.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},Le.prototype.getIterator=function(t){return new Ne(this.root_,null,this.comparator_,!1,t)},Le.prototype.getIteratorFrom=function(t,e){return new Ne(this.root_,t,this.comparator_,!1,e)},Le.prototype.getReverseIteratorFrom=function(t,e){return new Ne(this.root_,t,this.comparator_,!0,e)},Le.prototype.getReverseIterator=function(t){return new Ne(this.root_,null,this.comparator_,!0,t)},Le.EMPTY_NODE=new Oe,Le);function Le(t,e){void 0===e&&(e=Le.EMPTY_NODE),this.comparator_=t,this.root_=e}var Me=Math.log(2),Fe=(je.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},je);function je(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Me,10)),this.current_=this.count-1;var n,i=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&i}var Ue,Ve,Be=function(t,e,n,i){t.sort(e);var r=function(e,i){var o,a,s=i-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new Re(a,o.node,Re.BLACK,null,null);var u=parseInt(s/2,10)+e,c=r(e,u),l=r(u+1,i);return o=t[u],a=n?n(o):o,new Re(a,o.node,Re.BLACK,c,l)},o=function(e){for(var i=null,o=null,a=t.length,s=function(e,i){var o=a-e,s=a;a-=e;var c=r(1+o,s),l=t[o],h=n?n(l):l;u(new Re(h,l.node,i,null,c))},u=function(t){i=i?i.left=t:o=t},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Re.BLACK):(s(h,Re.BLACK),s(h,Re.RED))}return o}(new Fe(t.length));return new xe(i||e,o)},He={},We=(Object.defineProperty(qe,"Default",{get:function(){return l(ke,"ChildrenNode.ts has not been loaded"),Ue=Ue||new qe({".priority":He},{".priority":ke})},enumerable:!0,configurable:!0}),qe.prototype.get=function(t){var e=k(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof xe?e:null},qe.prototype.hasIndex=function(t){return T(this.indexSet_,t.toString())},qe.prototype.addIndex=function(t,e){l(t!==me,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],o=!1,a=e.getIterator(ue.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),r.push(s),s=a.getNext();n=o?Be(r,t.getCompare()):He;var u=t.toString(),c=i({},this.indexSet_);c[u]=t;var h=i({},this.indexes_);return h[u]=n,new qe(h,c)},qe.prototype.addToIndexes=function(t,e){var n=this;return new qe(A(this.indexes_,function(i,r){var o=k(n.indexSet_,r);if(l(o,"Missing index implementation for "+r),i===He){if(o.isDefinedOn(t.node)){for(var a=[],s=e.getIterator(ue.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Be(a,o.getCompare())}return He}var c=e.get(t.name),h=i;return c&&(h=h.remove(new ue(t.name,c))),h.insert(t,t.node)}),this.indexSet_)},qe.prototype.removeFromIndexes=function(t,e){return new qe(A(this.indexes_,function(n){if(n===He)return n;var i=e.get(t.name);return i?n.remove(new ue(t.name,i)):n}),this.indexSet_)},qe);function qe(t,e){this.indexes_=t,this.indexSet_=e}function Ke(t,e){return _t(t.name,e.name)}function Ge(t,e){return _t(t,e)}var Qe,Ye=(Object.defineProperty(ze,"EMPTY_NODE",{get:function(){return Ve=Ve||new ze(new xe(Ge),null,We.Default)},enumerable:!0,configurable:!0}),ze.prototype.isLeafNode=function(){return!1},ze.prototype.getPriority=function(){return this.priorityNode_||Ve},ze.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new ze(this.children_,t,this.indexMap_)},ze.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Ve:e},ze.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},ze.prototype.hasChild=function(t){return null!==this.children_.get(t)},ze.prototype.updateImmediateChild=function(t,e){if(l(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);var n,i=new ue(t,e),r=void 0;n=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(i,this.children_));var o=r.isEmpty()?Ve:this.priorityNode_;return new ze(r,o,n)},ze.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;l(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},ze.prototype.isEmpty=function(){return this.children_.isEmpty()},ze.prototype.numChildren=function(){return this.children_.count()},ze.prototype.val=function(t){if(this.isEmpty())return null;var e={},n=0,i=0,r=!0;if(this.forEachChild(ke,function(o,a){e[o]=a.val(t),n++,r&&ze.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!t&&r&&i<2*n){var o=[];for(var a in e)o[a]=e[a];return o}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e},ze.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+ye(this.getPriority().val())+":"),this.forEachChild(ke,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":Z(t)}return this.lazyHash_},ze.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new ue(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},ze.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},ze.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new ue(e,this.children_.get(e)):null},ze.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},ze.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new ue(e,this.children_.get(e)):null},ze.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},ze.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},ze.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var i=this.children_.getIteratorFrom(t.name,ue.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},ze.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},ze.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var i=this.children_.getReverseIteratorFrom(t.name,ue.Wrap),r=i.peek();null!=r&&0<e.compare(r,t);)i.getNext(),r=i.peek();return i},ze.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Je?-1:0},ze.prototype.withIndex=function(t){if(t===me||this.indexMap_.hasIndex(t))return this;var e=this.indexMap_.addIndex(t,this.children_);return new ze(this.children_,this.priorityNode_,e)},ze.prototype.isIndexed=function(t){return t===me||this.indexMap_.hasIndex(t)},ze.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==e.children_.count())return!1;for(var n=this.getIterator(ke),i=e.getIterator(ke),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1},ze.prototype.resolveIndex_=function(t){return t===me?null:this.indexMap_.get(t.toString())},ze.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,ze);function ze(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&be(this.priorityNode_),this.children_.isEmpty()&&l(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function Xe(){return Qe.call(this,new xe(Ge),Ye.EMPTY_NODE,We.Default)||this}var Je=new(n(Xe,Qe=Ye),Xe.prototype.compareTo=function(t){return t===this?0:1},Xe.prototype.equals=function(t){return t===this},Xe.prototype.getPriority=function(){return this},Xe.prototype.getImmediateChild=function(t){return Ye.EMPTY_NODE},Xe.prototype.isEmpty=function(){return!1},Xe);Object.defineProperties(ue,{MIN:{value:new ue(yt,Ye.EMPTY_NODE)},MAX:{value:new ue(bt,Je)}}),pe.__EMPTY_NODE=Ye.EMPTY_NODE,Ie.__childrenNodeConstructor=Ye,ge=Je,Ee=Je;var $e,Ze=!0;function tn(t,e){if(void 0===e&&(e=null),null===t)return Ye.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),l(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ie(t,tn(e));if(t instanceof Array||!Ze){var n=Ye.EMPTY_NODE;return Et(t,function(e,i){if(T(t,e)&&"."!==e.substring(0,1)){var r=tn(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}}),n.updatePriority(tn(e))}var i=[],r=!1;if(Et(t,function(t,e){if("."!==t.substring(0,1)){var n=tn(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new ue(t,n)))}}),0===i.length)return Ye.EMPTY_NODE;var o=Be(i,Ke,function(t){return t.name},Ge);if(r){var a=Be(i,ke.getCompare());return new Ye(o,tn(e),new We({".priority":a},{".priority":ke}))}return new Ye(o,tn(e),We.Default)}function en(){return null!==$e&&$e.apply(this,arguments)||this}we=tn;var nn,rn=new(n(en,$e=he),en.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?_t(t.name,e.name):n},en.prototype.isDefinedOn=function(t){return!0},en.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},en.prototype.minPost=function(){return ue.MIN},en.prototype.maxPost=function(){return ue.MAX},en.prototype.makePost=function(t,e){var n=tn(t);return new ue(e,n)},en.prototype.toString=function(){return".value"},en),on=(n(an,nn=he),an.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},an.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},an.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?_t(t.name,e.name):r},an.prototype.makePost=function(t,e){var n=tn(t),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,n);return new ue(e,i)},an.prototype.maxPost=function(){var t=Ye.EMPTY_NODE.updateChild(this.indexPath_,Je);return new ue(bt,t)},an.prototype.toString=function(){return this.indexPath_.slice().join("/")},an);function an(t){var e=nn.call(this)||this;return e.indexPath_=t,l(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),e}var sn=(un.prototype.val=function(){return L("DataSnapshot.val",0,0,arguments.length),this.node_.val()},un.prototype.exportVal=function(){return L("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},un.prototype.toJSON=function(){return L("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},un.prototype.exists=function(){return L("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},un.prototype.child=function(t){L("DataSnapshot.child",0,1,arguments.length),Gt("DataSnapshot.child",1,t=String(t),!1);var e=new Nt(t),n=this.ref_.child(e);return new un(this.node_.getChild(e),n,ke)},un.prototype.hasChild=function(t){L("DataSnapshot.hasChild",1,1,arguments.length),Gt("DataSnapshot.hasChild",1,t,!1);var e=new Nt(t);return!this.node_.getChild(e).isEmpty()},un.prototype.getPriority=function(){return L("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},un.prototype.forEach=function(t){var e=this;return L("DataSnapshot.forEach",1,1,arguments.length),F("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(n,i){return t(new un(i,e.ref_.child(n),ke))})},un.prototype.hasChildren=function(){return L("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(un.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),un.prototype.numChildren=function(){return L("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},un.prototype.getRef=function(){return L("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(un.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),un);function un(t,e,n){this.node_=t,this.ref_=e,this.index_=n}var cn=(ln.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},ln.prototype.getEventType=function(){return this.eventType},ln.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},ln.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+I(this.snapshot.exportVal())},ln);function ln(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}var hn=(fn.prototype.getPath=function(){return this.path},fn.prototype.getEventType=function(){return"cancel"},fn.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},fn.prototype.toString=function(){return this.path.toString()+":cancel"},fn);function fn(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}var dn=(pn.prototype.respondsTo=function(t){return"value"===t},pn.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new cn("value",this,new sn(t.snapshotNode,e.getRef(),n))},pn.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){l(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},pn.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new hn(this,t,e):null},pn.prototype.matches=function(t){return t instanceof pn&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},pn.prototype.hasAnyCallback=function(){return null!==this.callback_},pn);function pn(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}var vn,gn=(mn.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,T(this.callbacks_,e)},mn.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new hn(this,t,e):null},mn.prototype.createEvent=function(t,e){l(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new cn(t.type,this,new sn(t.snapshotNode,n,i),t.prevName)},mn.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){l(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},mn.prototype.matches=function(t){var e=this;if(t instanceof mn){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),r=n.length;if(r===i.length){if(1!==r)return i.every(function(n){return t.callbacks_[n]===e.callbacks_[n]});var o=n[0],a=i[0];return!(a!==o||t.callbacks_[o]&&this.callbacks_[a]&&t.callbacks_[o]!==this.callbacks_[a])}}}return!1},mn.prototype.hasAnyCallback=function(){return null!==this.callbacks_},mn);function mn(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}var yn=(Object.defineProperty(bn,"__referenceConstructor",{get:function(){return l(vn,"Reference.ts has not been loaded"),vn},set:function(t){vn=t},enumerable:!0,configurable:!0}),bn.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===me){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==yt)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==bt)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===ke){if(null!=e&&!Vt(e)||null!=n&&!Vt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(l(t.getIndex()instanceof on||t.getIndex()===rn,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},bn.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},bn.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},bn.prototype.getQueryParams=function(){return this.queryParams_},bn.prototype.getRef=function(){return L("Query.ref",0,0,arguments.length),new bn.__referenceConstructor(this.repo,this.path)},bn.prototype.on=function(t,e,n,i){L("Query.on",2,4,arguments.length),qt("Query.on",1,t,!1),F("Query.on",2,e,!1);var r=bn.getCancelAndContextArgs_("Query.on",n,i);if("value"===t)this.onValueEvent(e,r.cancel,r.context);else{var o={};o[t]=e,this.onChildEvent(o,r.cancel,r.context)}return e},bn.prototype.onValueEvent=function(t,e,n){var i=new dn(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},bn.prototype.onChildEvent=function(t,e,n){var i=new gn(t,e,n);this.repo.addEventCallbackForQuery(this,i)},bn.prototype.off=function(t,e,n){L("Query.off",0,3,arguments.length),qt("Query.off",1,t,!0),F("Query.off",2,e,!0),j("Query.off",3,n,!0);var i=null,r=null;"value"===t?i=new dn(e||null,null,n||null):t&&(e&&((r={})[t]=e),i=new gn(r,null,n||null)),this.repo.removeEventCallbackForQuery(this,i)},bn.prototype.once=function(t,e,n,i){var r=this;L("Query.once",1,4,arguments.length),qt("Query.once",1,t,!1),F("Query.once",2,e,!0);var o=bn.getCancelAndContextArgs_("Query.once",n,i),a=!0,s=new d;s.promise.catch(function(){});var u=function(n){a&&(a=!1,r.off(t,u),e&&e.bind(o.context)(n),s.resolve(n))};return this.on(t,u,function(e){r.off(t,u),o.cancel&&o.cancel.bind(o.context)(e),s.reject(e)}),s.promise},bn.prototype.limitToFirst=function(t){if(L("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new bn(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},bn.prototype.limitToLast=function(t){if(L("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new bn(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},bn.prototype.orderByChild=function(t){if(L("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Gt("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var e=new Nt(t);if(e.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new on(e),i=this.queryParams_.orderBy(n);return bn.validateQueryEndpoints_(i),new bn(this.repo,this.path,i,!0)},bn.prototype.orderByKey=function(){L("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(me);return bn.validateQueryEndpoints_(t),new bn(this.repo,this.path,t,!0)},bn.prototype.orderByPriority=function(){L("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(ke);return bn.validateQueryEndpoints_(t),new bn(this.repo,this.path,t,!0)},bn.prototype.orderByValue=function(){L("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(rn);return bn.validateQueryEndpoints_(t),new bn(this.repo,this.path,t,!0)},bn.prototype.startAt=function(t,e){void 0===t&&(t=null),L("Query.startAt",0,2,arguments.length),Bt("Query.startAt",1,t,this.path,!0),Kt("Query.startAt",2,e,!0);var n=this.queryParams_.startAt(t,e);if(bn.validateLimit_(n),bn.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(e=t=null),new bn(this.repo,this.path,n,this.orderByCalled_)},bn.prototype.endAt=function(t,e){void 0===t&&(t=null),L("Query.endAt",0,2,arguments.length),Bt("Query.endAt",1,t,this.path,!0),Kt("Query.endAt",2,e,!0);var n=this.queryParams_.endAt(t,e);if(bn.validateLimit_(n),bn.validateQueryEndpoints_(n),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new bn(this.repo,this.path,n,this.orderByCalled_)},bn.prototype.equalTo=function(t,e){if(L("Query.equalTo",1,2,arguments.length),Bt("Query.equalTo",1,t,this.path,!1),Kt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},bn.prototype.toString=function(){return L("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},bn.prototype.toJSON=function(){return L("Query.toJSON",0,1,arguments.length),this.toString()},bn.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},bn.prototype.queryIdentifier=function(){var t=this.queryObject(),e=wt(t);return"{}"===e?"default":e},bn.prototype.isEqual=function(t){if(L("Query.isEqual",1,1,arguments.length),!(t instanceof bn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.repo===t.repo,n=this.path.equals(t.path),i=this.queryIdentifier()===t.queryIdentifier();return e&&n&&i},bn.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,F(t,3,i.cancel,!0),i.context=n,j(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(M(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(bn.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),bn);function bn(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}var _n=(wn.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&0<this.children.size){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},wn.prototype.remember=function(t,e){if(t.isEmpty())this.value=e,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,e);else{var n=t.getFront();this.children.has(n)||this.children.set(n,new wn);var i=this.children.get(n);t=t.popFront(),i.remember(t,e)}},wn.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(ke,function(t,e){n.remember(new Nt(t),e)}),this.forget(t)}if(0<this.children.size){var i=t.getFront();return t=t.popFront(),!this.children.has(i)||this.children.get(i).forget(t)&&this.children.delete(i),0===this.children.size}return!0},wn.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild(function(n,i){var r=new Nt(t.toString()+"/"+n);i.forEachTree(r,e)})},wn.prototype.forEachChild=function(t){this.children.forEach(function(e,n){t(n,e)})},wn);function wn(){this.value=null,this.children=new Map}function En(t,e){return t&&"object"==typeof t?(l(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}var Cn,In,Sn=function(t,e){var n,i=En(t.getPriority().val(),e);if(t.isLeafNode()){var r=t,o=En(r.getValue(),e);return o!==r.getValue()||i!==r.getPriority().val()?new Ie(o,tn(i)):t}var a=t;return i!==(n=a).getPriority().val()&&(n=n.updatePriority(new Ie(i))),a.forEachChild(ke,function(t,i){var r=Sn(i,e);r!==i&&(n=n.updateImmediateChild(t,r))}),n};(In=Cn=Cn||{})[In.OVERWRITE=0]="OVERWRITE",In[In.MERGE=1]="MERGE",In[In.ACK_USER_WRITE=2]="ACK_USER_WRITE",In[In.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Tn=(kn.User=new kn(!0,!1,null,!1),kn.Server=new kn(!1,!0,null,!1),kn.forServerTaggedQuery=function(t){return new kn(!1,!0,t,!0)},kn);function kn(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,l(!i||e,"Tagged queries must be from server.")}var Nn,An=(Rn.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return l(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new Nt(t));return new Rn(Nt.Empty,e,this.revert)}return l(this.path.getFront()===t,"operationForChild called for unrelated child."),new Rn(this.path.popFront(),this.affectedTree,this.revert)},Rn);function Rn(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Cn.ACK_USER_WRITE,this.source=Tn.User}var Pn=(On.fromObject=function(t){var e=On.Empty;return Et(t,function(t,n){e=e.set(new Nt(t),n)}),e},On.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},On.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Nt.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null===i)return null;var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);return null==r?null:{path:new Nt(n).child(r.path),value:r.value}},On.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},On.prototype.subtree=function(t){if(t.isEmpty())return this;var e=t.getFront(),n=this.children.get(e);return null!==n?n.subtree(t.popFront()):On.Empty},On.prototype.set=function(t,e){if(t.isEmpty())return new On(e,this.children);var n=t.getFront(),i=(this.children.get(n)||On.Empty).set(t.popFront(),e),r=this.children.insert(n,i);return new On(this.value,r)},On.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?On.Empty:new On(null,this.children);var e=t.getFront(),n=this.children.get(e);if(n){var i=n.remove(t.popFront()),r=void 0;return r=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&r.isEmpty()?On.Empty:new On(this.value,r)}return this},On.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},On.prototype.setTree=function(t,e){if(t.isEmpty())return e;var n,i=t.getFront(),r=(this.children.get(i)||On.Empty).setTree(t.popFront(),e);return n=r.isEmpty()?this.children.remove(i):this.children.insert(i,r),new On(this.value,n)},On.prototype.fold=function(t){return this.fold_(Nt.Empty,t)},On.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(t.child(i),e)}),e(t,this.value,n)},On.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Nt.Empty,e)},On.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),o=this.children.get(r);return o?o.findOnPath_(t.popFront(),e.child(r),n):null},On.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Nt.Empty,e)},On.prototype.foreachOnPath_=function(t,e,n){if(t.isEmpty())return this;this.value&&n(e,this.value);var i=t.getFront(),r=this.children.get(i);return r?r.foreachOnPath_(t.popFront(),e.child(i),n):On.Empty},On.prototype.foreach=function(t){this.foreach_(Nt.Empty,t)},On.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},On.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},On.Empty=new On(null),On);function On(t,e){void 0===e&&(e=Nn=Nn||new xe(st)),this.value=t,this.children=e}var Dn=(xn.prototype.operationForChild=function(t){return this.path.isEmpty()?new xn(this.source,Nt.Empty):new xn(this.source,this.path.popFront())},xn);function xn(t,e){this.source=t,this.path=e,this.type=Cn.LISTEN_COMPLETE}var Ln=(Mn.prototype.operationForChild=function(t){return this.path.isEmpty()?new Mn(this.source,Nt.Empty,this.snap.getImmediateChild(t)):new Mn(this.source,this.path.popFront(),this.snap)},Mn);function Mn(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Cn.OVERWRITE}var Fn=(jn.prototype.operationForChild=function(t){if(this.path.isEmpty()){var e=this.children.subtree(new Nt(t));return e.isEmpty()?null:e.value?new Ln(this.source,Nt.Empty,e.value):new jn(this.source,Nt.Empty,e)}return l(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new jn(this.source,this.path.popFront(),this.children)},jn.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},jn);function jn(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Cn.MERGE}var Un=(Vn.prototype.isFullyInitialized=function(){return this.fullyInitialized_},Vn.prototype.isFiltered=function(){return this.filtered_},Vn.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},Vn.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},Vn.prototype.getNode=function(){return this.node_},Vn);function Vn(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}var Bn=(Hn.prototype.updateEventSnap=function(t,e,n){return new Hn(new Un(t,e,n),this.serverCache_)},Hn.prototype.updateServerSnap=function(t,e,n){return new Hn(this.eventCache_,new Un(t,e,n))},Hn.prototype.getEventCache=function(){return this.eventCache_},Hn.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},Hn.prototype.getServerCache=function(){return this.serverCache_},Hn.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},Hn.Empty=new Hn(new Un(Ye.EMPTY_NODE,!1,!1),new Un(Ye.EMPTY_NODE,!1,!1)),Hn);function Hn(t,e){this.eventCache_=t,this.serverCache_=e}var Wn=(qn.valueChange=function(t){return new qn(qn.VALUE,t)},qn.childAddedChange=function(t,e){return new qn(qn.CHILD_ADDED,e,t)},qn.childRemovedChange=function(t,e){return new qn(qn.CHILD_REMOVED,e,t)},qn.childChangedChange=function(t,e,n){return new qn(qn.CHILD_CHANGED,e,t,n)},qn.childMovedChange=function(t,e){return new qn(qn.CHILD_MOVED,e,t)},qn.CHILD_ADDED="child_added",qn.CHILD_REMOVED="child_removed",qn.CHILD_CHANGED="child_changed",qn.CHILD_MOVED="child_moved",qn.VALUE="value",qn);function qn(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}var Kn=(Gn.prototype.updateChild=function(t,e,n,i,r,o){l(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Wn.childRemovedChange(e,a)):l(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Wn.childAddedChange(e,n)):o.trackChildChange(Wn.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},Gn.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(ke,function(t,i){e.hasChild(t)||n.trackChildChange(Wn.childRemovedChange(t,i))}),e.isLeafNode()||e.forEachChild(ke,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(Wn.childChangedChange(e,i,r))}else n.trackChildChange(Wn.childAddedChange(e,i))})),e.withIndex(this.index_)},Gn.prototype.updatePriority=function(t,e){return t.isEmpty()?Ye.EMPTY_NODE:t.updatePriority(e)},Gn.prototype.filtersNodes=function(){return!1},Gn.prototype.getIndexedFilter=function(){return this},Gn.prototype.getIndex=function(){return this.index_},Gn);function Gn(t){this.index_=t}var Qn=(Yn.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;l(e===Wn.CHILD_ADDED||e===Wn.CHILD_CHANGED||e===Wn.CHILD_REMOVED,"Only child changes supported for tracking"),l(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if(e===Wn.CHILD_ADDED&&r===Wn.CHILD_REMOVED)this.changeMap.set(n,Wn.childChangedChange(n,t.snapshotNode,i.snapshotNode));else if(e===Wn.CHILD_REMOVED&&r===Wn.CHILD_ADDED)this.changeMap.delete(n);else if(e===Wn.CHILD_REMOVED&&r===Wn.CHILD_CHANGED)this.changeMap.set(n,Wn.childRemovedChange(n,i.oldSnap));else if(e===Wn.CHILD_CHANGED&&r===Wn.CHILD_ADDED)this.changeMap.set(n,Wn.childAddedChange(n,t.snapshotNode));else{if(e!==Wn.CHILD_CHANGED||r!==Wn.CHILD_CHANGED)throw h("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,Wn.childChangedChange(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},Yn.prototype.getChanges=function(){return Array.from(this.changeMap.values())},Yn);function Yn(){this.changeMap=new Map}function zn(){}var Xn=new(zn.prototype.getCompleteChild=function(t){return null},zn.prototype.getChildAfterChild=function(t,e,n){return null},zn),Jn=($n.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Un(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},$n.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},$n);function $n(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}var Zn=function(t,e){this.viewCache=t,this.changes=e},ti=(ei.prototype.assertIndexed=function(t){l(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),l(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},ei.prototype.applyOperation=function(t,e,n,i){var r,o,a=new Qn;if(e.type===Cn.OVERWRITE){var s=e;r=s.source.fromUser?this.applyUserOverwrite_(t,s.path,s.snap,n,i,a):(l(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.getServerCache().isFiltered()&&!s.path.isEmpty(),this.applyServerOverwrite_(t,s.path,s.snap,n,i,o,a))}else if(e.type===Cn.MERGE){var u=e;r=u.source.fromUser?this.applyUserMerge_(t,u.path,u.children,n,i,a):(l(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,u.path,u.children,n,i,o,a))}else if(e.type===Cn.ACK_USER_WRITE){var c=e;r=c.revert?this.revertUserWrite_(t,c.path,n,i,a):this.ackUserWrite_(t,c.path,c.affectedTree,n,i,a)}else{if(e.type!==Cn.LISTEN_COMPLETE)throw h("Unknown operation type: "+e.type);r=this.listenComplete_(t,e.path,n,a)}var f=a.getChanges();return ei.maybeAddValueEvent_(t,r,f),new Zn(r,f)},ei.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=t.getCompleteEventSnap();(0<n.length||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Wn.valueChange(e.getCompleteEventSnap()))}},ei.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(l(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof Ye?u:Ye.EMPTY_NODE,h=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),f,r)}else{var d=e.getFront();if(".priority"===d){l(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();s=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,p,s);a=null!=v?this.filter_.updatePriority(p,v):o.getNode()}else{var g=e.popFront(),m=void 0;if(o.isCompleteForChild(d)){s=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);m=null!=y?o.getNode().getImmediateChild(d).updateChild(g,y):o.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,t.getServerCache());a=null!=m?this.filter_.updateChild(o.getNode(),d,m,g,i,r):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},ei.prototype.applyServerOverwrite_=function(t,e,n,i,r,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&1<e.getLength())return t;var f=e.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,Xn,null)}var p=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new Jn(i,p,r);return this.generateEventCacheAfterServerEvent_(p,e,i,v,a)},ei.prototype.applyUserOverwrite_=function(t,e,n,i,r,o){var a,s,u=t.getEventCache(),c=new Jn(i,t,r);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Ye.EMPTY_NODE}if(f.equals(d))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,d,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},ei.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},ei.prototype.applyUserMerge_=function(t,e,n,i,r,o){var a=this,s=t;return n.foreach(function(n,u){var c=e.child(n);ei.cacheHasChild_(t,c.getFront())&&(s=a.applyUserOverwrite_(s,c,u,i,r,o))}),n.foreach(function(n,u){var c=e.child(n);ei.cacheHasChild_(t,c.getFront())||(s=a.applyUserOverwrite_(s,c,u,i,r,o))}),s},ei.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},ei.prototype.applyServerMerge_=function(t,e,n,i,r,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:Pn.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new Nt(e),h,i,r,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new Nt(e),f,i,r,o,a)}}),c},ei.prototype.ackUserWrite_=function(t,e,n,i,r,o){if(null!=i.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),i,r,a,o);if(e.isEmpty()){var u=Pn.Empty;return s.getNode().forEachChild(me,function(t,e){u=u.set(new Nt(t),e)}),this.applyServerMerge_(t,e,u,i,r,a,o)}return t}var c=Pn.Empty;return n.foreach(function(t,n){var i=e.child(t);s.isCompleteForPath(i)&&(c=c.set(t,s.getNode().getChild(i)))}),this.applyServerMerge_(t,e,c,i,r,a,o)},ei.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),o=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Xn,i)},ei.prototype.revertUserWrite_=function(t,e,n,i,r){var o;if(null!=n.shadowingWrite(e))return t;var a=new Jn(n,t,i),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();l(h instanceof Ye,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}c=c,u=this.filter_.updateFullNode(s,c,r)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=s.getImmediateChild(f)),(u=null!=d?this.filter_.updateChild(s,f,d,e.popFront(),a,r):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(s,f,Ye.EMPTY_NODE,e.popFront(),a,r):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Nt.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},ei);function ei(t){this.filter_=t}var ni=(ii.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],o=[];return t.forEach(function(t){t.type===Wn.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Wn.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(r,Wn.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,Wn.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,Wn.CHILD_MOVED,o,n,e),this.generateEventsForType_(r,Wn.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,Wn.VALUE,t,n,e),r},ii.prototype.generateEventsForType_=function(t,e,n,i,r){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,r);i.forEach(function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,o.query_))})})},ii.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},ii.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw h("Should only compare child_ events.");var n=new ue(t.childName,t.snapshotNode),i=new ue(e.childName,e.snapshotNode);return this.index_.compare(n,i)},ii);function ii(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}var ri,oi=(ai.prototype.getQuery=function(){return this.query_},ai.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},ai.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},ai.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},ai.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},ai.prototype.removeEventRegistration=function(t,e){var n=[];if(e){l(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var r=t.createCancelEvent(e,i);r&&n.push(r)})}if(t){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(a)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},ai.prototype.applyOperation=function(t,e,n){t.type===Cn.MERGE&&null!==t.source.queryId&&(l(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),l(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),l(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},ai.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ke,function(t,e){n.push(Wn.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(Wn.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},ai.prototype.generateEventsForChanges_=function(t,e,n){var i=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,i)},ai);function ai(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new Kn(n.getIndex()),r=n.getNodeFilter();this.processor_=new ti(r);var o=e.getServerCache(),a=e.getEventCache(),s=i.updateFullNode(Ye.EMPTY_NODE,o.getNode(),null),u=r.updateFullNode(Ye.EMPTY_NODE,a.getNode(),null),c=new Un(s,o.isFullyInitialized(),i.filtersNodes()),l=new Un(u,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=new Bn(l,c),this.eventGenerator_=new ni(this.query_)}var si=(Object.defineProperty(ui,"__referenceConstructor",{get:function(){return l(ri,"Reference.ts has not been loaded"),ri},set:function(t){l(!ri,"__referenceConstructor has already been defined"),ri=t},enumerable:!0,configurable:!0}),ui.prototype.isEmpty=function(){return 0===this.views.size},ui.prototype.applyOperation=function(t,e,n){var i,o,a=t.source.queryId;if(null!==a){var s=this.views.get(a);return l(null!=s,"SyncTree gave us an op for an invalid query."),s.applyOperation(t,e,n)}var u=[];try{for(var c=r(this.views.values()),h=c.next();!h.done;h=c.next())s=h.value,u=u.concat(s.applyOperation(t,e,n))}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u},ui.prototype.addEventRegistration=function(t,e,n,i,r){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s,u=n.calcCompleteEventCache(r?i:null);s=!!u||(u=i instanceof Ye?n.calcCompleteEventChildren(i):Ye.EMPTY_NODE,!1);var c=new Bn(new Un(u,s,!1),new Un(i,r,!1));a=new oi(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},ui.prototype.removeEventRegistration=function(t,e,n){var i,a,s=t.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=r(this.views.entries()),f=h.next();!f.done;f=h.next()){var d=o(f.value,2),p=d[0],v=d[1];c=c.concat(v.removeEventRegistration(e,n)),v.isEmpty()&&(this.views.delete(p),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(t){i={error:t}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}else(v=this.views.get(s))&&(c=c.concat(v.removeEventRegistration(e,n)),v.isEmpty()&&(this.views.delete(s),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return l&&!this.hasCompleteView()&&u.push(new ui.__referenceConstructor(t.repo,t.path)),{removed:u,events:c}},ui.prototype.getQueryViews=function(){var t,e,n=[];try{for(var i=r(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},ui.prototype.getCompleteServerCache=function(t){var e,n,i=null;try{for(var o=r(this.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||s.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},ui.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},ui.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},ui.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},ui.prototype.getCompleteView=function(){var t,e;try{for(var n=r(this.views.values()),i=n.next();!i.done;i=n.next()){var o=i.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},ui);function ui(){this.views=new Map}var ci=(li.prototype.addWrite=function(t,e){if(t.isEmpty())return new li(new Pn(e));var n=this.writeTree_.findRootMostValueAndPath(t);if(null!=n){var i=n.path,r=n.value,o=Nt.relativePath(i,t);return r=r.updateChild(o,e),new li(this.writeTree_.set(i,r))}var a=new Pn(e);return new li(this.writeTree_.setTree(t,a))},li.prototype.addWrites=function(t,e){var n=this;return Et(e,function(e,i){n=n.addWrite(t.child(e),i)}),n},li.prototype.removeWrite=function(t){return t.isEmpty()?li.Empty:new li(this.writeTree_.setTree(t,Pn.Empty))},li.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},li.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Nt.relativePath(e.path,t)):null},li.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ke,function(e,n){t.push(new ue(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new ue(e,n.value))}),t},li.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var e=this.getCompleteNode(t);return new li(null!=e?new Pn(e):this.writeTree_.subtree(t))},li.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},li.prototype.apply=function(t){return function t(e,n,i){if(null!=n.value)return i.updateChild(e,n.value);var r=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(l(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):i=t(e.child(n),o,i)}),i.getChild(e).isEmpty()||null===r||(i=i.updateChild(e.child(".priority"),r)),i}(Nt.Empty,this.writeTree_,t)},li.Empty=new li(new Pn(null)),li);function li(t){this.writeTree_=t}var hi=(fi.prototype.childWrites=function(t){return new di(t,this)},fi.prototype.addOverwrite=function(t,e,n,i){l(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},fi.prototype.addMerge=function(t,e,n){l(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},fi.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},fi.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});l(0<=n,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,o=!1,a=this.allWrites_.length-1;r&&0<=a;){var s=this.allWrites_[a];s.visible&&(n<=a&&this.recordContainsPath_(s,i.path)?r=!1:i.path.contains(s.path)&&(o=!0)),a--}return!!r&&(o?this.resetTree_():i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):Et(i.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))}),!0)},fi.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},fi.prototype.calcCompleteEventCache=function(t,e,n,i){if(n||i){var r=this.visibleWrites_.childCompoundWrite(t);if(!i&&r.isEmpty())return e;if(i||null!=e||r.hasCompleteWrite(Nt.Empty)){var o=fi.layerTree_(this.allWrites_,function(e){return(e.visible||i)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},t);return u=e||Ye.EMPTY_NODE,o.apply(u)}return null}var a=this.visibleWrites_.getCompleteNode(t);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(t);if(s.isEmpty())return e;if(null!=e||s.hasCompleteWrite(Nt.Empty)){var u=e||Ye.EMPTY_NODE;return s.apply(u)}return null},fi.prototype.calcCompleteEventChildren=function(t,e){var n=Ye.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(ke,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(ke,function(t,e){var i=r.childCompoundWrite(new Nt(t)).apply(e);n=n.updateImmediateChild(t,i)}),r.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},fi.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){l(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var o=this.visibleWrites_.childCompoundWrite(r);return o.isEmpty()?i.getChild(e):o.apply(i.getChild(e))},fi.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)):null},fi.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},fi.prototype.calcIndexedSlice=function(t,e,n,i,r,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Nt.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=r?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<i;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},fi.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},fi.prototype.resetTree_=function(){this.visibleWrites_=fi.layerTree_(this.allWrites_,fi.DefaultFilter_,Nt.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},fi.DefaultFilter_=function(t){return t.visible},fi.layerTree_=function(t,e,n){for(var i=ci.Empty,r=0;r<t.length;++r){var o=t[r];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=Nt.relativePath(n,a),i=i.addWrite(s,o.snap)):a.contains(n)&&(s=Nt.relativePath(a,n),i=i.addWrite(Nt.Empty,o.snap.getChild(s)));else{if(!o.children)throw h("WriteRecord should have .snap or .children");if(n.contains(a))s=Nt.relativePath(n,a),i=i.addWrites(s,o.children);else if(a.contains(n))if((s=Nt.relativePath(a,n)).isEmpty())i=i.addWrites(Nt.Empty,o.children);else{var u=k(o.children,s.getFront());if(u){var c=u.getChild(s.popFront());i=i.addWrite(Nt.Empty,c)}}}}}return i},fi);function fi(){this.visibleWrites_=ci.Empty,this.allWrites_=[],this.lastWriteId_=-1}var di=(pi.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},pi.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},pi.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},pi.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},pi.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},pi.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},pi.prototype.child=function(t){return new pi(this.treePath_.child(t),this.writeTree_)},pi);function pi(t,e){this.treePath_=t,this.writeTree_=e}var vi=(gi.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new Ln(Tn.User,t,e)):[]},gi.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=Pn.fromObject(e);return this.applyOperationToSyncPoints_(new Fn(Tn.User,t,i))},gi.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=Pn.Empty;return null!=n.snap?i=i.set(Nt.Empty,!0):Et(n.children,function(t,e){i=i.set(new Nt(t),e)}),this.applyOperationToSyncPoints_(new An(n.path,i,e))}return[]},gi.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Ln(Tn.Server,t,e))},gi.prototype.applyServerMerge=function(t,e){var n=Pn.fromObject(e);return this.applyOperationToSyncPoints_(new Fn(Tn.Server,t,n))},gi.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Dn(Tn.Server,t))},gi.prototype.applyTaggedQueryOverwrite=function(t,e,n){var i=this.queryKeyForTag_(n);if(null==i)return[];var r=gi.parseQueryKey_(i),o=r.path,a=r.queryId,s=Nt.relativePath(o,t),u=new Ln(Tn.forServerTaggedQuery(a),s,e);return this.applyTaggedOperation_(o,u)},gi.prototype.applyTaggedQueryMerge=function(t,e,n){var i=this.queryKeyForTag_(n);if(i){var r=gi.parseQueryKey_(i),o=r.path,a=r.queryId,s=Nt.relativePath(o,t),u=Pn.fromObject(e),c=new Fn(Tn.forServerTaggedQuery(a),s,u);return this.applyTaggedOperation_(o,c)}return[]},gi.prototype.applyTaggedListenComplete=function(t,e){var n=this.queryKeyForTag_(e);if(n){var i=gi.parseQueryKey_(n),r=i.path,o=i.queryId,a=Nt.relativePath(r,t),s=new Dn(Tn.forServerTaggedQuery(o),a);return this.applyTaggedOperation_(r,s)}return[]},gi.prototype.addEventRegistration=function(t,e){var n=t.path,i=null,r=!1;this.syncPointTree_.foreachOnPath(n,function(t,e){var o=Nt.relativePath(t,n);i=i||e.getCompleteServerCache(o),r=r||e.hasCompleteView()});var o,a=this.syncPointTree_.get(n);a?(r=r||a.hasCompleteView(),i=i||a.getCompleteServerCache(Nt.Empty)):(a=new si,this.syncPointTree_=this.syncPointTree_.set(n,a)),null!=i?o=!0:(o=!1,i=Ye.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild(function(t,e){var n=e.getCompleteServerCache(Nt.Empty);n&&(i=i.updateImmediateChild(t,n))}));var s=a.viewExistsForQuery(t);if(!s&&!t.getQueryParams().loadsAllData()){var u=gi.makeQueryKey_(t);l(!this.queryToTagMap.has(u),"View does not exist, but we have a tag");var c=gi.getNextQueryTag_();this.queryToTagMap.set(u,c),this.tagToQueryMap.set(c,u)}var h=this.pendingWriteTree_.childWrites(n),f=a.addEventRegistration(t,e,h,i,o);if(!s&&!r){var d=a.viewForQuery(t);f=f.concat(this.setupListener_(t,d))}return f},gi.prototype.removeEventRegistration=function(t,e,n){var i=this,r=t.path,o=this.syncPointTree_.get(r),a=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var s=o.removeEventRegistration(t,e,n);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(r));var u=s.removed;a=s.events;var c=-1!==u.findIndex(function(t){return t.getQueryParams().loadsAllData()}),l=this.syncPointTree_.findOnPath(r,function(t,e){return e.hasCompleteView()});if(c&&!l){var h=this.syncPointTree_.subtree(r);if(!h.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(h),d=0;d<f.length;++d){var p=f[d],v=p.getQuery(),g=this.createListenerForView_(p);this.listenProvider_.startListening(gi.queryForListening_(v),this.tagForQuery_(v),g.hashFn,g.onComplete)}}!l&&0<u.length&&!n&&(c?this.listenProvider_.stopListening(gi.queryForListening_(t),null):u.forEach(function(t){var e=i.queryToTagMap.get(gi.makeQueryKey_(t));i.listenProvider_.stopListening(gi.queryForListening_(t),e)})),this.removeTags_(u)}return a},gi.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,function(e,n){var i=Nt.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r});return n.calcCompleteEventCache(t,i,e,!0)},gi.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var i=[];return e&&(i=e.getQueryViews()),Et(n,function(t,e){i=i.concat(e)}),i})},gi.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var n=t[e];if(!n.getQueryParams().loadsAllData()){var i=gi.makeQueryKey_(n),r=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(r)}}},gi.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},gi.prototype.setupListener_=function(t,e){var n=t.path,i=this.tagForQuery_(t),r=this.createListenerForView_(e),o=this.listenProvider_.startListening(gi.queryForListening_(t),i,r.hashFn,r.onComplete),a=this.syncPointTree_.subtree(n);if(i)l(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var s=a.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),Et(n,function(t,e){i=i.concat(e)}),i}),u=0;u<s.length;++u){var c=s[u];this.listenProvider_.stopListening(gi.queryForListening_(c),this.tagForQuery_(c))}return o},gi.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ye.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(t,n);return e.removeEventRegistration(n,null,r)}}},gi.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},gi.parseQueryKey_=function(t){var e=t.indexOf("$");return l(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Nt(t.substr(0,e))}},gi.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},gi.prototype.tagForQuery_=function(t){var e=gi.makeQueryKey_(t);return this.queryToTagMap.get(e)},gi.getNextQueryTag_=function(){return gi.nextQueryTag_++},gi.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);l(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},gi.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Nt.Empty))},gi.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(Nt.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(Nt.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=i.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return r&&(o=o.concat(r.applyOperation(t,i,n))),o},gi.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,o=e.get(Nt.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Nt.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=i.child(e),c=t.operationForChild(e);c&&(a=a.concat(r.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,i,n))),a},gi.nextQueryTag_=1,gi);function gi(t){this.listenProvider_=t,this.syncPointTree_=Pn.Empty,this.pendingWriteTree_=new hi,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}var mi=(yi.prototype.getNode=function(t){return this.rootNode_.getChild(t)},yi.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},yi);function yi(){this.rootNode_=Ye.EMPTY_NODE}var bi=(_i.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},_i.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},_i.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},_i.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ot(t)},_i);function _i(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}var wi=(Ei.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),T(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},Ei.prototype.get=function(){return function t(e,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return n}for(var i in n)n.hasOwnProperty(i)&&(e[i]=t(e[i],n[i]));return e}(void 0,this.counters_)},Ei);function Ei(){this.counters_={}}var Ci=(Ii.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new wi),this.collections_[e]},Ii.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},Ii.collections_={},Ii.reporters_={},Ii);function Ii(){}var Si=(Ti.prototype.get=function(){var t=this.collection_.get(),e=i({},t);return this.last_&&Et(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},Ti);function Ti(t){this.collection_=t,this.last_=null}var ki=(Ni.prototype.includeStat=function(t){this.statsToReport_[t]=!0},Ni.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;Et(e,function(e,r){0<r&&T(t.statsToReport_,e)&&(n[e]=r,i=!0)}),i&&this.server_.reportStats(n),St(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},Ni);function Ni(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Si(t);var n=1e4+2e4*Math.random();St(this.reportStats_.bind(this),Math.floor(n))}var Ai=(Ri.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Pi(r)),e.add(i)}e&&this.eventLists_.push(e)},Ri.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},Ri.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},Ri.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];i&&(t(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},Ri);function Ri(){this.eventLists_=[],this.recursionDepth_=0}var Pi=(Oi.prototype.add=function(t){this.events_.push(t)},Oi.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();gt&&et("event: "+e.toString()),It(n)}}},Oi.prototype.getPath=function(){return this.path_},Oi);function Oi(t){this.path_=t,this.events_=[]}var Di=(xi.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=a(this.listeners_[t]),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},xi.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},xi.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},xi.prototype.validateEventType_=function(t){l(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},xi);function xi(t){this.allowedEvents_=t,this.listeners_={},l(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}var Li,Mi=(n(Fi,Li=Di),Fi.getInstance=function(){return new Fi},Fi.prototype.getInitialEvent=function(t){return l("visible"===t,"Unknown event type: "+t),[this.visible_]},Fi);function Fi(){var t,e,n=Li.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))},!1),n}var ji,Ui=(n(Vi,ji=Di),Vi.getInstance=function(){return new Vi},Vi.prototype.getInitialEvent=function(t){return l("online"===t,"Unknown event type: "+t),[this.online_]},Vi.prototype.currentlyOnline=function(){return this.online_},Vi);function Vi(){var t=ji.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||v()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}var Bi=(Hi.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Hi.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&It(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},Hi);function Hi(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var Wi=(qi.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Bi(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Ki(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=o(t,5),r=i[0],a=i[1],s=i[2];if(i[3],i[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===r)n.id=a,n.password=s;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=o(t,2),r=i[0],a=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,a)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Ot)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},qi.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},qi.forceAllow=function(){qi.forceAllow_=!0},qi.forceDisallow=function(){qi.forceDisallow_=!0},qi.isAvailable=function(){return!!qi.forceAllow_||!(qi.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},qi.prototype.markConnectionHealthy=function(){},qi.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},qi.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},qi.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},qi.prototype.send=function(t){var e=I(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=ct(function(t){var e=s(t);return f.encodeByteArray(e,!0)}(e),1840),i=0;i<n.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[i]),this.curSegmentNum++},qi.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},qi.prototype.incrementIncomingBytes_=function(t){var e=I(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},qi);function qi(t,e,n,i){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nt(t),this.stats_=Ci.getCollection(e),this.urlFn=function(t){return e.connectionURL(xt,t)}}var Ki=(Gi.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||et("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},Gi.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},Gi.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},Gi.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},Gi.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},Gi.prototype.addLongPollTag_=function(t,e){var n=this;function i(){n.outstandingRequests.delete(e),n.newRequest_()}this.outstandingRequests.add(e);var r=setTimeout(i,Math.floor(25e3));this.addTag(t,function(){clearTimeout(r),i()})},Gi.prototype.addTag=function(t,e){var n=this;setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){et("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(t){}},Math.floor(1))},Gi);function Gi(t,e,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=pt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Gi.createIFrame_();var r="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(r='<script>document.domain="'+document.domain+'";<\/script>');var o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(t){et("frame writing exception"),t.stack&&et(t.stack),et(t)}}var Qi="",Yi=null;"undefined"!=typeof MozWebSocket?Yi=MozWebSocket:"undefined"!=typeof WebSocket&&(Yi=WebSocket);var zi=(Xi.connectionURL_=function(t,e,n){var i={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Ot)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),t.connectionURL(Dt,i)},Xi.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ht.set("previous_websocket_failure",!0);try{if(g()){var i=c.NODE_ADMIN?"AdminNode":"Node",r={headers:{"User-Agent":"Firebase/5/"+Qi+"/"+process.platform+"/"+i}},o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new Yi(this.connURL,[],r)}else this.mySock=new Yi(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var s=t.message||t.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},Xi.prototype.start=function(){},Xi.forceDisallow=function(){Xi.forceDisallow_=!0},Xi.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&null!==Yi&&!Xi.forceDisallow_},Xi.previouslyFailed=function(){return ht.isInMemoryStorage||!0===ht.get("previous_websocket_failure")},Xi.prototype.markConnectionHealthy=function(){ht.remove("previous_websocket_failure")},Xi.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=C(e);this.onMessage(n)}},Xi.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},Xi.prototype.extractFrameCount_=function(t){if(l(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},Xi.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},Xi.prototype.send=function(t){this.resetKeepAlive();var e=I(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=ct(e,16384);1<n.length&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},Xi.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},Xi.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},Xi.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},Xi.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},Xi.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},Xi.responsesRequiredToBeHealthy=2,Xi.healthyTimeout=3e4,Xi);function Xi(t,e,n,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nt(this.connId),this.stats_=Ci.getCollection(e),this.connURL=Xi.connectionURL_(e,n,i)}var Ji=(Object.defineProperty($i,"ALL_TRANSPORTS",{get:function(){return[Wi,zi]},enumerable:!0,configurable:!0}),$i.prototype.initTransports_=function(t){var e,n,i=zi&&zi.isAvailable(),o=i&&!zi.previouslyFailed();if(t.webSocketOnly&&(i||ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[zi];else{var a=this.transports_=[];try{for(var s=r($i.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}},$i.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},$i.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},$i);function $i(t){this.initTransports_(t)}var Zi=(tr.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e.healthyTimeout||0;0<r&&(this.healthyTimeout_=St(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},tr.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},tr.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},tr.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},tr.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},tr.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},tr.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},tr.prototype.onSecondaryMessageReceived_=function(t){var e=ut("t",t),n=ut("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},tr.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},tr.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},tr.prototype.onPrimaryMessageReceived_=function(t){var e=ut("t",t),n=ut("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},tr.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},tr.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},tr.prototype.onControl_=function(t){var e=ut("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?it("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):it("Unknown control packet command: "+e)}},tr.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&ot("Protocol version mismatch detected"),this.tryStartUpgrade_())},tr.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},tr.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),St(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},tr.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},tr.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):St(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},tr.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},tr.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},tr.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ht.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},tr.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},tr.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},tr.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},tr.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},tr);function tr(t,e,n,i,r,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=r,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nt("c:"+this.id+":"),this.transportManager_=new Ji(e),this.log_("Connection created"),this.start_()}var er=(nr.prototype.put=function(t,e,n,i){},nr.prototype.merge=function(t,e,n,i){},nr.prototype.refreshAuthToken=function(t){},nr.prototype.onDisconnectPut=function(t,e,n){},nr.prototype.onDisconnectMerge=function(t,e,n){},nr.prototype.onDisconnectCancel=function(t,e){},nr.prototype.reportStats=function(t){},nr);function nr(){}var ir,rr=(n(or,ir=er),or.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(I(r)),l(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},or.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),l(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),l(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");var a={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)},or.prototype.sendListen_=function(t){var e=this,n=t.query,i=n.path.toString(),r=n.queryIdentifier();this.log_("Listen on "+i+" for "+r);var o={p:i};t.tag&&(o.q=n.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,function(o){var a=o.d,s=o.s;or.warnOnListenWarnings_(a,n),(e.listens.get(i)&&e.listens.get(i).get(r))===t&&(e.log_("listen response",o),"ok"!==s&&e.removeListen_(i,r),t.onComplete&&t.onComplete(s,a))})},or.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&T(t,"w")){var n=k(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index"))ot("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+('".indexOn": "'+e.getQueryParams().getIndex().toString()+'"')+" at "+e.path.toString()+" to your security rules for better performance.")}},or.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},or.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||function(t){var e=S(t).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},or.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=function(t){var n=S(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}()?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},or.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),l(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},or.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},or.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},or.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},or.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},or.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})},or.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},or.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},or.prototype.putInternal=function(t,e,n,i,r){var o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},or.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)})},or.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},or.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+I(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},or.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):it("Unrecognized action received from server: "+I(t)+"\nAre you using the latest client?")},or.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},or.prototype.scheduleConnect_=function(t){var e=this;l(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},or.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},or.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},or.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},or.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+or.nextConnectionId_++,r=this,o=this.lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,n())};this.realtime_={close:u,sendRequest:function(t){l(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)}};var c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then(function(u){a?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),r.authToken_=u&&u.accessToken,s=new Zi(i,r.repoInfo_,t,e,n,function(t){ot(t+" ("+r.repoInfo_.toString()+")"),r.interrupt("server_kill")},o))}).then(null,function(t){r.log_("Failed to get token: "+t),a||u()})}},or.prototype.interrupt=function(t){et("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},or.prototype.resume=function(t){et("Resuming connection for reason: "+t),delete this.interruptReasons_[t],N(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},or.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},or.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},or.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return wt(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},or.prototype.removeListen_=function(t,e){var n,i=new Nt(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},or.prototype.onAuthRevoked_=function(t,e){et("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},or.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},or.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth();try{for(var o=r(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,r(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}},or.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+Qi.replace(/\./g,"-")]=1,v()?t["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(t["framework.reactnative"]=1),this.reportStats(t)},or.prototype.shouldReconnect_=function(){var t=Ui.getInstance().currentlyOnline();return N(this.interruptReasons_)&&t},or.nextPersistentConnectionId_=0,or.nextConnectionId_=0,or);function or(t,e,n,i,r,o){var a=ir.call(this)||this;if(a.repoInfo_=t,a.onDataUpdate_=e,a.onConnectStatus_=n,a.onServerInfoUpdate_=i,a.authTokenProvider_=r,a.authOverride_=o,a.id=or.nextPersistentConnectionId_++,a.log_=nt("p:"+a.id+":"),a.interruptReasons_={},a.listens=new Map,a.outstandingPuts_=[],a.outstandingPutCount_=0,a.onDisconnectRequestQueue_=[],a.connected_=!1,a.reconnectDelay_=1e3,a.maxReconnectDelay_=3e5,a.securityDebugCallback_=null,a.lastSessionId=null,a.establishConnectionTimer_=null,a.visible_=!1,a.requestCBHash_={},a.requestNumber_=0,a.realtime_=null,a.authToken_=null,a.forceTokenRefresh_=!1,a.invalidAuthTokenCount_=0,a.firstConnection_=!0,a.lastConnectionAttemptTime_=null,a.lastConnectionEstablishedTime_=null,o&&!g())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return a.scheduleConnect_(0),Mi.getInstance().on("visible",a.onVisible_,a),-1===t.host.indexOf("fblocal")&&Ui.getInstance().on("online",a.onOnline_,a),a}var ar,sr=(n(ur,ar=er),ur.prototype.reportStats=function(t){throw new Error("Method not implemented.")},ur.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(l(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},ur.prototype.listen=function(t,e,n,i){var r=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var a=ur.getListenId_(t,n),s={};this.listens_[a]=s;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(o+".json",u,function(t,e){var u=e;404===t&&(t=u=null),null===t&&r.onDataUpdate_(o,u,!1,n),k(r.listens_,a)===s&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},ur.prototype.unlisten=function(t,e){var n=ur.getListenId_(t,e);delete this.listens_[n]},ur.prototype.refreshAuthToken=function(t){},ur.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(r){var o=r&&r.accessToken;o&&(e.auth=o);var a=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);i.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){i.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(200<=s.status&&s.status<300){try{t=C(s.responseText)}catch(t){ot("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&ot("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},ur);function ur(t,e,n){var i=ar.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=e,i.authTokenProvider_=n,i.log_=nt("p:rest:"),i.listens_={},i}var cr="repo_interrupt",lr=(hr.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},hr.prototype.name=function(){return this.repoInfo_.namespace},hr.prototype.serverTime=function(){var t=this.infoData_.getNode(new Nt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},hr.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},hr.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new Nt(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(i)if(n){var a=A(e,function(t){return tn(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(r,a,i)}else{var s=tn(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(r,s,i)}else if(n){var u=A(e,function(t){return tn(t)});o=this.serverSyncTree_.applyServerMerge(r,u)}else{var c=tn(e);o=this.serverSyncTree_.applyServerOverwrite(r,c)}var l=r;0<o.length&&(l=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(l,o)},hr.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},hr.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},hr.prototype.onServerInfoUpdate_=function(t){var e=this;Et(t,function(t,n){e.updateInfo_(t,n)})},hr.prototype.updateInfo_=function(t,e){var n=new Nt("/.info/"+t),i=tn(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},hr.prototype.getNextWriteId_=function(){return this.nextWriteId_++},hr.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=tn(e,n),s=Sn(a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||ot("set at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(u,!o);r.eventQueue_.raiseEventsForChangedPath(t,a),r.callOnCompleteCallback(i,e,n)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},hr.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,o=this.generateServerValues(),a={};if(Et(e,function(t,e){r=!1;var n=tn(e);a[t]=Sn(n,o)}),r)et("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,function(e,r){var o="ok"===e;o||ot("update at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(s,!o),u=0<a.length?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(u,a),i.callOnCompleteCallback(n,e,r)}),Et(e,function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},hr.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new _n;return t.forEachTree(new Nt(""),function(t,i){n.remember(t,Sn(i,e))}),n}(this.onDisconnect_,e),i=[];n.forEachTree(Nt.Empty,function(e,n){i=i.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var r=t.abortTransactions_(e);t.rerunTransactions_(r)}),this.onDisconnect_=new _n,this.eventQueue_.raiseEventsForChangedPath(Nt.Empty,i)},hr.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)})},hr.prototype.onDisconnectSet=function(t,e,n){var i=this,r=tn(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),function(e,o){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,o)})},hr.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,o=tn(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(i,e,n)})},hr.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(N(e))return et("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(r,o){"ok"===r&&Et(e,function(e,n){var r=tn(n);i.onDisconnect_.remember(t.child(e),r)}),i.callOnCompleteCallback(n,r,o)})},hr.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},hr.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},hr.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(cr)},hr.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(cr)},hr.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;e=t?(this.statsListener_||(this.statsListener_=new Si(this.stats_)),this.statsListener_.get()):this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);Et(e,function(t,e){for(var i=t,r=t.length;r<n+2;r++)i+=" ";console.log(i+e)})}},hr.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},hr.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),et.apply(void 0,a([n],t))},hr.prototype.callOnCompleteCallback=function(t,e,n){t&&It(function(){if("ok"===e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var o=new Error(r);o.code=i,t(o)}})},Object.defineProperty(hr.prototype,"database",{get:function(){return this.__database||(this.__database=new Rr(this))},enumerable:!0,configurable:!0}),hr);function hr(t,e,n,i){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ai,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new _n,this.persistentConnection_=null;var o=new bi(n,i);if(this.stats_=Ci.getCollection(t),e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new sr(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{I(a)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new rr(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=Ci.getOrCreateReporter(t,function(){return new ki(r.stats_,r.server_)}),this.transactionsInit_(),this.infoData_=new mi,this.infoSyncTree_=new vi({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new vi({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}var fr=(dr.prototype.getStartPost=function(){return this.startPost_},dr.prototype.getEndPost=function(){return this.endPost_},dr.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},dr.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new ue(e,n))||(n=Ye.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},dr.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ye.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Ye.EMPTY_NODE);var r=this;return e.forEachChild(ke,function(t,e){r.matches(new ue(t,e))||(i=i.updateImmediateChild(t,Ye.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},dr.prototype.updatePriority=function(t,e){return t},dr.prototype.filtersNodes=function(){return!0},dr.prototype.getIndexedFilter=function(){return this.indexedFilter_},dr.prototype.getIndex=function(){return this.index_},dr.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},dr.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},dr);function dr(t){this.indexedFilter_=new Kn(t.getIndex()),this.index_=t.getIndex(),this.startPost_=dr.getStartPost_(t),this.endPost_=dr.getEndPost_(t)}var pr=(vr.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new ue(e,n))||(n=Ye.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},vr.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Ye.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Ye.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var a=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(a.name,a.node),o++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Ye.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else r=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;r.hasNext();)a=r.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:i=i.updateImmediateChild(a.name,Ye.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},vr.prototype.updatePriority=function(t,e){return t},vr.prototype.filtersNodes=function(){return!0},vr.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},vr.prototype.getIndex=function(){return this.index_},vr.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;l(s.numChildren()===this.limit_,"");var u=new ue(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var f=s.getImmediateChild(e),d=i.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===e||s.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,u);if(h&&!n.isEmpty()&&0<=p)return null!=r&&r.trackChildChange(Wn.childChangedChange(e,n,f)),s.updateImmediateChild(e,n);null!=r&&r.trackChildChange(Wn.childRemovedChange(e,f));var v=s.updateImmediateChild(e,Ye.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=r&&r.trackChildChange(Wn.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&0<=o(c,u)?(null!=r&&(r.trackChildChange(Wn.childRemovedChange(c.name,c.node)),r.trackChildChange(Wn.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Ye.EMPTY_NODE)):t},vr);function vr(t){this.rangedFilter_=new fr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}var gr=(mr.prototype.hasStart=function(){return this.startSet_},mr.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===mr.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},mr.prototype.getIndexStartValue=function(){return l(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},mr.prototype.getIndexStartName=function(){return l(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yt},mr.prototype.hasEnd=function(){return this.endSet_},mr.prototype.getIndexEndValue=function(){return l(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},mr.prototype.getIndexEndName=function(){return l(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bt},mr.prototype.hasLimit=function(){return this.limitSet_},mr.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},mr.prototype.getLimit=function(){return l(this.limitSet_,"Only valid if limit has been set"),this.limit_},mr.prototype.getIndex=function(){return this.index_},mr.prototype.copy_=function(){var t=new mr;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},mr.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},mr.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=mr.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},mr.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=mr.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},mr.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},mr.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},mr.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},mr.prototype.getQueryObject=function(){var t=mr.WIRE_PROTOCOL_CONSTANTS_,e={};if(this.startSet_&&(e[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(e[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(e[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(e[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){e[t.LIMIT]=this.limit_;var n=this.viewFrom_;""===n&&(n=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),e[t.VIEW_FROM]=n}return this.index_!==ke&&(e[t.INDEX]=this.index_.toString()),e},mr.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},mr.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ke},mr.prototype.getNodeFilter=function(){return this.loadsAllData()?new Kn(this.getIndex()):this.hasLimit()?new pr(this):new fr(this)},mr.prototype.toRestQueryStringParameters=function(){var t,e=mr.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(t=this.index_===ke?e.PRIORITY_INDEX:this.index_===rn?e.VALUE_INDEX:this.index_===me?e.KEY_INDEX:(l(this.index_ instanceof on,"Unrecognized index type!"),this.index_.toString()),n[e.ORDER_BY]=I(t),this.startSet_&&(n[e.START_AT]=I(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+I(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=I(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+I(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_)),n},mr.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},mr.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},mr.DEFAULT=new mr,mr);function mr(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}var yr,br=(n(_r,yr=yn),_r.prototype.getKey=function(){return L("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},_r.prototype.child=function(t){return L("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Nt||(null===this.path.getFront()?Gt("Reference.child",1,e=(e=t)&&e.replace(/^\/*\.info(\/|$)/,"/"),!1):Gt("Reference.child",1,t,!1)),new _r(this.repo,this.path.child(t));var e},_r.prototype.getParent=function(){L("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new _r(this.repo,t)},_r.prototype.getRoot=function(){L("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},_r.prototype.databaseProp=function(){return this.repo.database},_r.prototype.set=function(t,e){L("Reference.set",1,2,arguments.length),Qt("Reference.set",this.path),Bt("Reference.set",1,t,this.path,!1),F("Reference.set",2,e,!0);var n=new d;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},_r.prototype.update=function(t,e){if(L("Reference.update",1,2,arguments.length),Qt("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,ot("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ht("Reference.update",1,t,this.path,!1),F("Reference.update",2,e,!0);var r=new d;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},_r.prototype.setWithPriority=function(t,e,n){if(L("Reference.setWithPriority",2,3,arguments.length),Qt("Reference.setWithPriority",this.path),Bt("Reference.setWithPriority",1,t,this.path,!1),Wt("Reference.setWithPriority",2,e,!1),F("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new d;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},_r.prototype.remove=function(t){return L("Reference.remove",0,1,arguments.length),Qt("Reference.remove",this.path),F("Reference.remove",1,t,!0),this.set(null,t)},_r.prototype.transaction=function(t,e,n){if(L("Reference.transaction",1,3,arguments.length),Qt("Reference.transaction",this.path),F("Reference.transaction",1,t,!1),F("Reference.transaction",2,e,!0),function(t,e,n,i){if(void 0!==n&&"boolean"!=typeof n)throw new Error(M("Reference.transaction",3,!0)+"must be a boolean.")}(0,0,n),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new d;return"function"==typeof e&&i.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,r){t?i.reject(t):i.resolve(new ne(n,r)),"function"==typeof e&&e(t,n,r)},n),i.promise},_r.prototype.setPriority=function(t,e){L("Reference.setPriority",1,2,arguments.length),Qt("Reference.setPriority",this.path),Wt("Reference.setPriority",1,t,!1),F("Reference.setPriority",2,e,!0);var n=new d;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},_r.prototype.push=function(t,e){L("Reference.push",0,2,arguments.length),Qt("Reference.push",this.path),Bt("Reference.push",1,t,this.path,!0),F("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=se(i),o=this.child(r),a=this.child(r);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},_r.prototype.onDisconnect=function(){return Qt("Reference.onDisconnect",this.path),new te(this.repo,this.path)},Object.defineProperty(_r.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(_r.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(_r.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(_r.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),_r);function _r(t,e){if(!(t instanceof lr))throw new Error("new Reference() no longer supported - use app.database().");return yr.call(this,t,e,gr.DEFAULT,!1)||this}yn.__referenceConstructor=br,si.__referenceConstructor=br;var wr,Er,Cr=function(){this.children={},this.childCount=0,this.value=null},Ir=(Sr.prototype.subTree=function(t){for(var e=t instanceof Nt?t:new Nt(t),n=this,i=e.getFront();null!==i;)n=new Sr(i,n,k(n.node_.children,i)||new Cr),i=(e=e.popFront()).getFront();return n},Sr.prototype.getValue=function(){return this.node_.value},Sr.prototype.setValue=function(t){l(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},Sr.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},Sr.prototype.hasChildren=function(){return 0<this.node_.childCount},Sr.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},Sr.prototype.forEachChild=function(t){var e=this;Et(this.node_.children,function(n,i){t(new Sr(n,e,i))})},Sr.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},Sr.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},Sr.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},Sr.prototype.path=function(){return new Nt(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},Sr.prototype.name=function(){return this.name_},Sr.prototype.parent=function(){return this.parent_},Sr.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},Sr.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=T(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},Sr);function Sr(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Cr),this.name_=t,this.parent_=e,this.node_=n}(Er=wr=wr||{})[Er.RUN=0]="RUN",Er[Er.SENT=1]="SENT",Er[Er.COMPLETED=2]="COMPLETED",Er[Er.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",Er[Er.NEEDS_ABORT=4]="NEEDS_ABORT",lr.MAX_TRANSACTION_RETRIES_=25,lr.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Ir},lr.prototype.startTransaction=function(t,e,n,i){function r(){}this.log_("transaction on "+t);var o=new br(this,t);o.on("value",r);var a={path:t,update:e,onComplete:n,status:null,order:pt(),applyLocally:i,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new sn(a.currentInputSnapshot,new br(this,a.path),ke);a.onComplete(null,!1,c)}}else{Zt("transaction failed: Data returned ",u,a.path),a.status=wr.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(a),h.setValue(f);var d=void 0;"object"==typeof u&&null!==u&&T(u,".priority")?(d=k(u,".priority"),l(Vt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||Ye.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),v=tn(u,d),g=Sn(v,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,g,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},lr.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ye.EMPTY_NODE},lr.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);l(0<n.length,"Sending zero length transaction queue"),n.every(function(t){return t.status===wr.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},lr.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map(function(t){return t.currentWriteId}),r=this.getLatestState_(t,i),o=r,a=r.hash(),s=0;s<e.length;s++){var u=e[s];l(u.status===wr.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=wr.SENT,u.retryCount++;var c=Nt.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var h=o.val(!0),f=t;this.server_.put(f.toString(),h,function(i){n.log_("transaction put response",{path:f.toString(),status:i});var r=[];if("ok"===i){for(var o=[],a=0;a<e.length;a++){if(e[a].status=wr.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new br(n,e[a].path),c=new sn(s,u,ke);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r),a=0;a<o.length;a++)It(o[a])}else{if("datastale"===i)for(a=0;a<e.length;a++)e[a].status===wr.SENT_NEEDS_ABORT?e[a].status=wr.NEEDS_ABORT:e[a].status=wr.RUN;else for(ot("transaction at "+f.toString()+" failed: "+i),a=0;a<e.length;a++)e[a].status=wr.NEEDS_ABORT,e[a].abortReason=i;n.rerunTransactions_(t)}},a)},lr.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},lr.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,i=[],r=[],o=t.filter(function(t){return t.status===wr.RUN}).map(function(t){return t.currentWriteId}),a=0;a<t.length;a++){var s=t[a],u=Nt.relativePath(e,s.path),c=!1,h=void 0;if(l(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===wr.NEEDS_ABORT)c=!0,h=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===wr.RUN)if(s.retryCount>=lr.MAX_TRANSACTION_RETRIES_)c=!0,h="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var f=this.getLatestState_(s.path,o);s.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){Zt("transaction failed: Data returned ",d,s.path);var p=tn(d);"object"==typeof d&&null!=d&&T(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=s.currentWriteId,g=this.generateServerValues(),m=Sn(p,g);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,m,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else c=!0,h="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[a].status=wr.COMPLETED,n=t[a].unwatcher,setTimeout(n,Math.floor(0)),t[a].onComplete))if("nodata"===h){var y=new br(this,t[a].path),b=t[a].currentInputSnapshot,_=new sn(b,y,ke);i.push(t[a].onComplete.bind(null,null,!1,_))}else i.push(t[a].onComplete.bind(null,new Error(h),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),a=0;a<i.length;a++)It(i[a]);this.sendReadyTransactions_()}},lr.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},lr.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},lr.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},lr.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==wr.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(0<n.length?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},lr.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},lr.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,o=0;o<e.length;o++)e[o].status===wr.SENT_NEEDS_ABORT||(e[o].status===wr.SENT?(l(r===o-1,"All SENT items should be at beginning of queue."),e[r=o].status=wr.SENT_NEEDS_ABORT,e[o].abortReason="set"):(l(e[o].status===wr.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i),o=0;o<n.length;o++)It(n[o])}};var Tr,kr="databaseURL",Nr=(Ar.getInstance=function(){return Tr=Tr||new Ar},Ar.prototype.interrupt=function(){var t,e,n,i;try{for(var o=r(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,r(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].interrupt()}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},Ar.prototype.resume=function(){var t,e,n,i;try{for(var o=r(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,r(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].resume()}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},Ar.prototype.databaseFromApp=function(t,e,n){var i=n||t.options[kr];void 0===i&&rt("Can't determine Firebase Database URL.  Be sure to include "+kr+" option when calling firebase.initializeApp().");var r=Ft(i),o=r.repoInfo,a=void 0;return"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a&&(o=(r=Ft(i="http://"+a+"?ns="+o.namespace)).repoInfo),Yt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||rt("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,e).database},Ar.prototype.deleteRepo=function(t){var e=k(this.repos_,t.app.name);e&&k(e,t.repoInfo_.toURLString())===t||rt("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},Ar.prototype.createRepo=function(t,e,n){var i=k(this.repos_,e.name);i||(i={},this.repos_[e.name]=i);var r=k(i,t.toURLString());return r&&rt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new lr(t,this.useRestClient_,e,n),i[t.toURLString()]=r},Ar.prototype.forceRestClient=function(t){this.useRestClient_=t},Ar);function Ar(){this.repos_={},this.useRestClient_=!1}var Rr=(Object.defineProperty(Pr.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),Pr.prototype.ref=function(t){return this.checkDeleted_("ref"),L("database.ref",0,1,arguments.length),t instanceof br?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},Pr.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),L(e,1,1,arguments.length);var n=Ft(t);Yt(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&rt(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},Pr.prototype.checkDeleted_=function(t){null===this.repo_&&rt("Cannot call "+t+" on a deleted database.")},Pr.prototype.goOffline=function(){L("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},Pr.prototype.goOnline=function(){L("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},Pr.ServerValue={TIMESTAMP:{".sv":"timestamp"}},Pr);function Pr(t){(this.repo_=t)instanceof lr||rt("Don't call new Database() directly - please use firebase.database()."),this.root_=new br(t,Nt.Empty),this.INTERNAL=new Or(this)}var Or=(Dr.prototype.delete=function(){return t=this,e=void 0,i=function(){return function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(t){return this.database.checkDeleted_("delete"),Nr.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})},new(n=(n=void 0)||Promise)(function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(a,s)}u((i=i.apply(t,e||[])).next())});var t,e,n,i},Dr);function Dr(t){this.database=t}var xr=Object.freeze({__proto__:null,forceLongPolling:function(){zi.forceDisallow(),Wi.forceAllow()},forceWebSockets:function(){Wi.forceDisallow()},isWebSocketsAvailable:function(){return zi.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),Lr=rr;rr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},rr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Mr,Fr,jr=Zi,Ur=Lt,Vr=Object.freeze({__proto__:null,DataConnection:Lr,RealTimeConnection:jr,hijackHash:function(t){var e=rr.prototype.put;return rr.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){rr.prototype.put=e}},ConnectionTarget:Ur,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){Nr.getInstance().forceRestClient(t)}}),Br=Rr.ServerValue;Mr=(Fr=t).SDK_VERSION,Qi=Mr,Fr.INTERNAL.registerComponent(new G("database",function(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return Nr.getInstance().databaseFromApp(n,i,e)},"PUBLIC").setServiceProps({Reference:br,Query:yn,Database:Rr,DataSnapshot:sn,enableLogging:tt,INTERNAL:xr,ServerValue:Br,TEST_ACCESS:Vr}).setMultipleInstances(!0)),Fr.registerVersion("@firebase/database","0.5.24")}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-database.js - be sure to load firebase-app.js first.")}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e((t=t||self).firebase)}(this,function(t){"use strict";try{(function(){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)},n=function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function i(t,e,n,i){return new(n=n||Promise)(function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(a,s)}u((i=i.apply(t,e||[])).next())})}function r(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}var s,u,c,l=(c=Error,e(s=f,u=c),s.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h),f);function h(){this.constructor=s}function f(t,e){var n=c.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,f.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,d.prototype.create),n}var d=(p.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return o.replace(v,function(t,n){var i=e[n];return null!=i?i.toString():"<"+n+"?>"})}(0,i):"Error",s=this.serviceName+": "+a+" ("+r+").",u=new l(r,s),c=0,h=Object.keys(i);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=i[f])}return u},p);function p(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var v=/\{\$([^}]+)}/g,g=(m.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},m.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},m.prototype.setServiceProps=function(t){return this.serviceProps=t,this},m);function m(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}function y(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function b(t,e,n){var i,r=new Promise(function(r,o){y(i=t[e].apply(t,n)).then(r,o)});return r.request=i,r}function _(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function w(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return b(this[e],i,arguments)})})}function E(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function C(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return function(t,e,n){var i=b(t,e,n);return i.then(function(t){if(t)return new S(t,i.request)})}(this[e],i,arguments)})})}function I(t){this._index=t}function S(t,e){this._cursor=t,this._request=e}function T(t){this._store=t}function k(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function N(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new k(n)}function A(t){this._db=t}_(I,"_index",["name","keyPath","multiEntry","unique"]),w(I,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),C(I,"_index",IDBIndex,["openCursor","openKeyCursor"]),_(S,"_cursor",["direction","key","primaryKey","value"]),w(S,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(S.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),y(e._request).then(function(t){if(t)return new S(t,e._request)})})})}),T.prototype.createIndex=function(){return new I(this._store.createIndex.apply(this._store,arguments))},T.prototype.index=function(){return new I(this._store.index.apply(this._store,arguments))},_(T,"_store",["name","keyPath","indexNames","autoIncrement"]),w(T,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),C(T,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),E(T,"_store",IDBObjectStore,["deleteIndex"]),k.prototype.objectStore=function(){return new T(this._tx.objectStore.apply(this._tx,arguments))},_(k,"_tx",["objectStoreNames","mode"]),E(k,"_tx",IDBTransaction,["abort"]),N.prototype.createObjectStore=function(){return new T(this._db.createObjectStore.apply(this._db,arguments))},_(N,"_db",["name","version","objectStoreNames"]),E(N,"_db",IDBDatabase,["deleteObjectStore","close"]),A.prototype.transaction=function(){return new k(this._db.transaction.apply(this._db,arguments))},_(A,"_db",["name","version","objectStoreNames"]),E(A,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[T,I].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=function(t){return Array.prototype.slice.call(t)}(arguments),n=e[e.length-1],i=this._store||this._index,r=i[t].apply(i,e.slice(0,-1));r.onsuccess=function(){n(r.result)}})})}),[I,T].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise(function(r){n.iterateCursor(t,function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)})})})});var R,P="0.4.6",O=1e4,D="w:"+P,x="FIS_v2",L="https://firebaseinstallations.googleapis.com/v1",M=36e5,F=((R={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',R["not-registered"]="Firebase Installation is not registered.",R["installation-not-found"]="Firebase Installation not found.",R["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',R["app-offline"]="Could not process request. Application offline.",R["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",R),j=new d("installations","Installations",F);function U(t){return t instanceof l&&t.code.includes("request-failed")}function V(t){var e=t.projectId;return L+"/projects/"+e+"/installations"}function B(t){return{token:t.token,requestStatus:2,expiresIn:function(t){return Number(t.replace("s","000"))}(t.expiresIn),creationTime:Date.now()}}function H(t,e){return i(this,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),i=n.error,[2,j.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})]}})})}function W(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function q(t,e){var n=e.refreshToken,i=W(t);return i.append("Authorization",x+" "+n),i}function K(t){return i(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return 500<=(e=n.sent()).status&&e.status<600?[2,t()]:[2,e]}})})}function G(t){return new Promise(function(e){setTimeout(e,t)})}var Q=/^[cdef][\w-]{21}$/,Y="";function z(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return function(t){return btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}(t))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Q.test(e)?e:Y}catch(t){return Y}}function X(t){return t.appName+"!"+t.appId}var J=new Map;function $(t,e){var n=X(t);Z(n,e),function(t,e){var n=et();n&&n.postMessage({key:t,fid:e}),nt()}(n,e)}function Z(t,e){var n,i,r=J.get(t);if(r)try{for(var a=o(r),s=a.next();!s.done;s=a.next())(0,s.value)(e)}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}var tt=null;function et(){return!tt&&"BroadcastChannel"in self&&((tt=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Z(t.data.key,t.data.fid)}),tt}function nt(){0===J.size&&tt&&(tt.close(),tt=null)}var it,rt,ot,at,st="firebase-installations-database",ut=1,ct="firebase-installations-store",lt=null;function ht(){return lt=lt||(t=function(t){switch(t.oldVersion){case 0:t.createObjectStore(ct)}},e=b(indexedDB,"open",[st,ut]),(n=e.request)&&(n.onupgradeneeded=function(e){t&&t(new N(n.result,e.oldVersion,n.transaction))}),e.then(function(t){return new A(t)}));var t,e,n}function ft(t,e){return i(this,void 0,void 0,function(){var n,i,o,a,s;return r(this,function(r){switch(r.label){case 0:return n=X(t),[4,ht()];case 1:return i=r.sent(),o=i.transaction(ct,"readwrite"),[4,(a=o.objectStore(ct)).get(n)];case 2:return s=r.sent(),[4,a.put(e,n)];case 3:return r.sent(),[4,o.complete];case 4:return r.sent(),s&&s.fid===e.fid||$(t,e.fid),[2,e]}})})}function dt(t){return i(this,void 0,void 0,function(){var e,n,i;return r(this,function(r){switch(r.label){case 0:return e=X(t),[4,ht()];case 1:return n=r.sent(),[4,(i=n.transaction(ct,"readwrite")).objectStore(ct).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function pt(t,e){return i(this,void 0,void 0,function(){var n,i,o,a,s,u;return r(this,function(r){switch(r.label){case 0:return n=X(t),[4,ht()];case 1:return i=r.sent(),o=i.transaction(ct,"readwrite"),[4,(a=o.objectStore(ct)).get(n)];case 2:return s=r.sent(),void 0!==(u=e(s))?[3,4]:[4,a.delete(n)];case 3:return r.sent(),[3,6];case 4:return[4,a.put(u,n)];case 5:r.sent(),r.label=6;case 6:return[4,o.complete];case 7:return r.sent(),!u||s&&s.fid===u.fid||$(t,u.fid),[2,u]}})})}function vt(t){return i(this,void 0,void 0,function(){var e,n,o;return r(this,function(a){switch(a.label){case 0:return[4,pt(t,function(n){var o=function(t){return mt(t||{fid:z(),registrationStatus:0})}(n),a=function(t,e){if(0!==e.registrationStatus)return 1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return i(this,void 0,void 0,function(){var e,n,i,o;return r(this,function(r){switch(r.label){case 0:return[4,gt(t)];case 1:e=r.sent(),r.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,G(100)];case 3:return r.sent(),[4,gt(t)];case 4:return e=r.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,vt(t)];case 6:return n=r.sent(),i=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,i];case 7:return[2,e]}})})}(t)}:{installationEntry:e};if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(j.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},o=function(t,e){return i(this,void 0,void 0,function(){var n,o;return r(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,7]),[4,function(t,n){var o=e.fid;return i(this,void 0,void 0,function(){var e,n,i,a,s,u;return r(this,function(r){switch(r.label){case 0:return e=V(t),n=W(t),i={fid:o,authVersion:x,appId:t.appId,sdkVersion:D},a={method:"POST",headers:n,body:JSON.stringify(i)},[4,K(function(){return fetch(e,a)})];case 1:return(s=r.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,{fid:(u=r.sent()).fid||o,registrationStatus:2,refreshToken:u.refreshToken,authToken:B(u.authToken)}];case 3:return[4,H("Create Installation",s)];case 4:throw r.sent()}})})}(t)];case 1:return n=a.sent(),[2,ft(t,n)];case 2:return U(o=a.sent())&&409===o.serverCode?[4,dt(t)]:[3,4];case 3:return a.sent(),[3,6];case 4:return[4,ft(t,{fid:e.fid,registrationStatus:0})];case 5:a.sent(),a.label=6;case 6:throw o;case 7:return[2]}})})}(t,n);return{installationEntry:n,registrationPromise:o}}(t,o);return e=a.registrationPromise,a.installationEntry})];case 1:return(n=a.sent()).fid!==Y?[3,3]:(o={},[4,e]);case 2:return[2,(o.installationEntry=a.sent(),o)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function gt(t){return pt(t,function(t){if(!t)throw j.create("installation-not-found");return mt(t)})}function mt(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+O<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function yt(t,e){var n=t.appConfig,o=t.platformLoggerProvider;return i(this,void 0,void 0,function(){var t,i,a,s,u,c;return r(this,function(r){switch(r.label){case 0:return t=function(t,n){var i=e.fid;return V(t)+"/"+i+"/authTokens:generate"}(n),i=q(n,e),(a=o.getImmediate({optional:!0}))&&i.append("x-firebase-client",a.getPlatformInfoString()),s={installation:{sdkVersion:D}},u={method:"POST",headers:i,body:JSON.stringify(s)},[4,K(function(){return fetch(t,u)})];case 1:return(c=r.sent()).ok?[4,c.json()]:[3,3];case 2:return[2,B(r.sent())];case 3:return[4,H("Generate Auth Token",c)];case 4:throw r.sent()}})})}function bt(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,function(){var o,a,s;return r(this,function(u){switch(u.label){case 0:return[4,pt(t.appConfig,function(a){if(!wt(a))throw j.create("not-registered");var s=a.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+M}(t)}(s))return a;if(1===s.requestStatus)return o=function(t,e){return i(this,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:return[4,_t(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,G(100)];case 3:return r.sent(),[4,_t(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(i=n.authToken).requestStatus?[2,bt(t,e)]:[2,i]}})})}(t,e),a;if(!navigator.onLine)throw j.create("app-offline");var u=function(t){var e={requestStatus:1,requestTime:Date.now()};return n(n({},t),{authToken:e})}(a);return o=function(t,e){return i(this,void 0,void 0,function(){var i,o,a;return r(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,8]),[4,yt(t,e)];case 1:return i=r.sent(),a=n(n({},e),{authToken:i}),[4,ft(t.appConfig,a)];case 2:return r.sent(),[2,i];case 3:return!U(o=r.sent())||401!==o.serverCode&&404!==o.serverCode?[3,5]:[4,dt(t.appConfig)];case 4:return r.sent(),[3,7];case 5:return a=n(n({},e),{authToken:{requestStatus:0}}),[4,ft(t.appConfig,a)];case 6:r.sent(),r.label=7;case 7:throw o;case 8:return[2]}})})}(t,u),u})];case 1:return a=u.sent(),o?[4,o]:[3,3];case 2:return s=u.sent(),[3,4];case 3:s=a.authToken,u.label=4;case 4:return[2,s]}})})}function _t(t){return pt(t,function(t){if(!wt(t))throw j.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+O<Date.now()}(t.authToken)?n(n({},t),{authToken:{requestStatus:0}}):t})}function wt(t){return void 0!==t&&2===t.registrationStatus}function Et(t,e){return i(this,void 0,void 0,function(){var n,i,o,a;return r(this,function(r){switch(r.label){case 0:return n=function(t,n){var i=e.fid;return V(t)+"/"+i}(t),i=q(t,e),o={method:"DELETE",headers:i},[4,K(function(){return fetch(n,o)})];case 1:return(a=r.sent()).ok?[3,3]:[4,H("Delete Installation",a)];case 2:throw r.sent();case 3:return[2]}})})}function Ct(t){return j.create("missing-app-config-values",{valueName:t})}function It(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function St(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var r=(new Date).toISOString(),o=kt[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,It(["["+r+"]  "+t.name+":"],n))}}(it=t).INTERNAL.registerComponent(new g("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Ct("App Configuration");if(!t.name)throw Ct("App Name");try{for(var i=o(["projectId","apiKey","appId"]),r=i.next();!r.done;r=i.next()){var a=r.value;if(!t.options[a])throw Ct(a)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return i(this,void 0,void 0,function(){var e,n,i;return r(this,function(r){switch(r.label){case 0:return[4,vt(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)?i.catch(console.error):bt(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,function(t){return i(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return[4,vt(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}(t.appConfig)];case 1:return n.sent(),[4,bt(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return i(this,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:return[4,pt(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=i.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw j.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw j.create("app-offline");case 3:return[4,Et(e,n)];case 4:return i.sent(),[4,dt(e)];case 5:i.sent(),i.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){et();var n=X(t),i=J.get(n);i||(i=new Set,J.set(n,i)),i.add(e)}(n,e),function(){!function(t,e){var n=X(t),i=J.get(n);i&&(i.delete(e),0===i.size&&J.delete(n),nt())}(n,e)}}(n,t)}}},"PUBLIC")),it.registerVersion("@firebase/installations",P),(at=ot=ot||{})[at.DEBUG=0]="DEBUG",at[at.VERBOSE=1]="VERBOSE",at[at.INFO=2]="INFO",at[at.WARN=3]="WARN",at[at.ERROR=4]="ERROR",at[at.SILENT=5]="SILENT",ot.DEBUG,ot.VERBOSE,ot.INFO,ot.WARN,ot.ERROR,ot.SILENT;var Tt=ot.INFO,kt=((rt={})[ot.DEBUG]="log",rt[ot.VERBOSE]="log",rt[ot.INFO]="info",rt[ot.WARN]="warn",rt[ot.ERROR]="error",rt),Nt=(Object.defineProperty(At.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ot))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),At.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,It([this,ot.DEBUG],t)),this._logHandler.apply(this,It([this,ot.DEBUG],t))},At.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,It([this,ot.VERBOSE],t)),this._logHandler.apply(this,It([this,ot.VERBOSE],t))},At.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,It([this,ot.INFO],t)),this._logHandler.apply(this,It([this,ot.INFO],t))},At.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,It([this,ot.WARN],t)),this._logHandler.apply(this,It([this,ot.WARN],t))},At.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,It([this,ot.ERROR],t)),this._logHandler.apply(this,It([this,ot.ERROR],t))},At);function At(t){this.name=t,this._logLevel=Tt,this._logHandler=St,this._userLogHandler=null}var Rt,Pt,Ot,Dt,xt="measurementId",Lt="firebase_id",Mt="origin",Ft="https://www.googletagmanager.com/gtag/js";(Pt=Rt=Rt||{}).EVENT="event",Pt.SET="set",Pt.CONFIG="config",(Dt=Ot=Ot||{}).ADD_PAYMENT_INFO="add_payment_info",Dt.ADD_TO_CART="add_to_cart",Dt.ADD_TO_WISHLIST="add_to_wishlist",Dt.BEGIN_CHECKOUT="begin_checkout",Dt.CHECKOUT_PROGRESS="checkout_progress",Dt.EXCEPTION="exception",Dt.GENERATE_LEAD="generate_lead",Dt.LOGIN="login",Dt.PAGE_VIEW="page_view",Dt.PURCHASE="purchase",Dt.REFUND="refund",Dt.REMOVE_FROM_CART="remove_from_cart",Dt.SCREEN_VIEW="screen_view",Dt.SEARCH="search",Dt.SELECT_CONTENT="select_content",Dt.SET_CHECKOUT_OPTION="set_checkout_option",Dt.SHARE="share",Dt.SIGN_UP="sign_up",Dt.TIMING_COMPLETE="timing_complete",Dt.VIEW_ITEM="view_item",Dt.VIEW_ITEM_LIST="view_item_list",Dt.VIEW_PROMOTION="view_promotion",Dt.VIEW_SEARCH_RESULTS="view_search_results";var jt,Ut=new Nt("@firebase/analytics");var Vt,Bt,Ht=((jt={})["no-ga-id"]='"'+xt+'" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',jt["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",jt["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",jt["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",jt),Wt=new d("analytics","Analytics",Ht),qt={},Kt="dataLayer",Gt="gtag",Qt=!1;function Yt(t,e){var o=t.options[xt];if(!o)throw Wt.create("no-ga-id");if(null!=qt[o])throw Wt.create("already-exists",{id:o});if(!Qt){!function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var i=n[e];if(i.src&&i.src.includes(Ft))return i}return null}()&&function(t){var e=document.createElement("script");e.src=Ft+"?l="+t,e.async=!0,document.head.appendChild(e)}(Kt),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Kt);var a=function(t,e,n){var i,r,o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"==typeof window[n]&&(o=window[n]),window[n]=(i=o,r=t,function(t,e,n){if(t===Rt.EVENT){var o=[];if(n&&n.send_to){var a=n.send_to;Array.isArray(a)||(a=[a]);for(var s=0,u=a;s<u.length;s++){var c=u[s],l=r[c];if(!l){o=[];break}o.push(l)}}if(0===o.length)for(var h=0,f=Object.values(r);h<f.length;h++){var d=f[h];o.push(d)}Promise.all(o).then(function(){return i(Rt.EVENT,e,n||{})}).catch(function(t){return Ut.error(t)})}else t===Rt.CONFIG?(r[e]||Promise.resolve()).then(function(){i(Rt.CONFIG,e,n)}).catch(function(t){return Ut.error(t)}):i(Rt.SET,e)}),{gtagCore:o,wrappedGtag:window[n]}}(qt,Kt,Gt),s=a.wrappedGtag,u=a.gtagCore;Bt=s,Vt=u,Qt=!0}return qt[o]=function(t,e,n){return i(this,void 0,void 0,function(){var i,o;return r(this,function(r){switch(r.label){case 0:return[4,e.getId()];case 1:return i=r.sent(),n("js",new Date),n(Rt.CONFIG,t.options[xt],((o={})[Lt]=i,o[Mt]="firebase",o.update=!0,o)),[2]}})})}(t,e,Vt),{app:t,logEvent:function(t,e,i){return function(t,e,i,r,o){var a=r||{};o&&o.global||(a=n(n({},r),{send_to:e})),t(Rt.EVENT,i,a||{})}(Bt,o,t,e,i)},setCurrentScreen:function(t,e){return function(t,e,n,i){i&&i.global?t(Rt.SET,{screen_name:n}):t(Rt.CONFIG,e,{update:!0,screen_name:n})}(Bt,o,t,e)},setUserId:function(t,e){return function(t,e,n,i){i&&i.global?t(Rt.SET,{user_id:n}):t(Rt.CONFIG,e,{update:!0,user_id:n})}(Bt,o,t,e)},setUserProperties:function(t,e){return function(t,e,n,i){if(i&&i.global){for(var r={},o=0,a=Object.keys(n);o<a.length;o++){var s=a[o];r["user_properties."+s]=n[s]}t(Rt.SET,r)}else t(Rt.CONFIG,e,{update:!0,user_properties:n})}(Bt,o,t,e)},setAnalyticsCollectionEnabled:function(t){return e=t,void(window["ga-disable-"+o]=!e);var e}}}var zt,Xt="analytics";(zt=t).INTERNAL.registerComponent(new g(Xt,function(t){return Yt(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(t){if(Qt)throw Wt.create("already-initialized");t.dataLayerName&&(Kt=t.dataLayerName),t.gtagName&&(Gt=t.gtagName)},EventName:Ot})),zt.INTERNAL.registerComponent(new g("analytics-internal",function(t){try{return{logEvent:t.getProvider(Xt).getImmediate().logEvent}}catch(t){throw Wt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),zt.registerVersion("@firebase/analytics","0.2.18")}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-analytics.js - be sure to load firebase-app.js first.")}}),function(){var t,e,n,i,r={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(r=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(e,n){for(var i=0;i<t.length;i++)if(t[i].className===e)return void 0!==n&&(t[i]=n),t[i];return!1}function r(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function o(t,e){return-1!==r(t).indexOf(e)}function a(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var i=document.createEvent("Events");return i.initEvent(t,e,n),i}function s(e,n){if(void 0===e&&void 0===n)for(var r=0;r<t.length;r++)s(t[r].className,t[r].cssClass);else{var o=e;if(void 0===n){var a=i(o);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],o)}}function u(s,u){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var l=r(s),h=[];if(u)o(s,u)||h.push(i(u));else{var f=s.classList;t.forEach(function(t){f.contains(t.cssClass)&&-1===h.indexOf(t)&&!o(s,t.className)&&h.push(t)})}for(var d,p=0,v=h.length;p<v;p++){if(!(d=h[p]))throw new Error("Unable to find a registered component for the given class.");l.push(d.className),s.setAttribute("data-upgraded",l.join(","));var g=new d.classConstructor(s);g[n]=d,e.push(g);for(var m=0,y=d.callbacks.length;m<y;m++)d.callbacks[m](s);d.widget&&(s[d.className]=g);var b=a("mdl-componentupgraded",!0,!1);s.dispatchEvent(b)}}}function c(t){if(t){var i=e.indexOf(t);e.splice(i,1);var r=t.element_.getAttribute("data-upgraded").split(","),o=r.indexOf(t[n].classAsString);r.splice(o,1),t.element_.setAttribute("data-upgraded",r.join(","));var s=a("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:u,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,i=0,r=e.length;i<r;i++)(n=e[i])instanceof HTMLElement&&(u(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)s(t[e].className)},registerUpgradedCallback:function(t,e){var n=i(t);n&&n.callbacks.push(e)},register:function(e){var r=!0;void 0===e.widget&&void 0===e.widget||(r=e.widget||e.widget);var o={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:r,callbacks:[]};if(t.forEach(function(t){if(t.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===o.className)throw new Error("The provided className has already been registered")}),e.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");i(e.classAsString,o)||t.push(o)},downgradeElements:function(t){var n=function(t){e.filter(function(e){return e.element_===t}).forEach(c)};if(t instanceof Array||t instanceof NodeList)for(var i=0;i<t.length;i++)n(t[i]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(t)}}}}()).ComponentConfigPublic,r.ComponentConfig,r.Component,r.upgradeDom=r.upgradeDom,r.upgradeElement=r.upgradeElement,r.upgradeElements=r.upgradeElements,r.upgradeAllRegistered=r.upgradeAllRegistered,r.registerUpgradedCallback=r.registerUpgradedCallback,r.register=r.register,r.downgradeElements=r.downgradeElements,window.componentHandler=r,window.componentHandler=r,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),r.upgradeAllRegistered()):(r.upgradeElement=function(){},r.register=function(){})}),t=function(t){this.element_=t,this.init()},window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(t){t&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},r.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0}),e=function(t){this.element_=t,this.init()},window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},r.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0}),n=function(t){this.element_=t,this.init()},window.MaterialSpinner=n,n.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},n.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},n.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,i,r],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}e.appendChild(n),e.appendChild(i),e.appendChild(r),this.element_.appendChild(e)},n.prototype.createLayer=n.prototype.createLayer,n.prototype.stop=function(){this.element_.classList.remove("is-active")},n.prototype.stop=n.prototype.stop,n.prototype.start=function(){this.element_.classList.add("is-active")},n.prototype.start=n.prototype.start,n.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},r.register({constructor:n,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0}),i=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()},window.MaterialTextfield=i,i.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},i.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},i.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},i.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},i.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},i.prototype.onReset_=function(t){this.updateClasses_()},i.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},i.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},i.prototype.checkDisabled=i.prototype.checkDisabled,i.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},i.prototype.checkFocus=i.prototype.checkFocus,i.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},i.prototype.checkValidity=i.prototype.checkValidity,i.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},i.prototype.checkDirty=i.prototype.checkDirty,i.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},i.prototype.disable=i.prototype.disable,i.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},i.prototype.enable=i.prototype.enable,i.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},i.prototype.change=i.prototype.change,i.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},r.register({constructor:i,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0}),function(){var t=window.CustomEvent;function e(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function n(t){t&&t.blur&&t!==document.body&&t.blur()}function i(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function r(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function o(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]})}else{var e,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===t){var o="DOMNodeRemoved";n|=r.type.substr(0,o.length)===o,window.clearTimeout(e),e=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(e){t.addEventListener(e,r)})}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}t&&"object"!=typeof t||((t=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),o.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),a.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map(function(t){return t+":not([disabled])"});e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}n(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!a.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,a.needsCentering(this.dialog_)?(a.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var n=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(n)}};var a={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],r=null;try{r=n.cssRules}catch(t){}if(r)for(var o=0;o<r.length;++o){var a=r[o],s=null;try{s=document.querySelectorAll(a.selectorText)}catch(t){}if(s&&i(s,t)){var u=a.style.getPropertyValue("top"),c=a.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return"absolute"===window.getComputedStyle(t).position&&(!("auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom)&&!a.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new o(t)},registerDialog:function(t){t.showModal||a.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(e){var n=[];e.forEach(function(t){for(var e,i=0;e=t.removedNodes[i];++i)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))}),n.length&&t(n)}))}};if(a.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},a.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},a.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},a.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=e(t);){for(var n,i=0;n=this.pendingDialogStack[i];++i)if(n.dialog===t)return 0===i;t=t.parentElement}return!1},a.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),n(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},a.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var n=new t("cancel",{bubbles:!1,cancelable:!0}),i=this.pendingDialogStack[0];i&&i.dialog.dispatchEvent(n)&&i.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},a.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach(function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()})},a.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e)&&(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),!0)},a.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},a.dm=new a.DialogManager,a.formSubmitter=null,a.useValue=null,void 0===window.HTMLDialogElement){var s=document.createElement("form");if(s.setAttribute("method","dialog"),"dialog"!==s.method){var u=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(u){var c=u.get;u.get=function(){return r(this)?"dialog":c.call(this)};var l=u.set;u.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):l.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",u)}}document.addEventListener("click",function(t){if(a.formSubmitter=null,a.useValue=null,!t.defaultPrevented){var n=t.target;if(n&&r(n.form)){if(!("submit"===n.type&&["button","input"].indexOf(n.localName)>-1)){if("input"!==n.localName||"image"!==n.type)return;a.useValue=t.offsetX+","+t.offsetY}e(n)&&(a.formSubmitter=n)}}},!1);var h=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!r(this))return h.call(this);var t=e(this);t&&t.close()},document.addEventListener("submit",function(t){var n=t.target;if(r(n)){t.preventDefault();var i=e(n);if(i){var o=a.formSubmitter;o&&o.form===n?i.close(a.useValue||o.value):i.close(),a.formSubmitter=null}}},!0)}a.forceRegisterDialog=a.forceRegisterDialog,a.registerDialog=a.registerDialog,"function"==typeof define&&"amd"in define?define(function(){return a}):"object"==typeof module&&"object"==typeof module.exports?module.exports=a:window.dialogPolyfill=a}(),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t){if(t){for(var i=n,r=["Promise"],o=0;o<r.length-1;o++){var a=r[o];a in i||(i[a]={}),i=i[a]}(t=t(o=i[r=r[r.length-1]]))!=o&&null!=t&&e(i,r,{configurable:!0,writable:!0,value:t})}}(function(t){function e(t){this.g=0,this.h=void 0,this.a=[];var e=this.j();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function i(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;i.prototype.g=function(t){null==this.a&&(this.a=[],this.j()),this.a.push(t)},i.prototype.j=function(){var t=this;this.h(function(){t.u()})};var a=n.setTimeout;i.prototype.h=function(t){a(t,0)},i.prototype.u=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.i(t)}}}this.a=null},i.prototype.i=function(t){this.h(function(){throw t})},e.prototype.j=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.F),reject:t(this.i)}},e.prototype.F=function(t){if(t===this)this.i(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.J(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.D(t):this.u(t)}},e.prototype.D=function(t){var e=void 0;try{e=t.then}catch(t){return void this.i(t)}"function"==typeof e?this.N(e,t):this.u(t)},e.prototype.i=function(t){this.w(2,t)},e.prototype.u=function(t){this.w(1,t)},e.prototype.w=function(t,e){if(0!=this.g)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.g);this.g=t,this.h=e,this.B()},e.prototype.B=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.g(this.a[t]);this.a=null}};var s=new i;return e.prototype.J=function(t){var e=this.j();t.Ba(e.resolve,e.reject)},e.prototype.N=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(t){o(t)}}:e}var r,o,a=new e(function(t,e){r=t,o=e});return this.Ba(i(t,r),i(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ba=function(t,e){function n(){switch(i.g){case 1:t(i.h);break;case 2:e(i.h);break;default:throw Error("Unexpected state: "+i.g)}}var i=this;null==this.a?s.g(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=r(t),a=i.next();!a.done;a=i.next())o(a.value).Ba(e,n)})},e.all=function(t){var n=r(t),i=n.next();return i.done?o([]):new e(function(t,e){function r(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(i.value).Ba(r(a.length-1),e),i=n.next()}while(!i.done)})},e});var o=this;function a(t){return void 0!==t}function s(t){return"string"==typeof t}var u=/^[\w+\/_-]+[=]{0,2}$/,c=null;function l(){}function h(t){t.U=void 0,t.Pa=function(){return t.U?t.U:t.U=new t}}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return null!=t}function p(t){return"array"==f(t)}function v(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==f(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){for(var n in e)t[n]=e[n]}var S,T=Date.now||function(){return+new Date};function k(t,e){t=t.split(".");var n,i=o;t[0]in i||void 0===i.execScript||i.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)!t.length&&a(e)?i[n]=e:i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}}function N(t,e){function n(){}n.prototype=e.prototype,t.o=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.$b=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function A(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");A.call(this,n+t[i])}function P(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}N(A,Error),A.prototype.name="CustomError",N(R,A),R.prototype.name="AssertionError";var O=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},D=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=s(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};var x=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o=s(t)?t.split(""):t,a=0;a<n;a++)if(a in o){var u=o[a];e.call(void 0,u,a,t)&&(i[r++]=u)}return i},L=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r=s(t)?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},M=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=s(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function F(t,e,n){for(var i=t.length,r=s(t)?t.split(""):t,o=0;o<i;o++)if(o in r&&e.call(n,r[o],o,t))return o;return-1}function j(t,e){return 0<=O(t,e)}function U(t,e){var n;return(n=0<=(e=O(t,e)))&&V(t,e),n}function V(t,e){return 1==Array.prototype.splice.call(t,e,1).length}function B(t,e){!function(t,e){var n=t.length,i=s(t)?t.split(""):t;for(--n;0<=n;--n)n in i&&e.call(void 0,i[n],n,t)}(t,function(n,i){e.call(void 0,n,i,t)&&V(t,i)&&0})}function H(t){return Array.prototype.concat.apply([],arguments)}function W(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function q(t,e,n,i){return Array.prototype.splice.apply(t,K(arguments,1))}function K(t,e,n){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}var G=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Q(t){return et.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(X,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(J,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace($,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Z,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(tt,"&#0;")),t):t}var Y,z=/&/g,X=/</g,J=/>/g,$=/"/g,Z=/'/g,tt=/\x00/g,et=/[\x00&<>"']/;function nt(t,e){return t<e?-1:t>e?1:0}t:{var it=o.navigator;if(it){var rt=it.userAgent;if(rt){Y=rt;break t}}Y=""}function ot(t){return-1!=Y.indexOf(t)}function at(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function st(t){var e,n={};for(e in t)n[e]=t[e];return n}var ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<ut.length;o++)n=ut[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function lt(){return(ot("Chrome")||ot("CriOS"))&&!ot("Edge")}function ht(t){return ht[" "](t),t}ht[" "]=l;var ft,dt,pt=ot("Opera"),vt=ot("Trident")||ot("MSIE"),gt=ot("Edge"),mt=gt||vt,yt=ot("Gecko")&&!(-1!=Y.toLowerCase().indexOf("webkit")&&!ot("Edge"))&&!(ot("Trident")||ot("MSIE"))&&!ot("Edge"),bt=-1!=Y.toLowerCase().indexOf("webkit")&&!ot("Edge"),_t=bt&&ot("Mobile"),wt=ot("Macintosh");function Et(){var t=o.document;return t?t.documentMode:void 0}t:{var Ct="",It=(dt=Y,yt?/rv:([^\);]+)(\)|;)/.exec(dt):gt?/Edge\/([\d\.]+)/.exec(dt):vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(dt):bt?/WebKit\/(\S+)/.exec(dt):pt?/(?:Version)[ \/]?(\S+)/.exec(dt):void 0);if(It&&(Ct=It?It[1]:""),vt){var St=Et();if(null!=St&&St>parseFloat(Ct)){ft=String(St);break t}}ft=Ct}var Tt,kt={};function Nt(t){return function(t,e){var n=kt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=G(String(ft)).split("."),i=G(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=nt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||nt(0==a[2].length,0==s[2].length)||nt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var At=o.document;function Rt(t,e){this.a=t===Dt&&e||"",this.g=Ot}function Pt(t){return t instanceof Rt&&t.constructor===Rt&&t.g===Ot?t.a:(P("expected object of type Const, got '"+t+"'"),"type_error:Const")}Tt=At&&vt?Et()||("CSS1Compat"==At.compatMode?parseInt(ft,10):5):void 0,Rt.prototype.na=!0,Rt.prototype.ka=function(){return this.a},Rt.prototype.toString=function(){return"Const{"+this.a+"}"};var Ot={},Dt={};function xt(){this.a="",this.h=Mt}function Lt(t){return t instanceof xt&&t.constructor===xt&&t.h===Mt?t.a:(P("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}xt.prototype.na=!0,xt.prototype.ka=function(){return this.a},xt.prototype.g=function(){return 1},xt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Mt={};function Ft(t){var e=new xt;return e.a=t,e}function jt(){this.a="",this.h=Ht}function Ut(t){return t instanceof jt&&t.constructor===jt&&t.h===Ht?t.a:(P("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}jt.prototype.na=!0,jt.prototype.ka=function(){return this.a},jt.prototype.g=function(){return 1},jt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Vt=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Bt(t){return t instanceof jt?t:(t="object"==typeof t&&t.na?t.ka():String(t),Vt.test(t)||(t="about:invalid#zClosurez"),Wt(t))}var Ht={};function Wt(t){var e=new jt;return e.a=t,e}function qt(){this.a="",this.j=Gt,this.h=null}function Kt(t){return t instanceof qt&&t.constructor===qt&&t.j===Gt?t.a:(P("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Wt("about:blank"),qt.prototype.g=function(){return this.h},qt.prototype.na=!0,qt.prototype.ka=function(){return this.a},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Gt={};function Qt(t,e){var n=new qt;return n.a=t,n.h=e,n}Qt("<!DOCTYPE html>",0),Qt("",0),Qt("<br>",0);var Yt,zt,Xt=(zt=!1,function(){return zt||(Yt=function(){if("undefined"==typeof document)return!1;var t=document.createElement("div");if(t.innerHTML="<div><div></div></div>",!t.firstChild)return!1;var e=t.firstChild.firstChild;return t.innerHTML="",!e.parentElement}(),zt=!0),Yt});function Jt(t,e){this.a=a(t)?t:0,this.g=a(e)?e:0}function $t(t,e){this.width=t,this.height=e}function Zt(t){return t?new ce(ae(t)):S||(S=new ce)}function te(t,e){var n=e||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+t):ne(document,t,e)}function ee(t,e){var n=e||document;if(n.getElementsByClassName)t=n.getElementsByClassName(t)[0];else{n=document;var i=e||n;t=i.querySelectorAll&&i.querySelector&&t?i.querySelector(t?"."+t:""):ne(n,t,e)[0]||null}return t||null}function ne(t,e,n){var i;if((t=n||t).querySelectorAll&&t.querySelector&&e)return t.querySelectorAll(e?"."+e:"");if(e&&t.getElementsByClassName){var r=t.getElementsByClassName(e);return r}if(r=t.getElementsByTagName("*"),e){var o={};for(n=i=0;t=r[n];n++){var a=t.className;"function"==typeof a.split&&j(a.split(/\s+/),e)&&(o[i++]=t)}return o.length=i,o}return r}Jt.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Jt.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Jt.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Jt.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(t=$t.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var ie={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function re(t){return t.scrollingElement?t.scrollingElement:(bt||"CSS1Compat"!=t.compatMode)&&t.body||t.documentElement}function oe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ae(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function se(t,e){if("textContent"in t)t.textContent=e;else if(3==t.nodeType)t.data=String(e);else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=String(e)}else{for(var n;n=t.firstChild;)t.removeChild(n);t.appendChild(ae(t).createTextNode(String(e)))}}function ue(t,e){return e?function(t,e){for(;t;){if(e(t))return t;t=t.parentNode,0}return null}(t,function(t){return!e||s(t.className)&&j(t.className.split(/\s+/),e)}):null}function ce(t){this.a=t||o.document||document}ce.prototype.M=function(){return s(void 0)?this.a.getElementById(void 0):void 0};var le="StopIteration"in o?o.StopIteration:{message:"StopIteration",stack:""};function he(){}function fe(t){if(t instanceof he)return t;if("function"==typeof t.da)return t.da(!1);if(v(t)){var e=0,n=new he;return n.next=function(){for(;;){if(e>=t.length)throw le;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}function de(t){if(v(t))return W(t);t=fe(t);var e=[];return function(t,e){if(v(t))try{D(t,e,void 0)}catch(t){if(t!==le)throw t}else{t=fe(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(t){if(t!==le)throw t}}}(t,function(t){e.push(t)}),e}function pe(t,e){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof pe)for(n=t.ga(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function ve(t){if(t.h!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];ge(t.g,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.h!=t.a.length){var r={};for(n=e=0;e<t.a.length;)ge(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function ge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}he.prototype.next=function(){throw le},he.prototype.da=function(){return this},(t=pe.prototype).ha=function(){ve(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.g[this.a[e]]);return t},t.ga=function(){return ve(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0},t.get=function(t,e){return ge(this.g,t)?this.g[t]:e},t.set=function(t,e){ge(this.g,t)||(this.h++,this.a.push(t),this.j++),this.g[t]=e},t.forEach=function(t,e){for(var n=this.ga(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}},t.da=function(t){ve(this);var e=0,n=this.j,i=this,r=new he;return r.next=function(){if(n!=i.j)throw Error("The map has changed since the iterator was created");if(e>=i.a.length)throw le;var r=i.a[e++];return t?r:i.g[r]},r};var me=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ye(t,e,n,i){for(var r=n.length;0<=(e=t.indexOf(n,e))&&e<i;){var o=t.charCodeAt(e-1);if((38==o||63==o)&&(!(o=t.charCodeAt(e+r))||61==o||38==o||35==o))return e;e+=r+1}return-1}var be=/#|$/;function _e(t,e){var n=t.search(be),i=ye(t,0,e,n);if(0>i)return null;var r=t.indexOf("&",i);return(0>r||r>n)&&(r=n),i+=e.length+1,decodeURIComponent(t.substr(i,r-i).replace(/\+/g," "))}var we=/[?&]($|#)/;function Ee(t,e){var n;this.h=this.w=this.j="",this.B=null,this.i=this.g="",this.u=!1,t instanceof Ee?(this.u=a(e)?e:t.u,Ce(this,t.j),this.w=t.w,this.h=t.h,Ie(this,t.B),this.g=t.g,Se(this,Ve(t.a)),this.i=t.i):t&&(n=String(t).match(me))?(this.u=!!e,Ce(this,n[1]||"",!0),this.w=Ne(n[2]||""),this.h=Ne(n[3]||"",!0),Ie(this,n[4]),this.g=Ne(n[5]||"",!0),Se(this,n[6]||"",!0),this.i=Ne(n[7]||"")):(this.u=!!e,this.a=new Me(null,this.u))}function Ce(t,e,n){t.j=n?Ne(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ie(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.B=e}else t.B=null}function Se(t,e,n){e instanceof Me?(t.a=e,function(t,e){e&&!t.j&&(Fe(t),t.h=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(je(this,e),je(this,n),0<t.length&&(this.h=null,this.a.set(Be(this,n),W(t)),this.g+=t.length))},t)),t.j=e}(t.a,t.u)):(n||(e=Ae(e,xe)),t.a=new Me(e,t.u))}function Te(t){return t instanceof Ee?new Ee(t):new Ee(t,void 0)}function ke(t,e){return t instanceof Ee||(t=Te(t)),e instanceof Ee||(e=Te(e)),t.resolve(e)}function Ne(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ae(t,e,n){return s(t)?(t=encodeURI(t).replace(e,Re),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Re(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ee.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ae(e,Pe,!0),":");var n=this.h;return(n||"file"==e)&&(t.push("//"),(e=this.w)&&t.push(Ae(e,Pe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.B)&&t.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ae(n,"/"==n.charAt(0)?De:Oe,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ae(n,Le)),t.join("")},Ee.prototype.resolve=function(t){var e=new Ee(this),n=!!t.j;n?Ce(e,t.j):n=!!t.w,n?e.w=t.w:n=!!t.h,n?e.h=t.h:n=null!=t.B;var i=t.g;if(n)Ie(e,t.B);else if(n=!!t.g){if("/"!=i.charAt(0))if(this.h&&!this.g)i="/"+i;else{var r=e.g.lastIndexOf("/");-1!=r&&(i=e.g.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.g=i:n=""!==t.a.toString(),n?Se(e,Ve(t.a)):n=!!t.i,n&&(e.i=t.i),e};var Pe=/[#\/\?@]/g,Oe=/[#\?:]/g,De=/[#\?]/g,xe=/[#\?@]/g,Le=/#/g;function Me(t,e){this.g=this.a=null,this.h=t||null,this.j=!!e}function Fe(t){t.a||(t.a=new pe,t.g=0,t.h&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.h,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function je(t,e){Fe(t),e=Be(t,e),ge(t.a.g,e)&&(t.h=null,t.g-=t.a.get(e).length,ge((t=t.a).g,e)&&(delete t.g[e],t.h--,t.j++,t.a.length>2*t.h&&ve(t)))}function Ue(t,e){return Fe(t),e=Be(t,e),ge(t.a.g,e)}function Ve(t){var e=new Me;return e.h=t.h,t.a&&(e.a=new pe(t.a),e.g=t.g),e}function Be(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(t=Me.prototype).add=function(t,e){Fe(this),this.h=null,t=Be(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.g+=1,this},t.clear=function(){this.a=this.h=null,this.g=0},t.forEach=function(t,e){Fe(this),this.a.forEach(function(n,i){D(n,function(n){t.call(e,n,i,this)},this)},this)},t.ga=function(){Fe(this);for(var t=this.a.ha(),e=this.a.ga(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.ha=function(t){Fe(this);var e=[];if(s(t))Ue(this,t)&&(e=H(e,this.a.get(Be(this,t))));else{t=this.a.ha();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return Fe(this),this.h=null,Ue(this,t=Be(this,t))&&(this.g-=this.a.get(t).length),this.a.set(t,[e]),this.g+=1,this},t.get=function(t,e){return t&&0<(t=this.ha(t)).length?String(t[0]):e},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var t=[],e=this.a.ga(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.ha(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.h=t.join("&")};var He={jc:!0},We={lc:!0},qe={kc:!0};function Ke(){throw Error("Do not instantiate directly")}function Ge(t,e,n,i){if(t=t(e||Ye,void 0,n),i=(i||Zt()).a.createElement("DIV"),(t=function(t){if(!m(t))return String(t);if(t instanceof Ke){if(t.ea===He)return t.content;if(t.ea===qe)return Q(t.content)}return P("Soy template output is unsafe for use as HTML: "+t),"zSoyz"}(t)).match(Qe),Xt())for(;i.lastChild;)i.removeChild(i.lastChild);return i.innerHTML=t,1==i.childNodes.length&&(1==(t=i.firstChild).nodeType&&(i=t)),i}Ke.prototype.ra=null,Ke.prototype.toString=function(){return this.content};var Qe=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Ye={};function ze(){Ke.call(this)}function Xe(t){return null!=t&&t.ea===He?t:t instanceof qt?tn(Kt(t),t.g()):tn(Q(String(String(t))),function(t){if(null!=t)switch(t.ra){case 1:return 1;case-1:return-1;case 0:return 0}return null}(t))}function Je(){Ke.call(this)}function $e(t,e){this.content=String(t),this.ra=null!=e?e:null}function Ze(t){return new $e(t,void 0)}N(ze,Ke),ze.prototype.ea=He,N(Je,Ke),Je.prototype.ea=We,Je.prototype.ra=1,N($e,Ke),$e.prototype.ea=qe;var tn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return t=new e(String(t)),void 0!==n&&(t.ra=n),t}}(ze),en=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t){return new e(String(t))}}(Je);function nn(t){return(t=String(t))?new $e(t,void 0):""}var rn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return(t=String(t))?(t=new e(t),void 0!==n&&(t.ra=n),t):""}}(ze);function on(t){return null!=t&&t.ea===He?String(String(t.content).replace(pn,"").replace(vn,"&lt;")).replace(hn,un):Q(String(t))}function an(t){return null!=t&&t.ea===We?t=String(t).replace(fn,ln):t instanceof jt?t=String(Ut(t)).replace(fn,ln):(t=String(t),dn.test(t)?t=t.replace(fn,ln):(P("Bad value `%s` for |filterNormalizeUri",[t]),t="#zSoyz")),t}var sn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","Â":"&#133;","Â ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function un(t){return sn[t]}var cn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","Â":"%C2%85","Â ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","ï¼":"%EF%BC%81","ï¼":"%EF%BC%83","ï¼":"%EF%BC%84","ï¼":"%EF%BC%86","ï¼":"%EF%BC%87","ï¼":"%EF%BC%88","ï¼":"%EF%BC%89","ï¼":"%EF%BC%8A","ï¼":"%EF%BC%8B","ï¼":"%EF%BC%8C","ï¼":"%EF%BC%8F","ï¼":"%EF%BC%9A","ï¼":"%EF%BC%9B","ï¼":"%EF%BC%9D","ï¼":"%EF%BC%9F","ï¼ ":"%EF%BC%A0","ï¼»":"%EF%BC%BB","ï¼½":"%EF%BC%BD"};function ln(t){return cn[t]}var hn=/[\x00\x22\x27\x3c\x3e]/g,fn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,dn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,pn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,vn=/</g;function gn(){return Ze("Enter a valid phone number")}function mn(){return Ze("Something went wrong. Please try again.")}function yn(){return Ze("This email already exists without any means of sign-in. Please reset the password to recover.")}function bn(){return Ze("Please login again to perform this operation")}function _n(t,e,n){if(this.code=wn+t,!(t=e)){switch(t="",this.code){case"firebaseui/merge-conflict":t+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:t+=mn()}t=Ze(t).toString()}this.message=t||"",this.credential=n||null}N(_n,Error),_n.prototype.ja=function(){return{code:this.code,message:this.message}},_n.prototype.toJSON=function(){return this.ja()};var wn="firebaseui/";function En(){this.U={}}function Cn(t,e,n){if(e.toLowerCase()in t.U)throw Error("Configuration "+e+" has already been defined.");t.U[e.toLowerCase()]=n}function In(t,e,n){if(!(e.toLowerCase()in t.U))throw Error("Configuration "+e+" is not defined.");t.U[e.toLowerCase()]=n}function Sn(t,e){if(!(t=t.get(e)))throw Error("Configuration "+e+" is required.");return t}function Tn(){this.g=void 0,this.a={}}function kn(t,e,n,i){for(var r=0;r<e.length;r++){var o=e.charAt(r);t.a[o]||(t.a[o]=new Tn),t=t.a[o]}if(i&&void 0!==t.g)throw Error('The collection already contains the key "'+e+'"');t.g=n}function Nn(t){for(this.a=t,this.g=new Tn,t=0;t<this.a.length;t++){var e=this.g.get("+"+this.a[t].b);e?e.push(this.a[t]):this.g.add("+"+this.a[t].b,[this.a[t]])}}function An(t,e){var n={},i=0;for(void 0!==(t=t.g).g&&(n[i]=t.g);i<e.length;i++){var r=e.charAt(i);if(!(r in t.a))break;void 0!==(t=t.a[r]).g&&(n[i]=t.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function Rn(t){for(var e=0;e<xn.length;e++)if(xn[e].c===t)return xn[e];return null}function Pn(t){t=t.toUpperCase();for(var e=[],n=0;n<xn.length;n++)xn[n].f===t&&e.push(xn[n]);return e}function On(t){if(0<t.length&&"+"==t.charAt(0)){t=t.substring(1);for(var e=[],n=0;n<xn.length;n++)xn[n].b==t&&e.push(xn[n]);t=e}else t=Pn(t);return t}function Dn(t){t.sort(function(t,e){return t.name.localeCompare(e.name,"en")})}En.prototype.get=function(t){if(!(t.toLowerCase()in this.U))throw Error("Configuration "+t+" is not defined.");return this.U[t.toLowerCase()]},(t=Tn.prototype).set=function(t,e){kn(this,t,e,!1)},t.add=function(t,e){kn(this,t,e,!0)},t.get=function(t){t:{for(var e=this,n=0;n<t.length;n++)if(!(e=e.a[t.charAt(n)])){t=void 0;break t}t=e}return t?t.g:void 0},t.ha=function(){var t=[];return function t(e,n){void 0!==e.g&&n.push(e.g);for(var i in e.a)t(e.a[i],n)}(this,t),t},t.ga=function(){var t=[];return function t(e,n,i){void 0!==e.g&&i.push(n);for(var r in e.a)t(e.a[r],n+r,i)}(this,"",t),t},t.clear=function(){this.a={},this.g=void 0};var xn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Ãland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"CÃ´te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"CuraÃ§ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"RÃ©union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint BarthÃ©lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"SÃ£o TomÃ© and PrÃ­ncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];Dn(xn);var Ln=new Nn(xn);function Mn(t,e){this.a=t,this.ta=e}function Fn(t){t=G(t);var e=An(Ln,t);return 0<e.length?new Mn("1"==e[0].b?"1-US-0":e[0].c,G(t.substr(e[0].b.length+1))):null}function jn(t){var e=Rn(t.a);if(!e)throw Error("Country ID "+t.a+" not found.");return"+"+e.b+t.ta}function Un(t){for(var e=0;e<t.length;e++)if(!j(Vn,t[e]))return t[e];return null}var Vn=["emailLink","password","phone"],Bn={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"},Hn=Object.freeze||function(t){return t};function Wn(t,e,n){this.reset(t,e,n,void 0,void 0)}Wn.prototype.a=null;function qn(t){this.i=t,this.a=this.h=this.j=this.g=null}function Kn(t,e){this.name=t,this.value=e}Wn.prototype.reset=function(t,e,n,i,r){"number"==typeof r||0,this.h=i||T(),this.j=t,this.i=e,this.g=n,delete this.a},Kn.prototype.toString=function(){return this.name};var Gn=new Kn("SHOUT",1200),Qn=new Kn("SEVERE",1e3),Yn=new Kn("WARNING",900),zn=new Kn("CONFIG",700);qn.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.j?e.j:e.g?t(e.g):(P("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new Wn(t,String(e),this.i),n&&(t.a=n),n=this;n;){var i=n,r=t;if(i.a)for(var o=0;e=i.a[o];o++)e(r);n=n.g}};var Xn={},Jn=null;function $n(){Jn||(Jn=new qn(""),Xn[""]=Jn,Jn.j=zn)}function Zn(){this.a=T()}var ti=null;function ei(t){this.j=t||"",ti||(ti=new Zn),this.i=ti}function ni(t){return 10>t?"0"+t:String(t)}function ii(t){ei.call(this,t)}function ri(){this.i=E(this.h,this),this.a=new ii,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Zn.prototype.set=function(t){this.a=t},Zn.prototype.reset=function(){this.set(T())},Zn.prototype.get=function(){return this.a},ei.prototype.a=!0,ei.prototype.g=!0,ei.prototype.h=!1,N(ii,ei),ri.prototype.h=function(t){if(!this.j[t.g]){var e=this.a,n=[];if(n.push(e.j," "),e.g){var i=new Date(t.h);n.push("[",ni(i.getFullYear()-2e3)+ni(i.getMonth()+1)+ni(i.getDate())+" "+ni(i.getHours())+":"+ni(i.getMinutes())+":"+ni(i.getSeconds())+"."+ni(Math.floor(i.getMilliseconds()/10)),"] ")}if(n.push("[",function(t,e){e=(t=(t.h-e)/1e3).toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e}(t,e.i.get()),"s] "),n.push("[",t.g,"] "),n.push(t.i),e.h&&(i=t.a)&&n.push("\n",i instanceof Error?i.message:i.toString()),e.a&&n.push("\n"),e=n.join(""),n=ai)switch(t.j){case Gn:si(n,"info",e);break;case Qn:si(n,"error",e);break;case Yn:si(n,"warn",e);break;default:si(n,"log",e)}}};var oi,ai=o.console;function si(t,e,n){t[e]?t[e](n):t.log(n)}function ui(t,e){oi&&oi.log(Qn,t,e)}oi=function t(e){var n;if($n(),!(n=Xn[e])){n=new qn(e);var i=e.lastIndexOf("."),r=e.substr(i+1);(i=t(e.substr(0,i))).h||(i.h={}),i.h[r]=n,n.g=i,Xn[e]=n}return n}("firebaseui");var ci=new ri;if(1!=ci.g){var li;$n(),li=Jn;var hi=ci.i;li.a||(li.a=[]),li.a.push(hi),ci.g=!0}function fi(t){oi&&oi.log(Yn,t,void 0)}function di(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function pi(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function vi(t,e){this.h=t,this.j=e,this.g=0,this.a=null}function gi(t,e){t.j(e),100>t.g&&(t.g++,e.next=t.a,t.a=e)}function mi(){this.g=this.a=null}vi.prototype.get=function(){if(0<this.g){this.g--;var t=this.a;this.a=t.next,t.next=null}else t=this.h();return t};var yi,bi,_i=new vi(function(){return new Ei},function(t){t.reset()});function wi(){var t=Ti,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.g=null),e.next=null),e}function Ei(){this.next=this.g=this.a=null}function Ci(t){o.setTimeout(function(){throw t},0)}function Ii(t,e){bi||function(){if(o.Promise&&o.Promise.resolve){var t=o.Promise.resolve(void 0);bi=function(){t.then(ki)}}else bi=function(){var t=ki;!g(o.setImmediate)||o.Window&&o.Window.prototype&&!ot("Edge")&&o.Window.prototype.setImmediate==o.setImmediate?(yi||(yi=function(){var t=o.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ot("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!ot("Trident")&&!ot("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(a(n.next)){var t=(n=n.next).Za;n.Za=null,t()}},function(t){i.next={Za:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){o.setTimeout(t,0)}}()),yi(t)):o.setImmediate(t)}}(),Si||(bi(),Si=!0),Ti.add(t,e)}mi.prototype.add=function(t,e){var n=_i.get();n.set(t,e),this.g?this.g.next=n:this.a=n,this.g=n},Ei.prototype.set=function(t,e){this.a=t,this.g=e,this.next=null},Ei.prototype.reset=function(){this.next=this.g=this.a=null};var Si=!1,Ti=new mi;function ki(){for(var t;t=wi();){try{t.a.call(t.g)}catch(t){Ci(t)}gi(_i,t)}Si=!1}function Ni(t,e){if(this.a=Ai,this.w=void 0,this.j=this.g=this.h=null,this.i=this.u=!1,t!=l)try{var n=this;t.call(e,function(t){Vi(n,Ri,t)},function(t){if(!(t instanceof Gi))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Vi(n,Pi,t)})}catch(t){Vi(this,Pi,t)}}var Ai=0,Ri=2,Pi=3;function Oi(){this.next=this.context=this.g=this.h=this.a=null,this.j=!1}Oi.prototype.reset=function(){this.context=this.g=this.h=this.a=null,this.j=!1};var Di=new vi(function(){return new Oi},function(t){t.reset()});function xi(t,e,n){var i=Di.get();return i.h=t,i.g=e,i.context=n,i}function Li(t){if(t instanceof Ni)return t;var e=new Ni(l);return Vi(e,Ri,t),e}function Mi(t){return new Ni(function(e,n){n(t)})}function Fi(t,e){return Ui(t,null,e,void 0)}function ji(t,e){t.g||t.a!=Ri&&t.a!=Pi||Bi(t),t.j?t.j.next=e:t.g=e,t.j=e}function Ui(t,e,n,i){var r=xi(null,null,null);return r.a=new Ni(function(t,o){r.h=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){o(t)}}:t,r.g=n?function(e){try{var r=n.call(i,e);!a(r)&&e instanceof Gi?o(e):t(r)}catch(t){o(t)}}:o}),r.a.h=t,ji(t,r),r.a}function Vi(t,e,n){if(t.a==Ai){t===n&&(e=Pi,n=new TypeError("Promise cannot resolve to itself")),t.a=1;t:{var i=n,r=t.D,o=t.F;if(i instanceof Ni){ji(i,xi(r||l,o||null,t));var a=!0}else if(pi(i))i.then(r,o,t),a=!0;else{if(m(i))try{var s=i.then;if(g(s)){!function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(r,t))},o)}catch(t){o(t)}}(i,s,r,o,t),a=!0;break t}}catch(e){o.call(t,e),a=!0;break t}a=!1}}a||(t.w=n,t.a=e,t.h=null,Bi(t),e!=Pi||n instanceof Gi||function(t,e){t.i=!0,Ii(function(){t.i&&Ki.call(null,e)})}(t,n))}}function Bi(t){t.u||(t.u=!0,Ii(t.B,t))}function Hi(t){var e=null;return t.g&&(e=t.g,t.g=e.next,e.next=null),t.g||(t.j=null),e}function Wi(t,e,n,i){if(n==Pi&&e.g&&!e.j)for(;t&&t.i;t=t.h)t.i=!1;if(e.a)e.a.h=null,qi(e,n,i);else try{e.j?e.h.call(e.context):qi(e,n,i)}catch(t){Ki.call(null,t)}gi(Di,e)}function qi(t,e,n){e==Ri?t.h.call(t.context,n):t.g&&t.g.call(t.context,n)}Ni.prototype.then=function(t,e,n){return Ui(this,g(t)?t:null,g(e)?e:null,n)},di(Ni),Ni.prototype.cancel=function(t){this.a==Ai&&Ii(function(){!function t(e,n){if(e.a==Ai)if(e.h){var i=e.h;if(i.g){for(var r=0,o=null,a=null,s=i.g;s&&(s.j||(r++,s.a==e&&(o=s),!(o&&1<r)));s=s.next)o||(a=s);o&&(i.a==Ai&&1==r?t(i,n):(a?((r=a).next==i.j&&(i.j=r),r.next=r.next.next):Hi(i),Wi(i,o,Pi,n)))}e.h=null}else Vi(e,Pi,n)}(this,new Gi(t))},this)},Ni.prototype.D=function(t){this.a=Ai,Vi(this,Ri,t)},Ni.prototype.F=function(t){this.a=Ai,Vi(this,Pi,t)},Ni.prototype.B=function(){for(var t;t=Hi(this);)Wi(this,t,this.a,this.w);this.u=!1};var Ki=Ci;function Gi(t){A.call(this,t)}N(Gi,A),Gi.prototype.name="cancel";var Qi=!vt||9<=Number(Tt),Yi=vt&&!Nt("9"),zi=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",l,e),o.removeEventListener("test",l,e)}catch(t){}return t}();function Xi(){0!=Ji&&($i[this[y]||(this[y]=++b)]=this),this.N=this.N,this.B=this.B}var Ji=0,$i={};function Zi(t,e){t.N?a(void 0)?e.call(void 0):e():(t.B||(t.B=[]),t.B.push(a(void 0)?E(e,void 0):e))}function tr(t){t&&"function"==typeof t.m&&t.m()}function er(t,e){this.type=t,this.g=this.target=e,this.h=!1,this.eb=!0}function nr(t,e){if(er.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yt){t:{try{ht(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.j=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:ir[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Xi.prototype.N=!1,Xi.prototype.m=function(){if(!this.N&&(this.N=!0,this.l(),0!=Ji)){var t=this[y]||(this[y]=++b);if(0!=Ji&&this.B&&0<this.B.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete $i[t]}},Xi.prototype.l=function(){if(this.B)for(;this.B.length;)this.B.shift()()},er.prototype.stopPropagation=function(){this.h=!0},er.prototype.preventDefault=function(){this.eb=!1},N(nr,er);var ir=Hn({2:"touch",3:"pen",4:"mouse"});nr.prototype.stopPropagation=function(){nr.o.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},nr.prototype.preventDefault=function(){nr.o.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Yi)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var rr="closure_listenable_"+(1e6*Math.random()|0),or=0;function ar(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Da=r,this.key=++or,this.oa=this.Aa=!1}function sr(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.Da=null}function ur(t){this.src=t,this.a={},this.g=0}function cr(t,e){var n=e.type;n in t.a&&U(t.a[n],e)&&(sr(e),0==t.a[n].length&&(delete t.a[n],t.g--))}function lr(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.Da==i)return r}return-1}ur.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.g++);var a=lr(t,e,i,r);return-1<a?(e=t[a],n||(e.Aa=!1)):((e=new ar(e,this.src,o,!!i,r)).Aa=n,t.push(e)),e};var hr="closure_lm_"+(1e6*Math.random()|0),fr={};function dr(t,e,n,i,r){if(i&&i.once)return vr(t,e,n,i,r);if(p(e)){for(var o=0;o<e.length;o++)dr(t,e[o],n,i,r);return null}return n=Ir(n),t&&t[rr]?t.D.add(String(e),n,!1,m(i)?!!i.capture:!!i,r):pr(t,e,n,!1,i,r)}function pr(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=m(r)?!!r.capture:!!r,s=Er(t);if(s||(t[hr]=s=new ur(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){var t=wr,e=Qi?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)zi||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(yr(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return 0,n}function vr(t,e,n,i,r){if(p(e)){for(var o=0;o<e.length;o++)vr(t,e[o],n,i,r);return null}return n=Ir(n),t&&t[rr]?t.D.add(String(e),n,!0,m(i)?!!i.capture:!!i,r):pr(t,e,n,!0,i,r)}function gr(t,e,n,i,r){if(p(e))for(var o=0;o<e.length;o++)gr(t,e[o],n,i,r);else i=m(i)?!!i.capture:!!i,n=Ir(n),t&&t[rr]?(t=t.D,(e=String(e).toString())in t.a&&(-1<(n=lr(o=t.a[e],n,i,r))&&(sr(o[n]),V(o,n),0==o.length&&(delete t.a[e],t.g--)))):t&&(t=Er(t))&&(e=t.a[e.toString()],t=-1,e&&(t=lr(e,n,i,r)),(n=-1<t?e[t]:null)&&mr(n))}function mr(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[rr])cr(e.D,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(yr(n),i):e.addListener&&e.removeListener&&e.removeListener(i),0,(n=Er(e))?(cr(n,t),0==n.g&&(n.src=null,e[hr]=null)):sr(t)}}}function yr(t){return t in fr?fr[t]:fr[t]="on"+t}function br(t,e,n,i){var r=!0;if((t=Er(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=_r(o,i),r=r&&!1!==o)}return r}function _r(t,e){var n=t.listener,i=t.Da||t.src;return t.Aa&&mr(t),n.call(i,e)}function wr(t,e){if(t.oa)return!0;if(!Qi){if(!e)t:{e=["window","event"];for(var n=o,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new nr(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.g;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;!e.h&&0<=r;r--){e.g=i[r];var a=br(i[r],t,!0,e);n=n&&a}for(r=0;!e.h&&r<i.length;r++)e.g=i[r],a=br(i[r],t,!1,e),n=n&&a}return n}return _r(t,new nr(e,this))}function Er(t){return(t=t[hr])instanceof ur?t:null}var Cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ir(t){return g(t)?t:(t[Cr]||(t[Cr]=function(e){return t.handleEvent(e)}),t[Cr])}function Sr(t,e,n){e||(e={}),n=n||window;var i=t instanceof jt?t:Bt(void 0!==t.href?t.href:String(t));t=e.target||t.target;var r=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":r.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(o+"="+(e[o]?1:0))}var o=r.join(",");return(ot("iPhone")&&!ot("iPod")&&!ot("iPad")||ot("iPad")||ot("iPod"))&&n.navigator&&n.navigator.standalone&&t&&"_self"!=t?(o=n.document.createElement("A"),i instanceof jt||i instanceof jt||(i="object"==typeof i&&i.na?i.ka():String(i),Vt.test(i)||(i="about:invalid#zClosurez"),i=Wt(i)),o.href=Ut(i),o.setAttribute("target",t),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(e),n={}):e.noreferrer?(n=n.open("",t,o),e=Ut(i),n&&(mt&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),n.opener=null,e=Qt(e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Q(e)+'">',null),n.document.write(Kt(e)),n.document.close())):(n=n.open(Ut(i),t,o))&&e.noopener&&(n.opener=null),n}function Tr(t){window.location.assign(Ut(Bt(t)))}function kr(){try{return!!(window.opener&&window.opener.location&&window.opener.location.assign&&window.opener.location.hostname===window.location.hostname&&window.opener.location.protocol===window.location.protocol)}catch(t){}return!1}function Nr(t){Sr(t,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Ar(t){if(null==(t=m(t)&&1==t.nodeType?t:document.querySelector(String(t))))throw Error("Could not find the FirebaseUI widget element on the page.");return t}function Rr(){return window.location.href}function Pr(){this.a=new En,Cn(this.a,"acUiConfig"),Cn(this.a,"autoUpgradeAnonymousUsers"),Cn(this.a,"callbacks"),Cn(this.a,"credentialHelper",Or),Cn(this.a,"popupMode",!1),Cn(this.a,"privacyPolicyUrl"),Cn(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Cn(this.a,"queryParameterForWidgetMode","mode"),Cn(this.a,"signInFlow"),Cn(this.a,"signInOptions"),Cn(this.a,"signInSuccessUrl"),Cn(this.a,"siteName"),Cn(this.a,"tosUrl"),Cn(this.a,"widgetUrl")}var Or="accountchooser.com",Dr={Pb:Or,Sb:"googleyolo",NONE:"none"},xr={Tb:"popup",Vb:"redirect"};var Lr={Rb:"callback",Ub:"recoverEmail",Wb:"resetPassword",Xb:"select",Yb:"signIn",Zb:"verifyEmail"},Mr=["anonymous"],Fr=["sitekey","tabindex","callback","expired-callback"];function jr(t){var e=t.a.get("widgetUrl")||Rr();return Ur(t,e)}function Ur(t,e){t=Qr(t);for(var n,i=e.search(be),r=0,o=[];0<=(n=ye(e,r,t,i));)o.push(e.substring(r,n)),r=Math.min(e.indexOf("&",n)+1||i,i);return o.push(e.substr(r)),e=o.join("").replace(we,"$1"),(t+=i="="+encodeURIComponent("select"))?(0>(i=e.indexOf("#"))&&(i=e.length),0>(r=e.indexOf("?"))||r>i?(r=i,n=""):n=e.substring(r+1,i),i=(e=[e.substr(0,r),n,e.substr(i)])[1],e[1]=t?i?i+"&"+t:t:i,t=e[0]+(e[1]?"?"+e[1]:"")+e[2]):t=e,t}function Vr(t){var e=!!t.a.get("autoUpgradeAnonymousUsers");return e&&!eo(t)&&ui('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),e}function Br(t){t=t.a.get("signInOptions")||[];for(var e=[],n=0;n<t.length;n++){var i=t[n];i=m(i)?i:{provider:i},(Bn[i.provider]||j(Mr,i.provider))&&e.push(i)}return e}function Hr(t,e){t=Br(t);for(var n=0;n<t.length;n++)if(t[n].provider===e)return t[n];return null}function Wr(t){return L(Br(t),function(t){return t.provider})}function qr(t,e){return p(t=(t=Hr(t,e))&&t.scopes)?t:[]}function Kr(t,e){return m(t=(t=Hr(t,e))&&t.customParameters)?(t=st(t),e===firebase.auth.GoogleAuthProvider.PROVIDER_ID&&delete t.login_hint,t):null}function Gr(t){if(!(t=Hr(t,firebase.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var e=t.whitelistedCountries,n=t.blacklistedCountries;if(void 0!==e&&(!p(e)||0==e.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!p(n))throw Error("BlacklistedCountries must be an array.");if(e&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!e&&!n)return xn;if(t=[],e){n={};for(var i=0;i<e.length;i++)for(var r=On(e[i]),o=0;o<r.length;o++)n[r[o].c]=r[o];for(var a in n)n.hasOwnProperty(a)&&t.push(n[a])}else{for(a={},i=0;i<n.length;i++)for(r=On(n[i]),o=0;o<r.length;o++)a[r[o].c]=r[o];for(e=0;e<xn.length;e++)null!==a&&xn[e].c in a||t.push(xn[e])}return t}function Qr(t){return Sn(t.a,"queryParameterForWidgetMode")}function Yr(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&fi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if(g(e))return e;if(s(e))return function(){Nr(e)}}return null}function zr(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&fi("Term of Service URL is missing, the link will not be displayed."),e&&n){if(g(n))return n;if(s(n))return function(){Nr(n)}}return null}function Xr(t){return!(t=Hr(t,firebase.auth.EmailAuthProvider.PROVIDER_ID))||void 0===t.requireDisplayName||!!t.requireDisplayName}function Jr(t){return!(!(t=Hr(t,firebase.auth.EmailAuthProvider.PROVIDER_ID))||t.signInMethod!==firebase.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function $r(t){return no(t).uiShown||null}function Zr(t){return no(t).signInSuccess||null}function to(t){return no(t).signInSuccessWithAuthResult||null}function eo(t){return no(t).signInFailure||null}function no(t){return t.a.get("callbacks")||{}}function io(t){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return"none";for(var e in t=t.a.get("credentialHelper"),Dr)if(Dr[e]==t)return Dr[e];return Or}function ro(t){this.a=Te(t)}var oo={Ha:"ui_auid",Qb:"apiKey",Ia:"ui_sd",hb:"mode",Ta:"oobCode",PROVIDER_ID:"ui_pid",Ka:"ui_sid"};function ao(t){return t.a.a.get(oo.Ha)||null}function so(t,e){e?t.a.a.set(oo.PROVIDER_ID,e):je(t.a.a,oo.PROVIDER_ID)}function uo(){Xi.call(this),this.D=new ur(this),this.ib=this,this.za=null}function co(t,e){var n,i=t.za;if(i)for(n=[];i;i=i.za)n.push(i);if(t=t.ib,i=e.type||e,s(e))e=new er(e,t);else if(e instanceof er)e.target=e.target||t;else{var r=e;ct(e=new er(i,t),r)}if(r=!0,n)for(var o=n.length-1;!e.h&&0<=o;o--){var a=e.g=n[o];r=lo(a,i,!0,e)&&r}if(e.h||(r=lo(a=e.g=t,i,!0,e)&&r,e.h||(r=lo(a,i,!1,e)&&r)),n)for(o=0;!e.h&&o<n.length;o++)r=lo(a=e.g=n[o],i,!1,e)&&r;return r}function lo(t,e,n,i){if(!(e=t.D.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.Da||a.src;a.Aa&&cr(t.D,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.eb}ro.prototype.toString=function(){return this.a.toString()},N(uo,Xi),uo.prototype[rr]=!0,uo.prototype.Ra=function(t){this.za=t},uo.prototype.removeEventListener=function(t,e,n,i){gr(this,t,e,n,i)},uo.prototype.l=function(){if(uo.o.l.call(this),this.D){var t,e=this.D;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)0,sr(n[i]);delete e.a[t],e.g--}}this.za=null};var ho={},fo=0;function po(t,e){if(!t)throw Error("Event target element must be provided!");if(t=go(t),ho[t]&&ho[t].length)for(var n=0;n<ho[t].length;n++)co(ho[t][n],e)}function vo(t){var e=go(t.M());ho[e]&&ho[e].length&&(function(t,e){0<=(e=F(t,e,void 0))&&V(t,e)}(ho[e],function(e){return e==t}),ho[e].length||delete ho[e])}function go(t){return void 0===t.a&&(t.a=fo,fo++),t.a}function mo(t){if(!t)throw Error("Event target element must be provided!");this.a=t,uo.call(this)}function yo(t,e){this.i=[],this.N=t,this.J=e||null,this.j=this.a=!1,this.h=void 0,this.D=this.s=this.w=!1,this.u=0,this.g=null,this.B=0}function bo(t,e,n){t.a=!0,t.h=n,t.j=!e,Co(t)}function _o(t){if(t.a){if(!t.D)throw new Io(t);t.D=!1}}function wo(t,e,n){t.i.push([e,n,void 0]),t.a&&Co(t)}function Eo(t){return M(t.i,function(t){return g(t[1])})}function Co(t){if(t.u&&t.a&&Eo(t)){var e=t.u,n=ko[e];n&&(o.clearTimeout(n.a),delete ko[e]),t.u=0}t.g&&(t.g.B--,delete t.g),e=t.h;for(var i=n=!1;t.i.length&&!t.w;){var r=t.i.shift(),s=r[0],u=r[1];if(r=r[2],s=t.j?u:s)try{var c=s.call(r||t.J,e);a(c)&&(t.j=t.j&&(c==e||c instanceof Error),t.h=e=c),(pi(e)||"function"==typeof o.Promise&&e instanceof o.Promise)&&(i=!0,t.w=!0)}catch(i){e=i,t.j=!0,Eo(t)||(n=!0)}}t.h=e,i&&(c=E(t.F,t,!0),i=E(t.F,t,!1),e instanceof yo?(wo(e,c,i),e.s=!0):e.then(c,i)),n&&(e=new To(e),ko[e.a]=e,t.u=e.a)}function Io(){A.call(this)}function So(){A.call(this)}function To(t){this.a=o.setTimeout(E(this.h,this),0),this.g=t}N(mo,uo),mo.prototype.M=function(){return this.a},mo.prototype.register=function(){var t=go(this.M());ho[t]?j(ho[t],this)||ho[t].push(this):ho[t]=[this]},yo.prototype.cancel=function(t){if(this.a)this.h instanceof yo&&this.h.cancel();else{if(this.g){var e=this.g;delete this.g,t?e.cancel(t):(e.B--,0>=e.B&&e.cancel())}this.N?this.N.call(this.J,this):this.D=!0,this.a||(t=new So(this),_o(this),bo(this,!1,t))}},yo.prototype.F=function(t,e){this.w=!1,bo(this,t,e)},yo.prototype.then=function(t,e,n){var i,r,o=new Ni(function(t,e){i=t,r=e});return wo(this,i,function(t){t instanceof So?o.cancel():r(t)}),o.then(t,e,n)},di(yo),N(Io,A),Io.prototype.message="Deferred has already fired",Io.prototype.name="AlreadyCalledError",N(So,A),So.prototype.message="Deferred was canceled",So.prototype.name="CanceledError",To.prototype.h=function(){throw delete ko[this.a],this.g};var ko={};function No(t){var e={},n=e.document||document,i=Lt(t),r=document.createElement("SCRIPT"),a={fb:r,gb:void 0},s=new yo(Ao,a),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){Ro(r,!0);var t=new Do(Oo,"Timeout reached for loading script "+i);_o(s),bo(s,!1,t)},h),a.gb=l),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Ro(r,e.bc||!1,l),_o(s),bo(s,!0,null))},r.onerror=function(){Ro(r,!0,l);var t=new Do(Po,"Error while loading script "+i);_o(s),bo(s,!1,t)},ct(a=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(t,e){at(e,function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ka()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ie.hasOwnProperty(n)?t.setAttribute(ie[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}(r,a),function(t,e){t.src=Lt(e),null===c&&((e=(e=o.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)||(e=null),c=e||""),(e=c)&&t.setAttribute("nonce",e)}(r,t),function(t){var e=(t||document).getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),s}function Ao(){if(this&&this.fb){var t=this.fb;t&&"SCRIPT"==t.tagName&&Ro(t,!0,this.gb)}}function Ro(t,e,n){null!=n&&o.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout(function(){oe(t)},0)}var Po=0,Oo=1;function Do(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),A.call(this,n),this.code=t}function xo(t){this.a=t||o.googleyolo,this.g=null,this.h=!1}N(Do,A),h(xo);var Lo=new Rt(Dt,"https://smartlock.google.com/client");function Mo(){this.a=null}function Fo(t,e){this.a=t,this.g=e||function(t){throw t}}function jo(t,e,n,i){this.a=t,this.h=e||null,this.j=n||null,this.g=i||null}function Uo(t){return t.email?new jo(t.email,t.displayName,t.photoUrl,t.providerId):null}function Vo(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Bo(t){t=(t.a.cookie||"").split(";");for(var e,n,i=[],r=[],o=0;o<t.length;o++)-1==(e=(n=G(t[o])).indexOf("="))?(i.push(""),r.push(n)):(i.push(n.substring(0,e)),r.push(n.substring(e+1)));return{keys:i,values:r}}xo.prototype.cancel=function(){this.a&&this.h&&(this.g=this.a.cancelLastOperation().catch(function(){}))},h(Mo),Mo.prototype.load=function(){var t=this;if(this.a)return this.a;var e=Ft(Pt(Lo));return o.googleyolo?Li():this.a=function(){var t=null;return Fi(new Ni(function(e){"complete"==o.document.readyState?e():(t=function(){e()},vr(window,"load",t))}),function(e){throw gr(window,"load",t),e})}().then(function(){if(!o.googleyolo)return new Ni(function(n,i){var r=setTimeout(function(){t.a=null,i(Error("Network error!"))},1e4);o.onGoogleYoloLoad=function(){clearTimeout(r),n()},Fi(Li(No(e)),function(e){clearTimeout(r),t.a=null,i(e)})})})},Fo.prototype.confirm=function(t){return Fi(Li(this.a.confirm(t)),this.g)},jo.prototype.ja=function(){return{email:this.a,displayName:this.h,photoUrl:this.j,providerId:this.g}},(t=Vo.prototype).set=function(t,e,n,i,r,o){if(/[;=\s]/.test(t))throw Error('Invalid cookie name "'+t+'"');if(/[;\r\n]/.test(e))throw Error('Invalid cookie value "'+e+'"');a(n)||(n=-1),r=r?";domain="+r:"",i=i?";path="+i:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(T()+1e3*n).toUTCString(),this.a.cookie=t+"="+e+r+i+n+o},t.get=function(t,e){for(var n,i=t+"=",r=(this.a.cookie||"").split(";"),o=0;o<r.length;o++){if(0==(n=G(r[o])).lastIndexOf(i,0))return n.substr(i.length);if(n==t)return""}return e},t.ga=function(){return Bo(this).keys},t.ha=function(){return Bo(this).values},t.clear=function(){for(var t=Bo(this).keys,e=t.length-1;0<=e;e--){var n=t[e];this.get(n),this.set(n,"",0,void 0,void 0)}};var Ho=new Vo;function Wo(){}function qo(t,e,n,i){this.h=null!=t?t:-1,this.g=e||null,this.a=n||null,this.j=!!i}function Ko(t,e){this.g=t,this.a=e||null}function Go(t){if(t&&t.email){var e;if(e=t.credential){var n=(e=t.credential)&&e.providerId;e=Bn[n]&&firebase.auth[Bn[n]]?e.secret&&e.accessToken?firebase.auth[Bn[n]].credential(e.accessToken,e.secret):n==firebase.auth.GoogleAuthProvider.PROVIDER_ID?firebase.auth[Bn[n]].credential(e.idToken,e.accessToken):firebase.auth[Bn[n]].credential(e.accessToken):null}return new Ko(t.email,e)}return null}function Qo(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);255<r&&(e[n++]=255&r,r>>=8),e[n++]=r}return e}function Yo(t){return L(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}function zo(t){for(this.u=t,this.g=this.u.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.i=[[],[],[],[]],this.a=Array(Xo*(this.j+1)),t=0;t<this.g;t++)this.a[t]=[this.u[4*t],this.u[4*t+1],this.u[4*t+2],this.u[4*t+3]];var e=Array(4);for(t=this.g;t<Xo*(this.j+1);t++){if(e[0]=this.a[t-1][0],e[1]=this.a[t-1][1],e[2]=this.a[t-1][2],e[3]=this.a[t-1][3],0==t%this.g){var n=e,i=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=i,ia(e),e[0]^=aa[t/this.g][0],e[1]^=aa[t/this.g][1],e[2]^=aa[t/this.g][2],e[3]^=aa[t/this.g][3]}else 6<this.g&&4==t%this.g&&ia(e);this.a[t]=Array(4),this.a[t][0]=this.a[t-this.g][0]^e[0],this.a[t][1]=this.a[t-this.g][1]^e[1],this.a[t][2]=this.a[t-this.g][2]^e[2],this.a[t][3]=this.a[t-this.g][3]^e[3]}}Ho.g=3950,N(qo,Wo),qo.prototype.set=function(t,e){Ho.set(t,e,this.h,this.g,this.a,this.j)},qo.prototype.get=function(t){return Ho.get(t)||null},qo.prototype.ma=function(t){var e=this.g,n=this.a;Ho.get(t),Ho.set(t,"",0,e,n)},Ko.prototype.ja=function(){return{email:this.g,credential:this.a&&st(this.a)}},zo.prototype.w=16;var Xo=zo.prototype.w/4;function Jo(t,e){for(var n,i=0;i<Xo;i++)for(var r=0;4>r;r++)n=e[n=4*r+i],t.h[i][r]=n}function $o(t){for(var e=[],n=0;n<Xo;n++)for(var i=0;4>i;i++)e[4*i+n]=t.h[n][i];return e}function Zo(t,e){for(var n=0;4>n;n++)for(var i=0;4>i;i++)t.h[n][i]^=t.a[4*e+i][n]}function ta(t,e){for(var n=0;4>n;n++)for(var i=0;4>i;i++)t.h[n][i]=e[t.h[n][i]]}function ea(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.i[e][n]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.i[e][(n+e)%Xo]}function na(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.i[e][(n+e)%Xo]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.i[e][n]}function ia(t){t[0]=ra[t[0]],t[1]=ra[t[1]],t[2]=ra[t[2]],t[3]=ra[t[3]]}var ra=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],oa=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],aa=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],sa=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],ua=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],ca=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],la=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],ha=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],fa=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function da(t,e){t=new zo(va(t));for(var n,i=q(e=Qo(e),0,16),r="";i.length;){n=16-i.length;for(var o=0;o<n;o++)i.push(0);for(Jo(n=t,i),Zo(n,0),i=1;i<n.j;++i){ta(n,ra),ea(n),o=n.h;for(var a=n.i[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=sa[a[0]]^ua[a[1]]^a[2]^a[3],o[1][s]=a[0]^sa[a[1]]^ua[a[2]]^a[3],o[2][s]=a[0]^a[1]^sa[a[2]]^ua[a[3]],o[3][s]=ua[a[0]]^a[1]^a[2]^sa[a[3]];Zo(n,i)}ta(n,ra),ea(n),Zo(n,n.j),r+=Yo($o(n)),i=q(e,0,16)}return r}function pa(t,e){t=new zo(va(t));for(var n=[],i=0;i<e.length;i+=2)n.push(parseInt(e.substring(i,i+2),16));var r=q(n,0,16);for(e="";r.length;){for(Jo(i=t,r),Zo(i,i.j),r=1;r<i.j;++r){na(i),ta(i,oa),Zo(i,i.j-r);for(var o=i.h,a=i.i[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=fa[a[0]]^la[a[1]]^ha[a[2]]^ca[a[3]],o[1][s]=ca[a[0]]^fa[a[1]]^la[a[2]]^ha[a[3]],o[2][s]=ha[a[0]]^ca[a[1]]^fa[a[2]]^la[a[3]],o[3][s]=la[a[0]]^ha[a[1]]^ca[a[2]]^fa[a[3]]}if(na(i),ta(i,oa),Zo(i,0),8192>=(i=$o(i)).length)i=String.fromCharCode.apply(null,i);else{for(r="",o=0;o<i.length;o+=8192)r+=String.fromCharCode.apply(null,K(i,o,o+8192));i=r}e+=i,r=q(n,0,16)}return e.replace(/(\x00)+$/,"")}function va(t){for(var e=32-(t=Qo(t.substring(0,32))).length,n=0;n<e;n++)t.push(0);return t}function ga(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(p(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),t(e,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&("function"!=typeof(a=n[r])&&(i.push(o),_a(r,i),i.push(":"),t(e,a,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":_a(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ma,t,e),e.join("")}function ma(){}var ya={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ba=/\uffff/.test("ï¿¿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function _a(t,e){e.push('"',t.replace(ba,function(t){var e=ya[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ya[t]=e),e}),'"')}function wa(t){this.a=t}function Ea(){}function Ca(t){this.a=t}function Ia(t){if(!t.a)return!1;try{return t.a.setItem("__sak","1"),t.a.removeItem("__sak"),!0}catch(t){return!1}}function Sa(){var t=null;try{t=window.localStorage||null}catch(t){}this.a=t}function Ta(){var t=null;try{t=window.sessionStorage||null}catch(t){}this.a=t}function ka(t,e){this.g=t,this.a=e+"::"}wa.prototype.set=function(t,e){a(e)?this.a.set(t,ga(e)):this.a.ma(t)},wa.prototype.get=function(t){try{var e=this.a.get(t)}catch(t){return}if(null!==e)try{return JSON.parse(e)}catch(t){throw"Storage: Invalid value was encountered"}},N(Ea,Wo),Ea.prototype.clear=function(){var t=de(this.da(!0)),e=this;D(t,function(t){e.ma(t)})},N(Ca,Ea),(t=Ca.prototype).set=function(t,e){try{this.a.setItem(t,e)}catch(t){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},t.get=function(t){if(!s(t=this.a.getItem(t))&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},t.ma=function(t){this.a.removeItem(t)},t.da=function(t){var e=0,n=this.a,i=new he;return i.next=function(){if(e>=n.length)throw le;var i=n.key(e++);if(t)return i;if(!s(i=n.getItem(i)))throw"Storage mechanism: Invalid value was encountered";return i},i},t.clear=function(){this.a.clear()},t.key=function(t){return this.a.key(t)},N(Sa,Ca),N(Ta,Ca),N(ka,Ea),ka.prototype.set=function(t,e){this.g.set(this.a+t,e)},ka.prototype.get=function(t){return this.g.get(this.a+t)},ka.prototype.ma=function(t){this.g.ma(this.a+t)},ka.prototype.da=function(t){var e=this.g.da(!0),n=this,i=new he;return i.next=function(){for(var i=e.next();i.substr(0,n.a.length)!=n.a;)i=e.next();return t?i.substr(n.a.length):n.g.get(i)},i};var Na=new Sa,Aa=new wa(Ia(Na)?new ka(Na,"firebaseui"):null),Ra=new Ta,Pa=new wa(Ia(Ra)?new ka(Ra,"firebaseui"):null),Oa={name:"pendingEmailCredential",storage:Pa},Da={name:"pendingRedirect",storage:Pa},xa={name:"redirectUrl",storage:Pa},La={name:"rememberAccount",storage:Pa},Ma={name:"rememberedAccounts",storage:Aa},Fa={name:"emailForSignIn",storage:new wa(new qo(3600,"/"))},ja={name:"pendingEncryptedCredential",storage:new wa(new qo(3600,"/"))};function Ua(t,e){return t.storage.get(e?t.name+":"+e:t.name)}function Va(t,e){t.storage.a.ma(e?t.name+":"+e:t.name)}function Ba(t,e,n){t.storage.set(n?t.name+":"+n:t.name,e)}function Ha(t){return Ua(xa,t)||null}function Wa(t,e){Ba(xa,t,e)}function qa(t,e){Ba(La,t,e)}function Ka(t){return t=Ua(Ma,t)||[],t=L(t,function(t){return Uo(t)}),x(t,d)}function Ga(t){return Go(t=Ua(Oa,t)||null)}function Qa(t,e){Ba(Oa,t.ja(),e)}function Ya(t){Ba(Da,"pending",t)}var za=null;function Xa(t){return!(!t||-32e3!=t.code||"Service unavailable"!=t.message)}function Ja(t,e,n,i){za||(t={callbacks:{empty:t,select:function(t,i){t&&t.account&&e?e(Uo(t.account)):n&&n(!Xa(i))},store:t,update:t},language:"en",providers:void 0,ui:i},"undefined"!=typeof accountchooser&&accountchooser.Api&&accountchooser.Api.init?za=accountchooser.Api.init(t):(za=new Za(t),function(){var t=za;g(t.a.callbacks.empty)&&t.a.callbacks.empty()}()))}function $a(t,e,n){function i(){var t=ke(window.location.href,n).toString();za.select(L(e||[],function(t){return t.ja()}),{clientCallbackUrl:t})}e&&e.length?i():za.checkEmpty(function(e,n){e||n?t(!Xa(n)):i()})}function Za(t){this.a=t,this.a.callbacks=this.a.callbacks||{}}var ts={code:-32e3,message:"Service unavailable",data:"Service is unavailable."};(t=Za.prototype).store=function(){g(this.a.callbacks.store)&&this.a.callbacks.store(void 0,ts)},t.select=function(){g(this.a.callbacks.select)&&this.a.callbacks.select(void 0,ts)},t.update=function(){g(this.a.callbacks.update)&&this.a.callbacks.update(void 0,ts)},t.checkDisabled=function(t){t(!0)},t.checkEmpty=function(t){t(void 0,ts)},t.checkAccountExist=function(t,e){e(void 0,ts)},t.checkShouldUpdate=function(t,e){e(void 0,ts)};var es,ns,is,rs,os={};function as(t,e,n,i){os[t].apply(null,Array.prototype.slice.call(arguments,1))}var ss=/MSIE ([\d.]+).*Windows NT ([\d.]+)/,us=/Firefox\/([\d.]+)/,cs=/Opera[ \/]([\d.]+)(.*Version\/([\d.]+))?/,ls=/Chrome\/([\d.]+)/,hs=/((Windows NT ([\d.]+))|(Mac OS X ([\d_]+))).*Version\/([\d.]+).*Safari/,fs=/Mac OS X;.*(?!(Version)).*Safari/,ds=/Android ([\d.]+).*Safari/,ps=/OS ([\d_]+) like Mac OS X.*Mobile.*Safari/,vs=/Konqueror\/([\d.]+)/,gs=/MSIE ([\d.]+).*Windows Phone OS ([\d.]+)/;function ms(t,e){for(t=t.split(e||"."),this.a=[],e=0;e<t.length;e++)this.a.push(parseInt(t[e],10))}function ys(t,e){return 0<=function(t,e){e instanceof ms||(e=new ms(String(e)));for(var n=Math.max(t.a.length,e.a.length),i=0;i<n;i++){var r=t.a[i],o=e.a[i];if(void 0!==r&&void 0!==o&&r!==o)return r-o;if(void 0===r)return-1;if(void 0===o)return 1}return 0}(t,e)}function bs(t){return t.classList?t.classList:s(t=t.className)&&t.match(/\S+/g)||[]}function _s(t,e){return t.classList?t.classList.contains(e):j(bs(t),e)}function ws(t,e){t.classList?t.classList.add(e):_s(t,e)||(t.className+=0<t.className.length?" "+e:e)}function Es(t,e){t.classList?t.classList.remove(e):_s(t,e)&&(t.className=x(bs(t),function(t){return t!=e}).join(" "))}function Cs(t){var e=t.type;switch(s(e)&&e.toLowerCase()){case"checkbox":case"radio":return t.checked?t.value:null;case"select-one":return 0<=(e=t.selectedIndex)?t.options[e].value:null;case"select-multiple":e=[];for(var n,i=0;n=t.options[i];i++)n.selected&&e.push(n.value);return e.length?e:null;default:return null!=t.value?t.value:null}}function Is(t,e){var n=t.type;switch(s(n)&&n.toLowerCase()){case"checkbox":case"radio":t.checked=e;break;case"select-one":if(t.selectedIndex=-1,s(e))for(var i=0;n=t.options[i];i++)if(n.value==e){n.selected=!0;break}break;case"select-multiple":for(s(e)&&(e=[e]),i=0;n=t.options[i];i++)if(n.selected=!1,e)for(var r,o=0;r=e[o];o++)n.value==r&&(n.selected=!0);break;default:t.value=null!=e?e:""}}function Ss(t,e,n,i,r,o){if(bt&&!Nt("525"))return!0;if(wt&&r)return Ts(t);if(r&&!i)return!1;if(!yt&&("number"==typeof e&&(e=ks(e)),(!n||wt)&&(17==e||18==e||wt&&91==e)||wt&&16==e&&(i||o)))return!1;if((bt||gt)&&i&&n)switch(t){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(vt&&i&&e==t)return!1;switch(t){case 13:return!yt||!o&&!r&&!(n&&i);case 27:return!(bt||gt||yt)}return(!yt||!(i||r||o))&&Ts(t)}function Ts(t){if(48<=t&&57>=t||96<=t&&106>=t||65<=t&&90>=t||(bt||gt)&&0==t)return!0;switch(t){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function ks(t){if(yt)t=function(t){switch(t){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return t}}(t);else if(wt&&bt)switch(t){case 93:t=91}return t}function Ns(t){uo.call(this),this.a=t,dr(t,"keydown",this.g,!1,this),dr(t,"click",this.h,!1,this)}function As(t,e){var n=new Ps(e);if(co(t,n)){n=new Rs(e);try{co(t,n)}finally{e.stopPropagation()}}}function Rs(t){nr.call(this,t.a),this.type="action"}function Ps(t){nr.call(this,t.a),this.type="beforeaction"}function Os(t){uo.call(this),this.a=t,t=vt?"focusout":"blur",this.g=dr(this.a,vt?"focusin":"focus",this,!vt),this.h=dr(this.a,t,this,!vt)}function Ds(t,e){uo.call(this),this.g=t||1,this.a=e||o,this.h=E(this.Lb,this),this.j=T()}function xs(t){t.Ca=!1,t.W&&(t.a.clearTimeout(t.W),t.W=null)}function Ls(t){Xi.call(this),this.g=t,this.a={}}N(Ns,uo),Ns.prototype.g=function(t){(13==t.keyCode||bt&&3==t.keyCode)&&As(this,t)},Ns.prototype.h=function(t){As(this,t)},Ns.prototype.l=function(){Ns.o.l.call(this),gr(this.a,"keydown",this.g,!1,this),gr(this.a,"click",this.h,!1,this),delete this.a},N(Rs,nr),N(Ps,nr),N(Os,uo),Os.prototype.handleEvent=function(t){var e=new nr(t.a);e.type="focusin"==t.type||"focus"==t.type?"focusin":"focusout",co(this,e)},Os.prototype.l=function(){Os.o.l.call(this),mr(this.g),mr(this.h),delete this.a},N(Ds,uo),(t=Ds.prototype).Ca=!1,t.W=null,t.Lb=function(){if(this.Ca){var t=T()-this.j;0<t&&t<.8*this.g?this.W=this.a.setTimeout(this.h,this.g-t):(this.W&&(this.a.clearTimeout(this.W),this.W=null),co(this,"tick"),this.Ca&&(xs(this),this.start()))}},t.start=function(){this.Ca=!0,this.W||(this.W=this.a.setTimeout(this.h,this.g),this.j=T())},t.l=function(){Ds.o.l.call(this),xs(this),delete this.a},N(Ls,Xi);var Ms=[];function Fs(t,e,n,i){p(n)||(n&&(Ms[0]=n.toString()),n=Ms);for(var r=0;r<n.length;r++){var o=dr(e,n[r],i||t.handleEvent,!1,t.g||t);if(!o)break;t.a[o.key]=o}}function js(t){at(t.a,function(t,e){this.a.hasOwnProperty(e)&&mr(t)},t),t.a={}}function Us(t){uo.call(this),this.a=null,this.g=t,t=vt||gt||bt&&!Nt("531")&&"TEXTAREA"==t.tagName,this.h=new Ls(this),Fs(this.h,this.g,t?["keydown","paste","cut","drop","input"]:"input",this)}function Vs(t){null!=t.a&&(o.clearTimeout(t.a),t.a=null)}function Bs(t){return(t=new nr(t.a)).type="input",t}function Hs(t,e){uo.call(this),t&&(this.Ga&&Qs(this),this.la=t,this.Fa=dr(this.la,"keypress",this,e),this.Qa=dr(this.la,"keydown",this.sb,e,this),this.Ga=dr(this.la,"keyup",this.vb,e,this))}Ls.prototype.l=function(){Ls.o.l.call(this),js(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},N(Us,uo),Us.prototype.handleEvent=function(t){if("input"==t.type)vt&&Nt(10)&&0==t.keyCode&&0==t.j||(Vs(this),co(this,Bs(t)));else if("keydown"!=t.type||function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||112<=t.keyCode&&123>=t.keyCode)return!1;switch(t.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!yt;default:return 166>t.keyCode||183<t.keyCode}}(t)){var e="keydown"==t.type?this.g.value:null;vt&&229==t.keyCode&&(e=null);var n=Bs(t);Vs(this),this.a=function(t,e){if(g(t))e&&(t=E(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(0)?-1:o.setTimeout(t,0)}(function(){this.a=null,this.g.value!=e&&co(this,n)},this)}},Us.prototype.l=function(){Us.o.l.call(this),this.h.m(),Vs(this),delete this.g},N(Hs,uo),(t=Hs.prototype).la=null,t.Fa=null,t.Qa=null,t.Ga=null,t.R=-1,t.ba=-1,t.Ma=!1;var Ws={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},qs={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ks=!bt||Nt("525"),Gs=wt&&yt;function Qs(t){t.Fa&&(mr(t.Fa),mr(t.Qa),mr(t.Ga),t.Fa=null,t.Qa=null,t.Ga=null),t.la=null,t.R=-1,t.ba=-1}function Ys(t,e,n,i){nr.call(this,i),this.type="key",this.keyCode=t,this.j=e,this.repeat=n}function zs(t,e,n,i){this.top=t,this.right=e,this.bottom=n,this.left=i}function Xs(t,e){var n=ae(t);return n.defaultView&&n.defaultView.getComputedStyle&&(t=n.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""}function Js(t){try{var e=t.getBoundingClientRect()}catch(t){return{left:0,top:0,right:0,bottom:0}}return vt&&t.ownerDocument.body&&(t=t.ownerDocument,e.left-=t.documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function $s(t){var e=ae(t),n=new Jt(0,0),i=e?ae(e):document;return t==(i=!vt||9<=Number(Tt)||"CSS1Compat"==Zt(i).a.compatMode?i.documentElement:i.body)?n:(t=Js(t),e=re(i=Zt(e).a),i=i.parentWindow||i.defaultView,e=vt&&Nt("10")&&i.pageYOffset!=e.scrollTop?new Jt(e.scrollLeft,e.scrollTop):new Jt(i.pageXOffset||e.scrollLeft,i.pageYOffset||e.scrollTop),n.a=t.left+e.a,n.g=t.top+e.g,n)}(t=Hs.prototype).sb=function(t){(bt||gt)&&(17==this.R&&!t.ctrlKey||18==this.R&&!t.altKey||wt&&91==this.R&&!t.metaKey)&&(this.ba=this.R=-1),-1==this.R&&(t.ctrlKey&&17!=t.keyCode?this.R=17:t.altKey&&18!=t.keyCode?this.R=18:t.metaKey&&91!=t.keyCode&&(this.R=91)),Ks&&!Ss(t.keyCode,this.R,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.ba=ks(t.keyCode),Gs&&(this.Ma=t.altKey))},t.vb=function(t){this.ba=this.R=-1,this.Ma=t.altKey},t.handleEvent=function(t){var e=t.a,n=e.altKey;if(vt&&"keypress"==t.type)var i=this.ba,r=13!=i&&27!=i?e.keyCode:0;else(bt||gt)&&"keypress"==t.type?(i=this.ba,r=0<=e.charCode&&63232>e.charCode&&Ts(i)?e.charCode:0):pt&&!bt?r=Ts(i=this.ba)?e.keyCode:0:(i=e.keyCode||this.ba,r=e.charCode||0,Gs&&"keypress"==t.type&&(n=this.Ma),wt&&63==r&&224==i&&(i=191));var o=i=ks(i);i?63232<=i&&i in Ws?o=Ws[i]:25==i&&t.shiftKey&&(o=9):e.keyIdentifier&&e.keyIdentifier in qs&&(o=qs[e.keyIdentifier]),yt&&Ks&&"keypress"==t.type&&!Ss(o,this.R,t.shiftKey,t.ctrlKey,n,t.metaKey)||(t=o==this.R,this.R=o,(e=new Ys(o,r,t,e)).altKey=n,co(this,e))},t.M=function(){return this.la},t.l=function(){Hs.o.l.call(this),Qs(this)},N(Ys,nr),zs.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},zs.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},zs.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},zs.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Zs={thin:2,medium:4,thick:6};function tu(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:null))return 0;var n=t.currentStyle?t.currentStyle[e+"Width"]:null;if(n in Zs)t=Zs[n];else if(/^\d+px?$/.test(n))t=parseInt(n,10);else{e=t.style.left;var i=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=n,n=t.style.pixelLeft,t.style.left=e,t.runtimeStyle.left=i,t=+n}return t}function eu(){}function nu(t){uo.call(this),this.w=t||Zt(),this.Va=null,this.ia=!1,this.j=null,this.F=void 0,this.va=this.xa=this.X=null}function iu(t,e){return t.j?ee(e,t.j||t.w.a):null}function ru(t){return t.F||(t.F=new Ls(t)),t.F}function ou(t,e){t.xa&&D(t.xa,e,void 0)}function au(t,e){var n=ue(t,"firebaseui-textfield");e?(Es(t,"firebaseui-input-invalid"),ws(t,"firebaseui-input"),n&&Es(n,"firebaseui-textfield-invalid")):(Es(t,"firebaseui-input"),ws(t,"firebaseui-input-invalid"),n&&ws(n,"firebaseui-textfield-invalid"))}function su(t,e,n){Zi(t,C(tr,e=new Us(e))),Fs(ru(t),e,"input",n)}function uu(t,e,n){Zi(t,C(tr,e=new Hs(e))),Fs(ru(t),e,"key",function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),n(t))})}function cu(t,e,n){Zi(t,C(tr,e=new Ns(e))),Fs(ru(t),e,"action",function(t){t.stopPropagation(),t.preventDefault(),n(t)})}function lu(t){ws(t,"firebaseui-hidden")}function hu(t,e){e&&se(t,e),Es(t,"firebaseui-hidden")}function fu(t){return!_s(t,"firebaseui-hidden")&&"none"!=t.style.display}function du(t){var e=(t=t||{}).email,n=t.disabled,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="email">';return i=t.ac?i+"Enter new email address":i+"Email",i+='</label><input type="email" name="email" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+on(null!=e?e:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',tn(i)}function pu(t){var e='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return e=(t=(t=t||{}).label)?e+Xe(t):e+"Next",tn(e+"</button>")}function vu(){var t=""+pu({label:nn("Sign In")});return tn(t)}function gu(){var t=""+pu({label:nn("Save")});return tn(t)}function mu(){var t=""+pu({label:nn("Continue")});return tn(t)}function yu(t){var e='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="newPassword">';return e=(t=(t=t||{}).label)?e+Xe(t):e+"Choose password",tn(e+'</label><input type="password" name="newPassword" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function bu(){var t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="password">';return tn((t={}.current?t+"Current password":t+"Password")+'</label><input type="password" name="password" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function _u(){return tn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function wu(t){var e='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return e=(t=(t=t||{}).label)?e+Xe(t):e+"Cancel",tn(e+"</button>")}function Eu(t){var e="";return t.H&&t.G&&(e+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),tn(e)}function Cu(t){var e="";return t.H&&t.G&&(e+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),tn(e)}function Iu(t){return t='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Xe(t.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',tn(t)}function Su(t){var e=t.content;return t=t.lb,tn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(t?" "+on(t):"")+'">'+Xe(e)+"</dialog>")}function Tu(t){var e=t.message;return tn(Su({content:rn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+on(t.Ea)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Xe(e)+"</div>")}))}function ku(t){for(var e='<div class="firebaseui-list-box-actions">',n=(t=t.items).length,i=0;i<n;i++){var r=t[i];e+='<button type="button" data-listboxid="'+on(r.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(r.Ea?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+on(r.Ea)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Xe(r.label)+"</div></button>"}return e=""+Su({lb:nn("firebaseui-list-box-dialog"),content:rn(e+"</div>")}),tn(e)}function Nu(t){return tn((t=t||{}).Nb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function Au(t){var e="";switch((t=t||{}).providerId){case"google.com":e+="Google";break;case"github.com":e+="GitHub";break;case"facebook.com":e+="Facebook";break;case"twitter.com":e+="Twitter";break;case"anonymous":e+="Guest";break;default:e+="Password"}return Ze(e)}function Ru(t){Du(t,"upgradeElement")}function Pu(t){Du(t,"downgradeElements")}h(eu),eu.prototype.a=0,N(nu,uo),(t=nu.prototype).xb=eu.Pa(),t.M=function(){return this.j},t.Ra=function(t){if(this.X&&this.X!=t)throw Error("Method not supported");nu.o.Ra.call(this,t)},t.bb=function(){this.j=this.w.a.createElement("DIV")},t.render=function(t){if(this.ia)throw Error("Component already rendered");this.j||this.bb(),t?t.insertBefore(this.j,null):this.w.a.body.appendChild(this.j),this.X&&!this.X.ia||this.v()},t.v=function(){this.ia=!0,ou(this,function(t){!t.ia&&t.M()&&t.v()})},t.sa=function(){ou(this,function(t){t.ia&&t.sa()}),this.F&&js(this.F),this.ia=!1},t.l=function(){this.ia&&this.sa(),this.F&&(this.F.m(),delete this.F),ou(this,function(t){t.m()}),this.j&&oe(this.j),this.X=this.j=this.va=this.xa=null,nu.o.l.call(this)},t.removeChild=function(t,e){if(t){var n=s(t)?t:t.Va||(t.Va=":"+(t.xb.a++).toString(36));if(this.va&&n?t=(null!==(t=this.va)&&n in t?t[n]:void 0)||null:t=null,n&&t){var i=this.va;if(n in i&&delete i[n],U(this.xa,t),e&&(t.sa(),t.j&&oe(t.j)),null==(e=t))throw Error("Unable to set parent component");e.X=null,nu.o.Ra.call(e,null)}}if(!t)throw Error("Child is not in parent component");return t},Iu.a="firebaseui.auth.soy2.element.infoBar",Tu.a="firebaseui.auth.soy2.element.progressDialog",ku.a="firebaseui.auth.soy2.element.listBoxDialog",Nu.a="firebaseui.auth.soy2.element.busyIndicator";var Ou=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Du(t,e){t&&window.componentHandler&&window.componentHandler[e]&&D(Ou,function(n){_s(t,n)&&window.componentHandler[e](t),D(te(n,t),function(t){window.componentHandler[e](t)})})}function xu(t,e,n){if(Lu.call(this),document.body.appendChild(t),t.showModal||window.dialogPolyfill.registerDialog(t),t.showModal(),Ru(t),e&&cu(this,t,function(e){var n=t.getBoundingClientRect();(e.clientX<n.left||n.left+n.width<e.clientX||e.clientY<n.top||n.top+n.height<e.clientY)&&Lu.call(this)}),!n){var i=this.M().parentElement||this.M().parentNode;if(i){var r=this;this.$=function(){if(t.open){var e=t.getBoundingClientRect().height,n=i.getBoundingClientRect().height,o=i.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=i.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=t.getBoundingClientRect().width,u=i.getBoundingClientRect().width;t.style.top=(o+(n-e)/2).toString()+"px",e=a+(u-s)/2,t.style.left=e.toString()+"px",t.style.right=(document.body.getBoundingClientRect().width-e-s).toString()+"px"}else window.removeEventListener("resize",r.$)},this.$(),window.addEventListener("resize",this.$,!1)}}}function Lu(){var t=Mu.call(this);t&&(Pu(t),t.open&&t.close(),oe(t),this.$&&window.removeEventListener("resize",this.$))}function Mu(){return ee("firebaseui-id-dialog")}function Fu(){oe(ju.call(this))}function ju(){return iu(this,"firebaseui-id-info-bar")}function Uu(){return iu(this,"firebaseui-id-dismiss-info-bar")}var Vu={tb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",rb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg",ob:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg",Mb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",yb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",Ab:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",jb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png"};function Bu(t,e,n){for(var i in er.call(this,t,e),n)this[i]=n[i]}function Hu(t,e,n,i,r){nu.call(this,n),this.Ya=t,this.Xa=e,this.ya=!1,this.Wa=i||null,this.u=this.ca=null,this.Y=st(Vu),ct(this.Y,r||{})}function Wu(t){return t.M().parentElement||t.M().parentNode}function qu(t,e,n){uu(t,e,function(){n.focus()})}function Ku(t,e,n){uu(t,e,function(){n()})}function Gu(t,e,n){e=(t=t||{}).Na;var i=t.fa;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+du(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?wu(null):"")+pu(null)+'</div></div><div class="firebaseui-card-footer">'+(i?Cu(n):Eu(n))+"</div></form></div>",tn(t)}function Qu(t,e,n){return e=(t=t||{}).fa,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+du(t)+bu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+_u()+'</div><div class="firebaseui-form-actions">'+vu()+'</div></div><div class="firebaseui-card-footer">'+(e?Cu(n):Eu(n))+"</div></form></div>",tn(t)}function Yu(t,e,n){var i=(t=t||{}).Cb;e=t.La;var r=t.fa,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+du(t);return i?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="name">First &amp; last name</label><input type="text" name="name" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+on(null!=(t=(t=t||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=tn(t)):t="",n=o+t+yu(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?wu(null):"")+gu()+'</div></div><div class="firebaseui-card-footer">'+(r?Cu(n):Eu(n))+"</div></form></div>",tn(n)}function zu(t,e,n){return e=(t=t||{}).La,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+du(t)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?wu(null):"")+pu({label:nn("Send")})+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form></div>",tn(t)}function Xu(t,e,n){e=t.S;var i="";return i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Follow the instructions sent to <strong>"+Xe(t.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',e&&(i+='<div class="firebaseui-form-actions">'+pu({label:nn("Done")})+"</div>"),i+='</div><div class="firebaseui-card-footer">'+Eu(n)+"</div></div>",tn(i)}function Ju(t,e,n){return tn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Nu(null)+"</div></div>")}function $u(){return tn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Zu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(t="A sign-in email with additional instructions was sent to <strong>"+Xe(t.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+tn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+wu({label:nn("Back")})+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form></div>",tn(e)}function tc(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+tn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+wu({label:nn("Back")})+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form></div>",tn(t)}function ec(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+du(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wu(null)+pu(null)+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form></div>",tn(t)}function nc(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wu({label:nn("Dismiss")})+"</div></div></div>";return tn(t)}function ic(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wu({label:nn("Dismiss")})+"</div></div></div>";return tn(t)}function rc(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="Youâve already used <strong>"+Xe(t.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+bu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+_u()+'</div><div class="firebaseui-form-actions">'+vu()+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form></div>",tn(e)}function oc(t,e,n){var i=t.email;return e="",t=nn(t=""+Au(t)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(i="Youâve already used <strong>"+Xe(i)+"</strong>. You can connect your <strong>"+Xe(t)+"</strong> account with <strong>"+Xe(i)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(t="For this flow to successfully connect your "+Xe(t)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vu()+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form></div>",tn(e)}function ac(t,e,n){e="";var i=""+Au(t);return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(t="You originally intended to connect <strong>"+Xe(i=nn(i))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(i="If you still want to connect your <strong>"+Xe(i)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mu()+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form></div>",tn(e)}function sc(t,e,n){var i=t.email;return e="",t=nn(t=""+Au(t)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(i="Youâve already used <strong>"+Xe(i)+"</strong>. Sign in with "+Xe(t)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+pu({label:nn("Sign in with "+t)})+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form></div>",tn(e)}function uc(t){var e="";return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+Xe(t.email)+"</strong></p>")+yu(function(t){function e(){}var n={label:nn("New password")};for(var i in e.prototype=t,t=new e,n)t[i]=n[i];return t}(t))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+gu()+"</div></div></form></div>",tn(e)}function cc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((t=t||{}).S?'<div class="firebaseui-form-actions">'+mu()+"</div>":"")+"</div></div>",tn(t)}function lc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).S?'<div class="firebaseui-form-actions">'+pu(null)+"</div>":"")+"</div></div>",tn(t)}function hc(t){var e=t.S,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Your sign-in email address has been changed back to <strong>"+Xe(t.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnât ask to change your sign-in email, itâs possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+pu(null)+"</div>":"")+"</div></form></div>",tn(n)}function fc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still canât reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).S?'<div class="firebaseui-form-actions">'+pu(null)+"</div>":"")+"</div></div>",tn(t)}function dc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((t=t||{}).S?'<div class="firebaseui-form-actions">'+mu()+"</div>":"")+"</div></div>",tn(t)}function pc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).S?'<div class="firebaseui-form-actions">'+pu(null)+"</div>":"")+"</div></div>",tn(t)}function vc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Xe(t.errorMessage)+"</p></div></div>",tn(t)}function gc(t,e,n){var i=t.zb;return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(t="Continue with "+Xe(t.Ob)+"?")+'</h2><p class="firebaseui-text">'+(i="You originally wanted to sign in with "+Xe(i))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wu(null)+pu({label:nn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form></div>",tn(e)}function mc(t,e,n){var i='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';e=(t=t.Bb).length;for(var r=0;r<e;r++){var o={providerId:t[r]},a=n,s=o.providerId,u=o,c="";switch((u=u||{}).providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;default:c+="firebaseui-idp-password"}u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+on(Ze(c))+' firebaseui-id-idp-button" data-provider-id="'+on(s)+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l="";switch((c=(c=o)||{}).providerId){case"google.com":l+=an(a.tb);break;case"github.com":l+=an(a.rb);break;case"facebook.com":l+=an(a.ob);break;case"twitter.com":l+=an(a.Mb);break;case"phone":l+=an(a.Ab);break;case"anonymous":l+=an(a.jb);break;default:l+=an(a.yb)}u=u+on(an(a=en(l)))+'"></span>',"password"==s?u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with email</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Email</span>':"phone"==s?u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with phone</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Phone</span>':"anonymous"==s?u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">Continue as guest</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Guest</span>':u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">'+(s="Sign in with "+Xe(Au(o)))+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+Xe(Au(o))+"</span>",i+='<li class="firebaseui-list-item">'+(o=tn(u+"</button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Cu(n)+"</div></div>",tn(i)}function yc(t,e,n){var i,r=(t=t||{}).nb,o=t.Na;return e=t.fa,t='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="phoneNumber">Phone number</label><input type="tel" name="phoneNumber" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+on(null!=(t=(t=t||{}).ta)?t:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',i=(t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+tn(t))+(i=r?tn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?wu(null):"")+pu({label:nn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e?(e='<p class="firebaseui-tos firebaseui-phone-tos">',e=n.H&&n.G?e+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':e+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=tn(e+"</p>")):n=tn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Eu(n),tn(i+n+"</div></form></div>")}function bc(t,e,n){var i="";return t='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+Xe(e=(t=t||{}).phoneNumber)+"</a>",Xe(e),e=i,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+t+"</p>"+(i=tn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="phoneConfirmationCode">6-digit code</label><input type="number" name="phoneConfirmationCode" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wu(null)+pu({label:nn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Eu(n)+"</div></form>",t=tn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),tn(e+(n+t+"</div>"))}function _c(){return iu(this,"firebaseui-id-submit")}function wc(){return iu(this,"firebaseui-id-secondary-link")}function Ec(t,e){cu(this,_c.call(this),function(e){t(e)});var n=wc.call(this);n&&e&&cu(this,n,function(t){e(t)})}function Cc(){return iu(this,"firebaseui-id-password")}function Ic(){return iu(this,"firebaseui-id-password-error")}function Sc(){var t=Cc.call(this),e=Ic.call(this);su(this,t,function(){fu(e)&&(au(t,!0),lu(e))})}function Tc(){var t=Cc.call(this),e=Ic.call(this);return Cs(t)?(au(t,!0),lu(e),e=!0):(au(t,!1),hu(e,Ze("Enter your password").toString()),e=!1),e?Cs(t):null}function kc(t,e,n,i,r,o){Hu.call(this,rc,{email:t},o,"passwordLinking",{H:i,G:r}),this.a=e,this.K=n}N(Bu,er),N(Hu,nu),(t=Hu.prototype).bb=function(){var t=Ge(this.Ya,this.Xa,this.Y,this.w);Ru(t),this.j=t},t.v=function(){if(Hu.o.v.call(this),po(Wu(this),new Bu("pageEnter",Wu(this),{pageId:this.Wa})),this.Ua()&&this.Y.H){var t=this.Y.H;cu(this,this.Ua(),function(){t()})}if(this.Sa()&&this.Y.G){var e=this.Y.G;cu(this,this.Sa(),function(){e()})}},t.sa=function(){po(Wu(this),new Bu("pageExit",Wu(this),{pageId:this.Wa})),Hu.o.sa.call(this)},t.l=function(){window.clearTimeout(this.ca),this.Xa=this.Ya=this.ca=null,this.ya=!1,this.u=null,Pu(this.M()),Hu.o.l.call(this)},t.L=function(t,e,n,i){function r(){if(o.N)return null;o.ya=!1,window.clearTimeout(o.ca),o.ca=null,o.u&&(Pu(o.u),oe(o.u),o.u=null)}var o=this;return o.ya?null:(function(t){t.ya=!0;var e=_s(t.M(),"firebaseui-use-spinner");t.ca=window.setTimeout(function(){t.M()&&null===t.u&&(t.u=Ge(Nu,{Nb:e},null,t.w),t.M().appendChild(t.u),Ru(t.u))},500)}(o),t.apply(null,e).then(n,i).then(r,r))},I(Hu.prototype,{g:function(t){Fu.call(this);var e=Ge(Iu,{message:t},null,this.w);this.M().appendChild(e),cu(this,Uu.call(this),function(){oe(e)})},cc:Fu,fc:ju,ec:Uu,V:function(t,e){t=Ge(Tu,{Ea:t,message:e},null,this.w),xu.call(this,t)},h:Lu,kb:Mu,hc:function(){return iu(this,"firebaseui-tos")},Ua:function(){return iu(this,"firebaseui-tos-link")},Sa:function(){return iu(this,"firebaseui-pp-link")},ic:function(){return iu(this,"firebaseui-tos-list")}}),Gu.a="firebaseui.auth.soy2.page.signIn",Qu.a="firebaseui.auth.soy2.page.passwordSignIn",Yu.a="firebaseui.auth.soy2.page.passwordSignUp",zu.a="firebaseui.auth.soy2.page.passwordRecovery",Xu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Ju.a="firebaseui.auth.soy2.page.callback",$u.a="firebaseui.auth.soy2.page.blank",Zu.a="firebaseui.auth.soy2.page.emailLinkSignInSent",tc.a="firebaseui.auth.soy2.page.emailNotReceived",ec.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",nc.a="firebaseui.auth.soy2.page.differentDeviceError",ic.a="firebaseui.auth.soy2.page.anonymousUserMismatch",rc.a="firebaseui.auth.soy2.page.passwordLinking",oc.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",ac.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",sc.a="firebaseui.auth.soy2.page.federatedLinking",uc.a="firebaseui.auth.soy2.page.passwordReset",cc.a="firebaseui.auth.soy2.page.passwordResetSuccess",lc.a="firebaseui.auth.soy2.page.passwordResetFailure",hc.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",fc.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",dc.a="firebaseui.auth.soy2.page.emailVerificationSuccess",pc.a="firebaseui.auth.soy2.page.emailVerificationFailure",vc.a="firebaseui.auth.soy2.page.unrecoverableError",gc.a="firebaseui.auth.soy2.page.emailMismatch",mc.a="firebaseui.auth.soy2.page.providerSignIn",yc.a="firebaseui.auth.soy2.page.phoneSignInStart",bc.a="firebaseui.auth.soy2.page.phoneSignInFinish",N(kc,Hu),kc.prototype.v=function(){this.P(),this.O(this.a,this.K),Ku(this,this.i(),this.a),this.i().focus(),kc.o.v.call(this)},kc.prototype.l=function(){this.a=null,kc.o.l.call(this)},kc.prototype.I=function(){return Cs(iu(this,"firebaseui-id-email"))},I(kc.prototype,{i:Cc,C:Ic,P:Sc,A:Tc,Z:_c,aa:wc,O:Ec});var Nc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Ac(){return iu(this,"firebaseui-id-email")}function Rc(){return iu(this,"firebaseui-id-email-error")}function Pc(t){var e=Ac.call(this),n=Rc.call(this);su(this,e,function(){fu(n)&&(au(e,!0),lu(n))}),t&&uu(this,e,function(){t()})}function Oc(){return G(Cs(Ac.call(this))||"")}function Dc(){var t=Ac.call(this),e=Rc.call(this),n=Cs(t)||"";return n?Nc.test(n)?(au(t,!0),lu(e),e=!0):(au(t,!1),hu(e,Ze("That email address isn't correct").toString()),e=!1):(au(t,!1),hu(e,Ze("Enter your email address to continue").toString()),e=!1),e?G(Cs(t)):null}function xc(t,e,n,i,r,o,a){Hu.call(this,Qu,{email:n,fa:!!o},a,"passwordSignIn",{H:i,G:r}),this.a=t,this.K=e}function Lc(t,e,n,i,r,o){Hu.call(this,t,e,i,r||"notice",o),this.a=n||null}function Mc(t,e,n,i,r){Lc.call(this,Xu,{email:t,S:!!e},e,r,"passwordRecoveryEmailSent",{H:n,G:i})}function Fc(t,e){Lc.call(this,dc,{S:!!t},t,e,"emailVerificationSuccess")}function jc(t,e){Lc.call(this,pc,{S:!!t},t,e,"emailVerificationFailure")}function Uc(t,e){Lc.call(this,cc,{S:!!t},t,e,"passwordResetSuccess")}function Vc(t,e){Lc.call(this,lc,{S:!!t},t,e,"passwordResetFailure")}function Bc(t,e){Lc.call(this,fc,{S:!!t},t,e,"emailChangeRevokeFailure")}function Hc(t,e){Lc.call(this,vc,{errorMessage:t},void 0,e,"unrecoverableError")}N(xc,Hu),xc.prototype.v=function(){this.P(),this.Z(),this.aa(this.a,this.K),qu(this,this.s(),this.i()),Ku(this,this.i(),this.a),Cs(this.s())?this.i().focus():this.s().focus(),xc.o.v.call(this)},xc.prototype.l=function(){this.K=this.a=null,xc.o.l.call(this)},I(xc.prototype,{s:Ac,T:Rc,P:Pc,O:Oc,I:Dc,i:Cc,C:Ic,Z:Sc,A:Tc,qa:_c,pa:wc,aa:Ec}),N(Lc,Hu),Lc.prototype.v=function(){this.a&&(this.s(this.a),this.i().focus()),Lc.o.v.call(this)},Lc.prototype.l=function(){this.a=null,Lc.o.l.call(this)},I(Lc.prototype,{i:_c,A:wc,s:Ec}),N(Mc,Lc),N(Fc,Lc),N(jc,Lc),N(Uc,Lc),N(Vc,Lc),N(Bc,Lc),N(Hc,Lc);var Wc=!1,qc=null;function Kc(t,e){Wc=!!e,qc||("undefined"==typeof accountchooser&&function(){var t=window.navigator&&window.navigator.userAgent;if(t){var e;if(e=t.match(cs)){var n=new ms(e[3]||e[1]);return!(0<=t.indexOf("Opera Mini"))&&(0<=t.indexOf("Opera Mobi")?0<=t.indexOf("Android")&&ys(n,"10.1"):ys(n,"8.0"))}if(e=t.match(us))return ys(new ms(e[1]),"2.0");if(e=t.match(ls))return ys(new ms(e[1]),"6.0");if(e=t.match(hs))return n=new ms(e[6]),t=e[3]&&new ms(e[3]),e=e[5]&&new ms(e[5],"_"),(!(!t||!ys(t,"6.0"))||!(!e||!ys(e,"10.5.6")))&&ys(n,"3.0");if(e=t.match(ds))return ys(new ms(e[1]),"3.0");if(e=t.match(ps))return ys(new ms(e[1],"_"),"4.0");if(e=t.match(vs))return ys(new ms(e[1]),"4.7");if(e=t.match(gs))return n=new ms(e[1]),t=new ms(e[2]),ys(n,"7.0")&&ys(t,"7.0");if(e=t.match(ss))return n=new ms(e[1]),t=new ms(e[2]),ys(n,"7.0")&&ys(t,"6.0");if(t.match(fs))return!1}return!0}()?(e=Ft(Pt(new Rt(Dt,"//www.gstatic.com/accountchooser/client.js"))),qc=Fi(Li(No(e)),function(){})):qc=Li()),qc.then(t,t)}function Gc(t,e){(t=no(t=Th(t)).accountChooserInvoked||null)?t(e):e()}function Qc(t,e,n){(t=no(t=Th(t)).accountChooserResult||null)?t(e,n):n()}function Yc(t,e,n,i){function r(){var e=t();e&&(e=$r(Th(e)))&&e()}Ja(function(){var o=t();o&&function(t,e,n,i,r){i?(as("callback",t,e),Wc&&n()):Gc(t,function(){Ya(bh(t)),$a(function(i){Va(Da,bh(t)),Qc(t,i?"empty":"unavailable",function(){as("signIn",t,e),(i||Wc)&&n()})},Ka(bh(t)),r)})}(o,e,r,n,i)},function(n){var i=t();i&&function(t,e,n,i){function r(t){t=$c(t),il(e,n,void 0,t),i()}Qc(e,"accountSelected",function(){qa(!1,bh(e));var o=el(e);Ih(e,mh(e).fetchSignInMethodsForEmail(t.a).then(function(r){ol(e,n,r,t.a,t.h||void 0,void 0,o),i()},r))})}(n,i,e,r)},function(n){var i=t();i&&function(t,e,n,i){Qc(e,t?"addAccount":"unavailable",function(){as("signIn",e,n),(t||Wc)&&i()})}(n,i,e,r)},t()&&function(t){return t.a.get("acUiConfig")||null}(Th(t())))}function zc(t,e,n,i){function r(n){if(!n.name||"cancel"!=n.name){t:{var i=n.message;try{var r=((JSON.parse(i).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(r&&r.length){var o=!0;break t}}catch(t){}o=!1}if(o)n=Wu(e),e.m(),il(t,n,void 0,Ze("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=$c(n)}e.g(o)}}}if(Sh(t),i)return Xc(t,n),Li();if(!n.credential)throw Error("No credential found!");if(!(i=mh(t).currentUser||n.user))throw Error("User not logged in.");i=new jo(i.email,i.displayName,i.photoURL,"password"==n.credential.providerId?null:n.credential.providerId),null!=Ua(La,bh(t))&&!Ua(La,bh(t))||function(t,e){var n=Ka(e),i=F(n,function(e){return e.a==t.a&&(e.g||null)==(t.g||null)});-1<i&&V(n,i),n.unshift(t),Ba(Ma,L(n,function(t){return t.ja()}),e)}(i,bh(t)),Va(La,bh(t));try{var o=function(t,e){return kh(t),Eh(t,function(n){if(t.h&&!t.h.isAnonymous&&Vr(Th(t))&&!mh(t).currentUser)return Ah(t).then(function(){return"password"==e.credential.providerId&&(e.credential=null),e});if(n)return Ah(t).then(function(){return n.linkAndRetrieveDataWithCredential(e.credential)}).then(function(t){return e.user=t.user,e.credential=t.credential,e.operationType=t.operationType,e.additionalUserInfo=t.additionalUserInfo,e},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Rh(t,n,e.credential)});if(!e.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Ah(t).then(function(){return yh(t).updateCurrentUser(e.user)}).then(function(){return e.user=yh(t).currentUser,e.operationType="signIn",e.credential&&e.credential.providerId&&"password"==e.credential.providerId&&(e.credential=null),e})})}(t,n)}catch(t){return ui(t.code||t.message,t),e.g(t.code||t.message),Li()}return n=o.then(function(e){Xc(t,e)},r).then(void 0,r),Ih(t,o),Li(n)}function Xc(t,e){if(!e.user)throw Error("No user found");var n=to(Th(t));if(Zr(Th(t))&&n&&fi("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=to(Th(t));var i=Ha(bh(t))||void 0;Va(xa,bh(t));var r=!1;kr()?(n&&!n(e,i)||(r=!0,window.opener.location.assign(Ut(Bt(Jc(t,i))))),n||window.close()):n&&!n(e,i)||(r=!0,Tr(Jc(t,i))),r||t.reset()}else{n=e.user,e=e.credential,i=Zr(Th(t)),r=Ha(bh(t))||void 0,Va(xa,bh(t));var o=!1;kr()?(i&&!i(n,e,r)||(o=!0,window.opener.location.assign(Ut(Bt(Jc(t,r))))),i||window.close()):i&&!i(n,e,r)||(o=!0,Tr(Jc(t,r))),o||t.reset()}}function Jc(t,e){if(!(t=e||Th(t).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return t}function $c(t){var e="";switch(t.code){case"auth/email-already-in-use":e+="The email address is already used by another account";break;case"auth/requires-recent-login":e+=bn();break;case"auth/too-many-requests":e+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":e+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":e+="That email address doesn't match an existing account";break;case"auth/user-token-expired":e+=bn();break;case"auth/weak-password":e+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":e+="The email and password you entered don't match";break;case"auth/network-request-failed":e+="A network error has occurred";break;case"auth/invalid-phone-number":e+=gn();break;case"auth/invalid-verification-code":e+=Ze("Wrong code. Try again.");break;case"auth/code-expired":e+="This code is no longer valid";break;case"auth/expired-action-code":e+="This code has expired.";break;case"auth/invalid-action-code":e+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(e=Ze(e).toString())return e;try{return JSON.parse(t.message),ui("Internal error: "+t.message,void 0),mn().toString()}catch(e){return t.message}}function Zc(t,e,n,i){function r(){Ya(bh(t)),Ih(t,e.L(E(t.Kb,t),[u],function(){if("file:"===(window.location&&window.location.protocol))return Ih(t,dh(t).then(function(n){e.m(),Va(Da,bh(t)),as("callback",t,s,Li(n))},o))},a))}function o(n){if(Va(Da,bh(t)),!n.name||"cancel"!=n.name)switch(n.code){case"auth/popup-blocked":r();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":e.g($c(n));break;default:e.m(),as("callback",t,s,Mi(n))}}function a(n){Va(Da,bh(t)),n.name&&"cancel"==n.name||(ui("signInWithRedirect: "+n.code,void 0),n=$c(n),e.g(n))}var s=Wu(e),u=function(t,e,n){var i=Bn[e]&&firebase.auth[Bn[e]]?new firebase.auth[Bn[e]]:null;if(!i)throw Error("Invalid Firebase Auth provider!");var r=qr(Th(t),e);if(i&&i.addScope)for(var o=0;o<r.length;o++)i.addScope(r[o]);return t=Kr(Th(t),e),e==firebase.auth.GoogleAuthProvider.PROVIDER_ID&&n&&((t=t||{}).login_hint=n),t&&i&&i.setCustomParameters&&i.setCustomParameters(t),i}(t,n,i);"redirect"==function(t){for(var e in t=t.a.get("signInFlow"),xr)if(xr[e]==t)return xr[e];return"redirect"}(Th(t))?r():Ih(t,function(t,e){return kh(t),Eh(t,function(n){return n&&!Ga(bh(t))?n.linkWithPopup(e).then(function(t){return t},function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Rh(t,e)}):mh(t).signInWithPopup(e)})}(t,u).then(function(n){e.m(),as("callback",t,s,Li(n))},o))}function tl(t,e,n){var i=function(t,e){var n=null;return D(Br(t),function(t){t.authMethod===e&&(n=t.provider)}),n}(Th(t),n&&n.authMethod||null);return n&&n.idToken&&i===firebase.auth.GoogleAuthProvider.PROVIDER_ID?(qr(Th(t),firebase.auth.GoogleAuthProvider.PROVIDER_ID).length?(Zc(t,e,i,n.id),n=Li(!0)):n=function(n){var i=!1;return n=e.L(E(t.Hb,t),[n],function(n){var r=Wu(e);e.m(),as("callback",t,r,Li(n)),i=!0},function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var i=Wu(e);e.m(),as("callback",t,i,Mi(n))}else n=$c(n),e.g(n)}),Ih(t,n),n.then(function(){return i},function(){return!1})}(firebase.auth.GoogleAuthProvider.credential(n.idToken)),n):(n&&e.g(Ze("The selected credential for the authentication provider is not supported!").toString()),Li(!1))}function el(t){return 1==(t=Wr(Th(t))).length&&t[0]==firebase.auth.EmailAuthProvider.PROVIDER_ID}function nl(t){return 1==(t=Wr(Th(t))).length&&t[0]==firebase.auth.PhoneAuthProvider.PROVIDER_ID}function il(t,e,n,i){el(t)?i?as("signIn",t,e,n,i):sl(t,e,n):t&&nl(t)&&!i?as("phoneSignInStart",t,e):as("providerSignIn",t,e,i)}function rl(t,e,n,i){var r=Wu(e);Ih(t,e.L(E(mh(t).fetchSignInMethodsForEmail,mh(t)),[n],function(o){qa(io(Th(t))==Or,bh(t)),e.m(),ol(t,r,o,n,void 0,i)},function(t){t=$c(t),e.g(t)}))}function ol(t,e,n,i,r,o,a){n.length||Jr(Th(t))?!n.length&&Jr(Th(t))?as("sendEmailLinkForSignIn",t,e,i,function(){as("signIn",t,e)}):j(n,firebase.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?as("passwordSignIn",t,e,i,a):1==n.length&&n[0]===firebase.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?as("sendEmailLinkForSignIn",t,e,i,function(){as("signIn",t,e)}):(n=Un(n),Qa(new Ko(i),bh(t)),as("federatedSignIn",t,e,i,n,o)):as("passwordSignUp",t,e,i,r,void 0,a)}function al(t,e,n,i,r,o){var a=Wu(e);Ih(t,e.L(E(t.qb,t),[n,o],function(){e.m(),as("emailLinkSignInSent",t,a,n,i,o)},r))}function sl(t,e,n){io(Th(t))==Or?Kc(function(){za?Gc(t,function(){Ya(bh(t)),$a(function(i){Va(Da,bh(t)),Qc(t,i?"empty":"unavailable",function(){as("signIn",t,e,n)})},Ka(bh(t)),jr(Th(t)))}):(kh(t),Yc(gh,e,!1,jr(Th(t))))},!1):(Wc=!1,Gc(t,function(){Qc(t,"unavailable",function(){as("signIn",t,e,n)})}))}function ul(t){var e=Rr();return(e=_e(e,t=Sn(Th(t).a,"queryParameterForSignInSuccessUrl")))?Ut(Bt(e)):null}function cl(){return _e(Rr(),"oobCode")}function ll(){var t=_e(Rr(),"continueUrl");return t?function(){Tr(t)}:null}function hl(t,e){var n=Ar(e);switch(function(t){var e=Rr();for(var n in e=_e(e,t=Qr(Th(t)))||"",Lr)if(Lr[n].toLowerCase()==e.toLowerCase())return Lr[n];return"callback"}(t)){case"callback":(e=ul(t))&&Wa(e,bh(t)),t.cb()?as("callback",t,n):il(t,n);break;case"resetPassword":as("passwordReset",t,n,cl(),ll());break;case"recoverEmail":as("emailChangeRevocation",t,n,cl());break;case"verifyEmail":as("emailVerification",t,n,cl(),ll());break;case"signIn":as("emailLinkSignInCallback",t,n,Rr()),Nh();break;case"select":if((e=ul(t))&&Wa(e,bh(t)),za){il(t,n);break}return void Kc(function(){kh(t),Yc(gh,n,!0)},!0);default:throw Error("Unhandled widget operation.")}(e=$r(Th(t)))&&e()}function fl(t,e){Hu.call(this,ic,void 0,e,"anonymousUserMismatch"),this.a=t}function dl(t){Hu.call(this,Ju,void 0,t,"callback")}function pl(t,e,n){if(n.user){var i={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},r=Ga(bh(t)),o=r&&r.g;if(o&&!function(t,e){if(e==t.email)return!0;if(t.providerData)for(var n=0;n<t.providerData.length;n++)if(e==t.providerData[n].email)return!0;return!1}(n.user,o))!function(t,e,n){var i=Wu(e);Ih(t,Ah(t).then(function(){e.m(),as("emailMismatch",t,i,n)},function(t){t.name&&"cancel"==t.name||(t=$c(t.code),e.g(t))}))}(t,e,i);else{var a=r&&r.a;a?Ih(t,n.user.linkAndRetrieveDataWithCredential(a).then(function(n){i={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},vl(t,e,i)},function(n){gl(t,e,n)})):vl(t,e,i)}}else n=Wu(e),e.m(),Va(Oa,bh(t)),il(t,n)}function vl(t,e,n){Va(Oa,bh(t)),zc(t,e,n)}function gl(t,e,n){var i=Wu(e);Va(Oa,bh(t)),n=$c(n),e.m(),il(t,i,void 0,n)}function ml(t,e,n,i){var r=Wu(e);Ih(t,mh(t).fetchSignInMethodsForEmail(n).then(function(o){e.m(),o.length?j(o,firebase.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?as("passwordLinking",t,r,n):1==o.length&&o[0]===firebase.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?as("emailLinkSignInLinking",t,r,n):as("federatedLinking",t,r,n,Un(o),i):(Va(Oa,bh(t)),as("passwordRecovery",t,r,n,!1,yn().toString()))},function(n){gl(t,e,n)}))}function yl(t,e){Hu.call(this,nc,void 0,e,"differentDeviceError"),this.a=t}function bl(t,e,n,i){Hu.call(this,hc,{email:t,S:!!n},i,"emailChangeRevoke"),this.i=e,this.a=n||null}function _l(){return iu(this,"firebaseui-id-new-password")}function wl(){return iu(this,"firebaseui-id-password-toggle")}function El(){this.Ja=!this.Ja;var t=wl.call(this),e=_l.call(this);this.Ja?(e.type="text",ws(t,"firebaseui-input-toggle-off"),Es(t,"firebaseui-input-toggle-on")):(e.type="password",ws(t,"firebaseui-input-toggle-on"),Es(t,"firebaseui-input-toggle-off")),e.focus()}function Cl(){return iu(this,"firebaseui-id-new-password-error")}function Il(){this.Ja=!1;var t=_l.call(this);t.type="password";var e=Cl.call(this);su(this,t,function(){fu(e)&&(au(t,!0),lu(e))});var n=wl.call(this);ws(n,"firebaseui-input-toggle-on"),Es(n,"firebaseui-input-toggle-off"),function(t,e,n){Zi(t,C(tr,e=new Os(e))),Fs(ru(t),e,"focusin",n)}(this,t,function(){ws(n,"firebaseui-input-toggle-focus"),Es(n,"firebaseui-input-toggle-blur")}),function(t,e,n){Zi(t,C(tr,e=new Os(e))),Fs(ru(t),e,"focusout",n)}(this,t,function(){ws(n,"firebaseui-input-toggle-blur"),Es(n,"firebaseui-input-toggle-focus")}),cu(this,n,E(El,this))}function Sl(){var t=_l.call(this),e=Cl.call(this);return Cs(t)?(au(t,!0),lu(e),e=!0):(au(t,!1),hu(e,Ze("Enter your password").toString()),e=!1),e?Cs(t):null}function Tl(t,e,n){Hu.call(this,uc,{email:t},n,"passwordReset"),this.a=e}function kl(t,e,n,i){"auth/weak-password"==(i&&i.code)?(t=$c(i),au(n.i(),!1),hu(n.A(),t),n.i().focus()):(n&&n.m(),(n=new Vc).render(e),ph(t,n))}function Nl(t,e){try{var n="number"==typeof t.selectionStart}catch(t){n=!1}n?(t.selectionStart=e,t.selectionEnd=e):vt&&!Nt("9")&&("textarea"==t.type&&(e=t.value.substring(0,e).replace(/(\r\n|\r|\n)/g,"\n").length),(t=t.createTextRange()).collapse(!0),t.move("character",e),t.select())}function Al(t,e,n,i,r,o){Hu.call(this,ec,{email:n},o,"emailLinkSignInConfirmation",{H:i,G:r}),this.i=t,this.s=e}function Rl(t,e,n,i,r){Hu.call(this,ac,{providerId:t},r,"emailLinkSignInLinkingDifferentDevice",{H:n,G:i}),this.a=e}function Pl(t){Hu.call(this,$u,void 0,t,"blank")}function Ol(t,e,n,i,r){var o=new Pl,a=new ro(n),s=a.a.a.get(oo.Ta)||"",u=a.a.a.get(oo.Ka)||"",c="1"===a.a.a.get(oo.Ia),l=ao(a),h=a.a.a.get(oo.PROVIDER_ID)||null,f=!Ua(Fa,bh(t)),d=i||function(t,e){var n=null;if(e=Ua(Fa,e))try{var i=pa(t,e),r=JSON.parse(i);n=r&&r.email||null}catch(t){}return n}(u,bh(t)),p=(i=function(t,e){var n=null;if(e=Ua(ja,e))try{var i=pa(t,e);n=JSON.parse(i)}catch(t){}return Go(n||null)}(u,bh(t)))&&i.a;h&&p&&p.providerId!==h&&(p=null),o.render(e),ph(t,o),Ih(t,o.L(function(){var e=Li(null);e=l&&f||f&&c?Mi(Error("anonymous-user-not-found")):function(t,e){var n=ao(new ro(e));return n?(e=new Ni(function(e,i){var r=yh(t).onAuthStateChanged(function(t){r(),t&&t.isAnonymous&&t.uid===n?e(t):t&&t.isAnonymous&&t.uid!==n?i(Error("anonymous-user-mismatch")):i(Error("anonymous-user-not-found"))});Ih(t,r)}),Ih(t,e),e):Li(null)}(t,n).then(function(t){if(h&&!p)throw Error("pending-credential-not-found");return t});var i=null;return e.then(function(e){return i=e,r?null:mh(t).checkActionCode(s)}).then(function(){return i})},[],function(i){d?function(t,e,n,i,r,o){var a=Wu(e);e.V("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ze("Signing in...").toString());var s=null;r=(o?function(t,e,n,i,r){kh(t);var o=r||null,a=firebase.auth.EmailAuthProvider.credentialWithLink(n,i);return n=o?mh(t).signInWithEmailLink(n,i).then(function(t){return t.user.linkAndRetrieveDataWithCredential(o)}).then(function(){return Ah(t)}).then(function(){return Rh(t,{code:"auth/email-already-in-use"},o)}):mh(t).fetchSignInMethodsForEmail(n).then(function(n){return n.length?Rh(t,{code:"auth/email-already-in-use"},a):e.linkAndRetrieveDataWithCredential(a)}),Ih(t,n),n}(t,o,n,i,r):function(t,e,n,i){kh(t);var r,o=i||null;return e=mh(t).signInWithEmailLink(e,n).then(function(t){if(r={user:t.user,credential:null,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo},o)return t.user.linkAndRetrieveDataWithCredential(o).then(function(t){r={user:t.user,credential:o,operationType:r.operationType,additionalUserInfo:t.additionalUserInfo}})}).then(function(){Ah(t)}).then(function(){return yh(t).updateCurrentUser(r.user)}).then(function(){return r.user=yh(t).currentUser,r}),Ih(t,e),e}(t,n,i,r)).then(function(n){Va(ja,bh(t)),Va(Fa,bh(t)),e.h(),e.V("firebaseui-icon-done",Ze("Signed in!").toString()),s=setTimeout(function(){e.h(),zc(t,e,n,!0)},1e3),Ih(t,function(){e&&(e.h(),e.m()),clearTimeout(s)})},function(r){if(e.h(),e.m(),!r.name||"cancel"!=r.name){var o=$c(r);"auth/email-already-in-use"==r.code||"auth/credential-already-in-use"==r.code?(Va(ja,bh(t)),Va(Fa,bh(t))):"auth/invalid-email"==r.code?(o=Ze("The email provided does not match the current sign-in session.").toString(),as("emailLinkConfirmation",t,a,i,Dl,null,o)):il(t,a,n,o)}}),Ih(t,r)}(t,o,d,n,p,i):c?(o.m(),as("differentDeviceError",t,e)):(o.m(),as("emailLinkConfirmation",t,e,n,Dl))},function(i){var r=void 0;if(!i||!i.name||"cancel"!=i.name)switch(o.m(),i&&i.message){case"anonymous-user-not-found":as("differentDeviceError",t,e);break;case"anonymous-user-mismatch":as("anonymousUserMismatch",t,e);break;case"pending-credential-not-found":as("emailLinkNewDeviceLinking",t,e,n,xl);break;default:i&&(r=$c(i)),il(t,e,void 0,r)}}))}function Dl(t,e,n,i){Ol(t,e,i,n,!0)}function xl(t,e,n){Ol(t,e,n)}function Ll(t,e,n,i,r,o){Hu.call(this,oc,{email:t,providerId:e},o,"emailLinkSignInLinking",{H:i,G:r}),this.a=n}function Ml(t,e,n,i,r,o){Hu.call(this,Zu,{email:t},o,"emailLinkSignInSent",{H:i,G:r}),this.s=e,this.a=n}function Fl(t,e,n,i,r,o,a){Hu.call(this,gc,{Ob:t,zb:e},a,"emailMismatch",{H:r,G:o}),this.s=n,this.i=i}function jl(t,e,n,i,r){Hu.call(this,tc,void 0,r,"emailNotReceived",{H:n,G:i}),this.i=t,this.a=e}function Ul(t,e,n,i,r,o){Hu.call(this,sc,{email:t,providerId:e},o,"federatedLinking",{H:i,G:r}),this.a=n}function Vl(t,e,n,i,r,o){Hu.call(this,zu,{email:n,La:!!e},o,"passwordRecovery",{H:i,G:r}),this.a=t,this.s=e}function Bl(){return iu(this,"firebaseui-id-name")}function Hl(){return iu(this,"firebaseui-id-name-error")}function Wl(t,e,n,i,r,o,a,s,u){Hu.call(this,Yu,{email:i,Cb:t,name:r,La:!!n,fa:!!s},u,"passwordSignUp",{H:o,G:a}),this.a=e,this.I=n,this.C=t}function ql(t,e){var n=Xr(Th(t)),i=e.O(),r=null;n&&(r=e.K());var o=e.P();if(i){if(n){if(!r)return void e.A().focus();r=Q(r)}if(o){var a=firebase.auth.EmailAuthProvider.credential(i,o);Ih(t,e.L(E(t.Fb,t),[i,o],function(i){var o={user:i.user,credential:a,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo};return n?(i=i.user.updateProfile({displayName:r}).then(function(){return zc(t,e,o)}),Ih(t,i),i):zc(t,e,o)},function(n){if(!n.name||"cancel"!=n.name){var r=$c(n);switch(n.code){case"auth/email-already-in-use":return function(t,e,n,i){function r(){var t=$c(i);au(e.i(),!1),hu(e.T(),t),e.i().focus()}var o=mh(t).fetchSignInMethodsForEmail(n).then(function(i){i.length?r():(i=Wu(e),e.m(),as("passwordRecovery",t,i,n,!1,yn().toString()))},function(){r()});return Ih(t,o),o}(t,e,i,n);case"auth/too-many-requests":r=Ze("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":au(e.s(),!1),hu(e.aa(),r);break;default:ui(n="setAccountInfo: "+ga(n),void 0),e.g(r)}}}))}else e.s().focus()}else e.i().focus()}function Kl(){return iu(this,"firebaseui-id-phone-confirmation-code")}function Gl(){return iu(this,"firebaseui-id-phone-confirmation-code-error")}function Ql(){return iu(this,"firebaseui-id-resend-countdown")}function Yl(t,e,n,i,r,o,a,s,u){Hu.call(this,bc,{phoneNumber:r},u,"phoneSignInFinish",{H:a,G:s}),this.Oa=o,this.i=new Ds(1e3),this.C=o,this.O=t,this.a=e,this.I=n,this.K=i}N(fl,Hu),fl.prototype.v=function(){var t=this;cu(this,this.i(),function(){t.a()}),this.i().focus(),fl.o.v.call(this)},fl.prototype.l=function(){this.a=null,fl.o.l.call(this)},I(fl.prototype,{i:wc}),os.anonymousUserMismatch=function(t,e){var n=new fl(function(){n.m(),il(t,e)});n.render(e),ph(t,n)},N(dl,Hu),dl.prototype.L=function(t,e,n,i){return t.apply(null,e).then(n,i)},os.callback=function(t,e,n){var i=new dl;i.render(e),ph(t,i),e=n||dh(t),Ih(t,e.then(function(e){pl(t,i,e)},function(e){if(e&&("auth/account-exists-with-different-credential"==e.code||"auth/email-already-in-use"==e.code)&&e.email&&e.credential)Qa(Go(e),bh(t)),ml(t,i,e.email);else if(e&&"auth/user-cancelled"==e.code){var n=Ga(bh(t)),r=$c(e);n&&n.a?ml(t,i,n.g,r):n?rl(t,i,n.g,r):gl(t,i,e)}else e&&"auth/credential-already-in-use"==e.code||(e&&"auth/operation-not-supported-in-this-environment"==e.code&&el(t)?pl(t,i,{user:null,credential:null}):gl(t,i,e))}))},N(yl,Hu),yl.prototype.v=function(){var t=this;cu(this,this.i(),function(){t.a()}),this.i().focus(),yl.o.v.call(this)},yl.prototype.l=function(){this.a=null,yl.o.l.call(this)},I(yl.prototype,{i:wc}),os.differentDeviceError=function(t,e){var n=new yl(function(){n.m(),il(t,e)});n.render(e),ph(t,n)},N(bl,Hu),bl.prototype.v=function(){var t=this;cu(this,iu(this,"firebaseui-id-reset-password-link"),function(){t.i()}),this.a&&(this.A(this.a),this.s().focus()),bl.o.v.call(this)},bl.prototype.l=function(){this.i=this.a=null,bl.o.l.call(this)},I(bl.prototype,{s:_c,C:wc,A:Ec}),N(Tl,Hu),Tl.prototype.v=function(){this.I(),this.C(this.a),Ku(this,this.i(),this.a),this.i().focus(),Tl.o.v.call(this)},Tl.prototype.l=function(){this.a=null,Tl.o.l.call(this)},I(Tl.prototype,{i:_l,A:Cl,K:wl,I:Il,s:Sl,P:_c,O:wc,C:Ec}),os.passwordReset=function(t,e,n,i){Ih(t,mh(t).verifyPasswordResetCode(n).then(function(r){var o=new Tl(r,function(){!function(t,e,n,i,r){var o=n.s();o&&Ih(t,n.L(E(mh(t).confirmPasswordReset,mh(t)),[i,o],function(){n.m();var i=new Uc(r);i.render(e),ph(t,i)},function(i){kl(t,e,n,i)}))}(t,e,o,n,i)});o.render(e),ph(t,o)},function(){kl(t,e)}))},os.emailChangeRevocation=function(t,e,n){var i=null;Ih(t,mh(t).checkActionCode(n).then(function(e){return i=e.data.email,mh(t).applyActionCode(n)}).then(function(){!function(t,e,n){var i=new bl(n,function(){Ih(t,i.L(E(mh(t).sendPasswordResetEmail,mh(t)),[n],function(){i.m(),(i=new Mc(n,void 0,Yr(Th(t)),zr(Th(t)))).render(e),ph(t,i)},function(){i.g(Ze("Unable to send password reset code to specified email").toString())}))});i.render(e),ph(t,i)}(t,e,i)},function(){var n=new Bc;n.render(e),ph(t,n)}))},os.emailVerification=function(t,e,n,i){Ih(t,mh(t).applyActionCode(n).then(function(){var n=new Fc(i);n.render(e),ph(t,n)},function(){var n=new jc;n.render(e),ph(t,n)}))},N(Al,Hu),Al.prototype.v=function(){this.C(this.i),this.I(this.i,this.s),this.a().focus(),Nl(this.a(),(this.a().value||"").length),Al.o.v.call(this)},Al.prototype.l=function(){this.s=this.i=null,Al.o.l.call(this)},I(Al.prototype,{a:Ac,O:Rc,C:Pc,K:Oc,A:Dc,T:_c,P:wc,I:Ec}),os.emailLinkConfirmation=function(t,e,n,i,r,o){var a=new Al(function(){var r=a.A();r?(a.m(),i(t,e,r,n)):a.a().focus()},function(){a.m(),il(t,e,r||void 0)},r||void 0,Yr(Th(t)),zr(Th(t)));a.render(e),ph(t,a),o&&a.g(o)},N(Rl,Hu),Rl.prototype.v=function(){this.s(this.a),this.i().focus(),Rl.o.v.call(this)},Rl.prototype.l=function(){this.a=null,Rl.o.l.call(this)},I(Rl.prototype,{i:_c,s:Ec}),os.emailLinkNewDeviceLinking=function(t,e,n,i){var r=new ro(n);if(n=r.a.a.get(oo.PROVIDER_ID)||null,so(r,null),n){var o=new Rl(n,function(){o.m(),i(t,e,r.toString())},Yr(Th(t)),zr(Th(t)));o.render(e),ph(t,o)}else il(t,e)},N(Pl,Hu),os.emailLinkSignInCallback=Ol,N(Ll,Hu),Ll.prototype.v=function(){this.s(this.a),this.i().focus(),Ll.o.v.call(this)},Ll.prototype.l=function(){this.a=null,Ll.o.l.call(this)},I(Ll.prototype,{i:_c,s:Ec}),os.emailLinkSignInLinking=function(t,e,n){var i=Ga(bh(t));if(Va(Oa,bh(t)),i){var r=new Ll(n,i.a.providerId,function(){!function(t,e,n,i){var r=Wu(e);al(t,e,n,function(){il(t,r,n)},function(i){if(!i.name||"cancel"!=i.name){var o=$c(i);i&&"auth/network-request-failed"==i.code?e.g(o):(e.m(),il(t,r,n,o))}},i)}(t,r,n,i)},Yr(Th(t)),zr(Th(t)));r.render(e),ph(t,r)}else il(t,e)},N(Ml,Hu),Ml.prototype.v=function(){var t=this;cu(this,this.i(),function(){t.a()}),cu(this,iu(this,"firebaseui-id-trouble-getting-email-link"),function(){t.s()}),this.i().focus(),Ml.o.v.call(this)},Ml.prototype.l=function(){this.a=this.s=null,Ml.o.l.call(this)},I(Ml.prototype,{i:wc}),os.emailLinkSignInSent=function(t,e,n,i,r){var o=new Ml(n,function(){o.m(),as("emailNotReceived",t,e,n,i,r)},function(){o.m(),i()},Yr(Th(t)),zr(Th(t)));o.render(e),ph(t,o)},N(Fl,Hu),Fl.prototype.v=function(){this.C(this.s,this.i),this.A().focus(),Fl.o.v.call(this)},Fl.prototype.l=function(){this.i=this.a=null,Fl.o.l.call(this)},I(Fl.prototype,{A:_c,I:wc,C:Ec}),os.emailMismatch=function(t,e,n){var i=Ga(bh(t));if(i){var r=new Fl(n.user.email,i.g,function(){var e=r;Va(Oa,bh(t)),zc(t,e,n)},function(){var e=n.credential.providerId,o=Wu(r);r.m(),i.a?as("federatedLinking",t,o,i.g,e):as("federatedSignIn",t,o,i.g,e)},Yr(Th(t)),zr(Th(t)));r.render(e),ph(t,r)}else il(t,e)},N(jl,Hu),jl.prototype.v=function(){var t=this;cu(this,this.s(),function(){t.a()}),cu(this,this.wa(),function(){t.i()}),this.s().focus(),jl.o.v.call(this)},jl.prototype.wa=function(){return iu(this,"firebaseui-id-resend-email-link")},jl.prototype.l=function(){this.a=this.i=null,jl.o.l.call(this)},I(jl.prototype,{s:wc}),os.emailNotReceived=function(t,e,n,i,r){var o=new jl(function(){al(t,o,n,i,function(t){t=$c(t),o.g(t)},r)},function(){o.m(),il(t,e,n)},Yr(Th(t)),zr(Th(t)));o.render(e),ph(t,o)},N(Ul,Hu),Ul.prototype.v=function(){this.s(this.a),this.i().focus(),Ul.o.v.call(this)},Ul.prototype.l=function(){this.a=null,Ul.o.l.call(this)},I(Ul.prototype,{i:_c,s:Ec}),os.federatedLinking=function(t,e,n,i,r){var o=Ga(bh(t));if(o&&o.a){var a=new Ul(n,i,function(){Zc(t,a,i,n)},Yr(Th(t)),zr(Th(t)));a.render(e),ph(t,a),r&&a.g(r)}else il(t,e)},os.federatedSignIn=function(t,e,n,i,r){var o=new Ul(n,i,function(){Zc(t,o,i,n)},Yr(Th(t)),zr(Th(t)));o.render(e),ph(t,o),r&&o.g(r)},os.passwordLinking=function(t,e,n){var i=Ga(bh(t));Va(Oa,bh(t));var r=i&&i.a;if(r){var o=new kc(n,function(){!function(t,e,n,i){var r=e.A();r?Ih(t,e.L(E(t.Eb,t),[n,r],function(n){return n=n.user.linkAndRetrieveDataWithCredential(i).then(function(n){return zc(t,e,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),Ih(t,n),n},function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/wrong-password":au(e.i(),!1),hu(e.C(),$c(t));break;case"auth/too-many-requests":e.g($c(t));break;default:ui("signInWithEmailAndPassword: "+t.message,void 0),e.g($c(t))}})):e.i().focus()}(t,o,n,r)},function(){o.m(),as("passwordRecovery",t,e,n)},Yr(Th(t)),zr(Th(t)));o.render(e),ph(t,o)}else il(t,e)},N(Vl,Hu),Vl.prototype.v=function(){this.I(),this.K(this.a,this.s),Cs(this.i())||this.i().focus(),Ku(this,this.i(),this.a),Vl.o.v.call(this)},Vl.prototype.l=function(){this.s=this.a=null,Vl.o.l.call(this)},I(Vl.prototype,{i:Ac,C:Rc,I:Pc,O:Oc,A:Dc,T:_c,P:wc,K:Ec}),os.passwordRecovery=function(t,e,n,i,r){var o=new Vl(function(){!function(t,e){var n=e.A();if(n){var i=Wu(e);Ih(t,e.L(E(mh(t).sendPasswordResetEmail,mh(t)),[n],function(){e.m();var r=new Mc(n,function(){r.m(),il(t,i)},Yr(Th(t)),zr(Th(t)));r.render(i),ph(t,r)},function(t){au(e.i(),!1),hu(e.C(),$c(t))}))}else e.i().focus()}(t,o)},i?void 0:function(){o.m(),il(t,e)},n,Yr(Th(t)),zr(Th(t)));o.render(e),ph(t,o),r&&o.g(r)},os.passwordSignIn=function(t,e,n,i){var r=new xc(function(){!function(t,e){var n=e.I(),i=e.A();if(n)if(i){var r=firebase.auth.EmailAuthProvider.credential(n,i);Ih(t,e.L(E(t.Ib,t),[n,i],function(n){return zc(t,e,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})},function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/email-already-in-use":break;case"auth/email-exists":au(e.s(),!1),hu(e.T(),$c(t));break;case"auth/too-many-requests":case"auth/wrong-password":au(e.i(),!1),hu(e.C(),$c(t));break;default:ui("verifyPassword: "+t.message,void 0),e.g($c(t))}}))}else e.i().focus();else e.s().focus()}(t,r)},function(){var n=r.O();r.m(),as("passwordRecovery",t,e,n)},n,Yr(Th(t)),zr(Th(t)),i);r.render(e),ph(t,r)},N(Wl,Hu),Wl.prototype.v=function(){this.Z(),this.C&&this.Oa(),this.qa(),this.pa(this.a,this.I),this.C?(qu(this,this.i(),this.A()),qu(this,this.A(),this.s())):qu(this,this.i(),this.s()),this.a&&Ku(this,this.s(),this.a),Cs(this.i())?this.C&&!Cs(this.A())?this.A().focus():this.s().focus():this.i().focus(),Wl.o.v.call(this)},Wl.prototype.l=function(){this.I=this.a=null,Wl.o.l.call(this)},I(Wl.prototype,{i:Ac,T:Rc,Z:Pc,$a:Oc,O:Dc,A:Bl,gc:Hl,Oa:function(){var t=Bl.call(this),e=Hl.call(this);su(this,t,function(){fu(e)&&(au(t,!0),lu(e))})},K:function(){var t=Bl.call(this),e=Hl.call(this),n=Cs(t);return au(t,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(lu(e),e=!0):(hu(e,Ze("Enter your account name").toString()),e=!1),e?G(Cs(t)):null},s:_l,aa:Cl,ub:wl,qa:Il,P:Sl,dc:_c,wb:wc,pa:Ec}),os.passwordSignUp=function(t,e,n,i,r,o){var a=new Wl(Xr(Th(t)),function(){ql(t,a)},r?void 0:function(){a.m(),il(t,e)},n,i,Yr(Th(t)),zr(Th(t)),o);a.render(e),ph(t,a)},N(Yl,Hu),Yl.prototype.v=function(){var t=this;this.P(this.Oa),dr(this.i,"tick",this.A,!1,this),this.i.start(),cu(this,iu(this,"firebaseui-id-change-phone-number-link"),function(){t.O()}),cu(this,this.wa(),function(){t.K()}),this.qa(this.a),this.aa(this.a,this.I),this.s().focus(),Yl.o.v.call(this)},Yl.prototype.l=function(){this.K=this.I=this.a=this.O=null,xs(this.i),gr(this.i,"tick",this.A),this.i=null,Yl.o.l.call(this)},Yl.prototype.A=function(){--this.C,0<this.C?this.P(this.C):(xs(this.i),gr(this.i,"tick",this.A),this.pa(),this.$a())},I(Yl.prototype,{s:Kl,Z:Gl,qa:function(t){var e=Kl.call(this),n=Gl.call(this);su(this,e,function(){fu(n)&&(au(e,!0),lu(n))}),t&&uu(this,e,function(){t()})},T:function(){var t=G(Cs(Kl.call(this))||"");return/^\d{6}$/.test(t)?t:null},mb:Ql,P:function(t){se(Ql.call(this),Ze("Resend code in "+(9<t?"0:":"0:0")+t).toString())},pa:function(){lu(this.mb())},wa:function(){return iu(this,"firebaseui-id-resend-link")},$a:function(){hu(this.wa())},wb:_c,ub:wc,aa:Ec}),os.phoneSignInFinish=function(t,e,n,i,r,o){var a=new Yl(function(){a.m(),as("phoneSignInStart",t,e,n)},function(){!function(t,e,n,i){function r(t){e.s().focus(),au(e.s(),!1),hu(e.Z(),t)}var o=e.T();o?(e.V("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ze("Verifying...").toString()),Ih(t,e.L(E(i.confirm,i),[o],function(n){e.h(),e.V("firebaseui-icon-done",Ze("Verified!").toString());var i=setTimeout(function(){e.h(),e.m();var i={user:yh(t).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};zc(t,e,i,!0)},1e3);Ih(t,function(){e&&e.h(),clearTimeout(i)})},function(i){if(i.name&&"cancel"==i.name)e.h();else{var o=$c(i);switch(i.code){case"auth/credential-already-in-use":e.h();break;case"auth/code-expired":i=Wu(e),e.h(),e.m(),as("phoneSignInStart",t,i,n,o);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":e.h(),r(o);break;default:e.h(),e.g(o)}}}))):r(Ze("Wrong code. Try again.").toString())}(t,a,n,r)},function(){a.m(),il(t,e)},function(){a.m(),as("phoneSignInStart",t,e,n)},jn(n),i,Yr(Th(t)),zr(Th(t)));a.render(e),ph(t,a),o&&a.g(o)};var zl=!(vt||ot("Safari")&&!(lt()||ot("Coast")||ot("Opera")||ot("Edge")||ot("Silk")||ot("Android")));function Xl(t,e){return/-[a-z]/.test(e)?null:zl&&t.dataset?!ot("Android")||lt()||ot("Firefox")||ot("Opera")||ot("Silk")||e in t.dataset?void 0===(t=t.dataset[e])?null:t:null:t.getAttribute("data-"+String(e).replace(/([A-Z])/g,"-$1").toLowerCase())}function Jl(t,e,n){t=Ge(ku,{items:t},null,this.w),xu.call(this,t,!0,!0),n&&(n=function(t,e){t=(t||document).getElementsByTagName("BUTTON");for(var n=0;n<t.length;n++)if(Xl(t[n],"listboxid")===e)return t[n];return null}(t,n))&&(n.focus(),function(t,e){var n=(e=e||re(document))||re(document),i=$s(t),r=$s(n);if(!vt||9<=Number(Tt)){s=Xs(n,"borderLeftWidth");var o=Xs(n,"borderRightWidth");u=Xs(n,"borderTopWidth"),c=Xs(n,"borderBottomWidth"),o=new zs(parseFloat(u),parseFloat(o),parseFloat(c),parseFloat(s))}else{var s=tu(n,"borderLeft");o=tu(n,"borderRight");var u=tu(n,"borderTop"),c=tu(n,"borderBottom");o=new zs(u,o,c,s)}n==re(document)?(s=i.a-n.scrollLeft,i=i.g-n.scrollTop,!vt||10<=Number(Tt)||(s+=o.left,i+=o.top)):(s=i.a-r.a-o.left,i=i.g-r.g-o.top),r=t.offsetWidth,o=t.offsetHeight,u=bt&&!r&&!o,t=a(r)&&!u||!t.getBoundingClientRect?new $t(r,o):new $t((t=Js(t)).right-t.left,t.bottom-t.top),r=n.clientHeight-t.height,o=n.scrollLeft,u=n.scrollTop,n=new Jt(o+=Math.min(s,Math.max(s-(n.clientWidth-t.width),0)),u+=Math.min(i,Math.max(i-r,0))),e.scrollLeft=n.a,e.scrollTop=n.g}(n,t)),cu(this,t,function(t){(t=(t=ue(t.target,"firebaseui-id-list-box-dialog-button"))&&Xl(t,"listboxid"))&&(Lu(),e(t))})}function $l(){return iu(this,"firebaseui-id-phone-number")}function Zl(){return iu(this,"firebaseui-id-country-selector")}function th(){return iu(this,"firebaseui-id-phone-number-error")}function eh(t,e){return!(!(t=Rn(t))||!j(e,t))}function nh(t){return"firebaseui-flag-"+t.f}function ih(t){var e=this;Jl.call(this,function(t){return L(t,function(t){return{id:t.c,Ea:"firebaseui-flag "+nh(t),label:t.name+" â+"+t.b}})}(t.a),function(n){rh.call(e,n,t,!0),e.J().focus()},this.ua)}function rh(t,e,n){var i=Rn(t);i&&(n&&((e=An(e,n=G(Cs($l.call(this))||""))).length&&e[0].b!=i.b&&(n="+"+i.b+n.substr(e[0].b.length+1),Is($l.call(this),n))),e=Rn(this.ua),this.ua=t,t=iu(this,"firebaseui-id-country-selector-flag"),e&&Es(t,nh(e)),ws(t,nh(i)),se(iu(this,"firebaseui-id-country-selector-code"),"â+"+i.b))}function oh(t,e,n,i,r,o,a,s,u,c){Hu.call(this,yc,{nb:e,ta:u||null,Na:!!n,fa:!!o},c,"phoneSignInStart",{H:i,G:r}),this.I=s||null,this.K=e,this.a=t,this.A=n||null,this.Z=a||null}function ah(t,e,n,i){try{var r=e.P(is)}catch(t){return}r?es?(e.V("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ze("Verifying...").toString()),Ih(t,e.L(E(t.Jb,t),[jn(r),n],function(n){var i=Wu(e);e.V("firebaseui-icon-done",Ze("Code sent!").toString());var o=setTimeout(function(){e.h(),e.m(),as("phoneSignInFinish",t,i,r,15,n)},1e3);Ih(t,function(){e&&e.h(),clearTimeout(o)})},function(t){if(e.h(),!t.name||"cancel"!=t.name){grecaptcha.reset(rs),es=null;var n=t&&t.message||"";if(t.code)switch(t.code){case"auth/too-many-requests":n=Ze("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return e.J().focus(),void hu(e.C(),gn().toString());default:n=$c(t)}e.g(n)}}))):ns?hu(e.s(),Ze("Solve the reCAPTCHA").toString()):!ns&&i&&e.i().click():(e.J().focus(),hu(e.C(),gn().toString()))}function sh(t,e,n,i,r){Hu.call(this,mc,{Bb:e},r,"providerSignIn",{H:n,G:i}),this.a=t}function uh(t,e,n,i,r,o,a){Hu.call(this,Gu,{email:n,Na:!!e,fa:!!o},a,"signIn",{H:i,G:r}),this.a=t,this.s=e}function ch(t,e){this.Y=!1;var n=fh(e);if(hh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');hh[n]=this,this.g=t,this.A=null,this.s=!1,lh(this.g),this.u=firebase.initializeApp({apiKey:t.app.options.apiKey,authDomain:t.app.options.authDomain},t.app.name+"-firebaseui-temp").auth(),lh(this.u),this.u.setPersistence&&this.u.setPersistence(firebase.auth.Auth.Persistence.SESSION),this.ca=e,this.V=new Pr,this.a=this.J=this.i=this.D=null,this.j=[],this.X=!1,this.N=xo.Pa(),this.h=this.B=null,this.$=this.w=!1}function lh(t){t&&t.INTERNAL&&t.INTERNAL.logFramework&&t.INTERNAL.logFramework("FirebaseUI-web")}N(oh,Hu),oh.prototype.v=function(){this.aa(this.Z,this.I),this.O(this.a,this.A||void 0),this.K||qu(this,this.J(),this.i()),Ku(this,this.i(),this.a),this.J().focus(),Nl(this.J(),(this.J().value||"").length),oh.o.v.call(this)},oh.prototype.l=function(){this.A=this.a=null,oh.o.l.call(this)},I(oh.prototype,{kb:Mu,J:$l,C:th,aa:function(t,e,n){var i=this,r=$l.call(this),o=Zl.call(this),a=th.call(this),s=t||Ln,u=s.a;if(0==u.length)throw Error("No available countries provided.");(function(t,e){var n=t.a,i=eh("1-US-0",n),r=null;if(!(r=e&&eh(e,n)?e:i?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");rh.call(this,r,t)}).call(i,s,e),cu(this,o,function(){ih.call(i,s)}),su(this,r,function(){fu(a)&&(au(r,!0),lu(a));var t=G(Cs(r)||""),e=Rn(this.ua),n=An(s,t);t=eh("1-US-0",u),n.length&&n[0].b!=e.b&&(e=n[0],rh.call(i,"1"==e.b&&t?"1-US-0":e.c,s))}),n&&uu(this,r,function(){n()})},P:function(t){var e=G(Cs($l.call(this))||""),n=(t=t||Ln).a,i=An(Ln,e);if(i.length&&!j(n,i[0]))throw Is($l.call(this)),$l.call(this).focus(),hu(th.call(this),Ze("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=Rn(this.ua),i.length&&i[0].b!=n.b&&rh.call(this,i[0].c,t),i.length&&(e=e.substr(i[0].b.length+1)),e?new Mn(this.ua,e):null},qa:Zl,T:function(){return iu(this,"firebaseui-recaptcha-container")},s:function(){return iu(this,"firebaseui-id-recaptcha-error")},i:_c,pa:wc,O:Ec}),os.phoneSignInStart=function(t,e,n,i){var r=function(t){var e=null;if(D(Br(t),function(t){t.provider==firebase.auth.PhoneAuthProvider.PROVIDER_ID&&m(t.recaptchaParameters)&&!p(t.recaptchaParameters)&&(e=st(t.recaptchaParameters))}),e){var n=[];D(Fr,function(t){void 0!==e[t]&&(n.push(t),delete e[t])}),n.length&&fi('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return e}(Th(t))||{};es=null,ns=!(r&&"invisible"===r.size);var o=nl(t),a=function(t){var e=(t=Hr(t,firebase.auth.PhoneAuthProvider.PROVIDER_ID))&&t.defaultCountry||null;e=e&&Pn(e);var n=null;return t&&s(t.loginHint)&&(n=Fn(t.loginHint)),e&&e[0]||n&&Rn(n.a)||null}(Th(t)),u=o?function(t){var e=null;return(t=Hr(t,firebase.auth.PhoneAuthProvider.PROVIDER_ID))&&s(t.loginHint)&&(e=Fn(t.loginHint)),t&&t.defaultNationalNumber||e&&e.ta||null}(Th(t)):null;a=n&&n.a||a&&a.c||null,n=n&&n.ta||u,(u=Gr(Th(t)))&&Dn(u),is=u?new Nn(Gr(Th(t))):Ln;var c=new oh(function(e){ah(t,c,l,!(!e||!e.keyCode))},ns,o?null:function(){l.clear(),c.m(),il(t,e)},Yr(Th(t)),zr(Th(t)),o,is,a,n);c.render(e),ph(t,c),i&&c.g(i),r.callback=function(e){c.s()&&lu(c.s()),es=e,ns||ah(t,c,l)},r["expired-callback"]=function(){es=null};var l=new firebase.auth.RecaptchaVerifier(ns?c.T():c.i(),r,yh(t).app);Ih(t,c.L(E(l.render,l),[],function(t){rs=t},function(n){n.name&&"cancel"==n.name||(n=$c(n),c.m(),il(t,e,void 0,n))}))},N(sh,Hu),sh.prototype.v=function(){this.i(this.a),sh.o.v.call(this)},sh.prototype.l=function(){this.a=null,sh.o.l.call(this)},I(sh.prototype,{i:function(t){function e(e){t(e)}for(var n=this.j?te("firebaseui-id-idp-button",this.j||this.w.a):[],i=0;i<n.length;i++){var r=n[i];cu(this,r,C(e,Xl(r,"providerId")))}}}),os.providerSignIn=function(t,e,n){var i=new sh(function(n){n==firebase.auth.EmailAuthProvider.PROVIDER_ID?(i.m(),sl(t,e)):n==firebase.auth.PhoneAuthProvider.PROVIDER_ID?(i.m(),as("phoneSignInStart",t,e)):"anonymous"==n?function(t,e){Ih(t,e.L(E(t.Gb,t),[],function(n){return e.m(),zc(t,e,n,!0)},function(t){t.name&&"cancel"==t.name||(ui("ContinueAsGuest: "+t.code,void 0),t=$c(t),e.g(t))}))}(t,i):Zc(t,i,n),kh(t),t.N.cancel()},Wr(Th(t)),Yr(Th(t)),zr(Th(t)));i.render(e),ph(t,i),n&&i.g(n),function(t){kh(t);try{(function t(e,n,i){if(e.a&&n){var r=function(){e.h=!0;var r=Promise.resolve(null);return i||(r=e.a.retrieve(n).catch(function(t){if("userCanceled"===t.type||"illegalConcurrentRequest"===t.type)throw t;return null})),r.then(function(t){return t||e.a.hint(n)}).catch(function(r){if("userCanceled"===r.type)e.g=Promise.resolve();else if("illegalConcurrentRequest"===r.type)return e.cancel(),t(e,n,i);return null})};return e.g?e.g.then(r):r()}if(n)return r=Fi(Mo.Pa().load().then(function(){return e.a=o.googleyolo,t(e,n,i)}),function(){return null}),Promise.resolve(r);if("undefined"!=typeof Promise)return Promise.resolve(null);throw Error("One-Tap sign in not supported in the current browser!")})(t.N,function(t){var e=[],n=[];D(Br(t),function(t){t.authMethod&&(e.push(t.authMethod),t.clientId&&n.push({uri:t.authMethod,clientId:t.clientId}))});var i=null;return"googleyolo"===io(t)&&e.length&&(i={supportedIdTokenProviders:n,supportedAuthMethods:e}),i}(Th(t)),function(t){var e;return kh(t),(e=t.X)||(t=Kr(t=Th(t),firebase.auth.GoogleAuthProvider.PROVIDER_ID),e=!(!t||"select_account"!==t.prompt)),e}(t)).then(function(e){return!!t.a&&tl(t,t.a,e)})}catch(t){}}(t)},os.sendEmailLinkForSignIn=function(t,e,n,i){var r=new dl;r.render(e),ph(t,r),al(t,r,n,i,function(i){r.m(),i=$c(i),as("signIn",t,e,n,i)})},N(uh,Hu),uh.prototype.v=function(){this.C(this.a),this.I(this.a,this.s||void 0),this.i().focus(),Nl(this.i(),(this.i().value||"").length),uh.o.v.call(this)},uh.prototype.l=function(){this.s=this.a=null,uh.o.l.call(this)},I(uh.prototype,{i:Ac,O:Rc,C:Pc,K:Oc,A:Dc,T:_c,P:wc,I:Ec}),os.signIn=function(t,e,n,i){var r=el(t),o=new uh(function(){var e=o,n=e.A()||"";n&&rl(t,e,n)},r&&io(Th(t))!=Or?null:function(){o.m(),il(t,e,n)},n,Yr(Th(t)),zr(Th(t)),r);o.render(e),ph(t,o),i&&o.g(i)};var hh={};function fh(t){return t||"[DEFAULT]"}function dh(t){return kh(t),t.i||(t.i=Eh(t,function(e){return e&&!Ga(bh(t))?Li(yh(t).getRedirectResult().then(function(t){return t},function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Rh(t,e)})):Li(mh(t).getRedirectResult().then(function(e){return Vr(Th(t))&&!e.user&&t.h&&!t.h.isAnonymous?yh(t).getRedirectResult():e}))})),t.i}function ph(t,e){kh(t),t.a=e}var vh=null;function gh(){return vh}function mh(t){return kh(t),t.u}function yh(t){return kh(t),t.g}function bh(t){return kh(t),t.ca}function _h(t){return"signIn"===((t=new ro(t)).a.a.get(oo.hb)||null)&&!!t.a.a.get(oo.Ta)}function wh(t,e){var n=Ar(e);if(n.setAttribute("lang","en".replace(/_/g,"-")),vh){var i=vh;kh(i),Ga(bh(i))&&fi("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),vh.reset()}vh=t,t.J=n,function(t,e){t.F=null,t.D=new mo(e),t.D.register(),dr(t.D,"pageEnter",function(e){if(e=e&&e.pageId,t.F!=e){var n=Th(t);(n=no(n).uiChanged||null)&&n(t.F,e),t.F=e}})}(t,n),Ia(new Sa)&&Ia(new Ta)?hl(t,e):(e=Ar(e),(n=new Hc(Ze("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(e),ph(t,n)),Va(Da,bh(t))}function Eh(t,e){if(t.w)return e(Ch(t));if(Ih(t,function(){t.w=!1}),Vr(Th(t))){var n=new Ni(function(n){Ih(t,t.g.onAuthStateChanged(function(i){t.h=i,t.w||(t.w=!0,n(e(Ch(t))))}))});return Ih(t,n),n}return t.w=!0,e(null)}function Ch(t){return kh(t),Vr(Th(t))&&t.h&&t.h.isAnonymous?t.h:null}function Ih(t,e){if(kh(t),e){t.j.push(e);var n=function(){B(t.j,function(t){return t==e})};"function"!=typeof e&&e.then(n,n)}}function Sh(t){void 0!==t.g.languageCode&&t.s&&(t.s=!1,t.g.languageCode=t.A)}function Th(t){return kh(t),t.V}function kh(t){if(t.Y)throw Error("AuthUI instance is deleted!")}function Nh(){var t=Rr();if(_h(t)){for(var e in t=new ro(t),oo)oo.hasOwnProperty(e)&&je(t.a.a,oo[e]);e={state:"signIn",mode:"emailLink",operation:"clear"};var n=o.document.title;o.history&&o.history.replaceState&&o.history.replaceState(e,n,t.toString())}}function Ah(t){return kh(t),mh(t).signOut()}function Rh(t,e,n){if(kh(t),e&&e.code&&("auth/email-already-in-use"==e.code||"auth/credential-already-in-use"==e.code)){var i=eo(Th(t));return Li().then(function(){return i(new _n("anonymous-upgrade-merge-conflict",null,n||e.credential))}).then(function(){throw t.a&&(t.a.m(),t.a=null),e})}return Mi(e)}(t=ch.prototype).cb=function(){return kh(this),"pending"===Ua(Da,bh(this))||_h(Rr())},t.start=function(t,e){kh(this);var n=this;void 0!==this.g.languageCode&&(this.A=this.g.languageCode);var i="en".replace(/_/g,"-");this.g.languageCode=i,this.u.languageCode=i,this.s=!0,this.ab(e);var r=o.document;this.B?this.B.then(function(){"complete"==r.readyState?wh(n,t):vr(window,"load",function(){wh(n,t)})}):"complete"==r.readyState?wh(n,t):vr(window,"load",function(){wh(n,t)})},t.disableAutoSignIn=function(){kh(this),this.X=!0},t.reset=function(){kh(this);var t=this;this.J&&this.J.removeAttribute("lang"),this.D&&vo(this.D),Sh(this),Nh(),Va(Da,bh(this)),kh(this),this.N.cancel(),this.i=Li({user:null,credential:null}),vh==this&&(vh=null),this.J=null;for(var e=0;e<this.j.length;e++)"function"==typeof this.j[e]?this.j[e]():this.j[e].cancel&&this.j[e].cancel();this.j=[],Va(Oa,bh(this)),this.a&&(this.a.m(),this.a=null),this.F=null,this.u&&(this.B=Ah(this).then(function(){t.B=null},function(){t.B=null}))},t.ab=function(t){kh(this);var e,n=this.V;for(e in t)try{In(n.a,e,t[e])}catch(t){ui('Invalid config: "'+e+'"',void 0)}_t&&In(n.a,"popupMode",!1),Gr(n),!this.$&&Zr(Th(this))&&(fi("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.$=!0)},t.Db=function(){kh(this);var t=Th(this),e=Sn(t.a,"widgetUrl"),n=Ur(t,e);Th(this).a.get("popupMode")?(n=n||"about:blank",(t={width:500,height:600,top:0<(t=(window.screen.availHeight-600)/2)?t:0,left:0<(e=(window.screen.availWidth-500)/2)?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=t.target||n.target||"google_popup",t.width=t.width||690,t.height=t.height||500,(t=Sr(n,t))&&t.focus()):Tr(n)},t.pb=function(){var t=this;return kh(this),this.u.app.delete().then(function(){var e=fh(bh(t));delete hh[e],t.reset(),t.Y=!0})},t.qb=function(t,e){kh(this);var n=this,i=function(){for(var t=32,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();if(!Jr(Th(this)))throw Error("Email link sign-in should be enabled to trigger email sending.");var r=function(t){if(Jr(t)){var e={url:Rr(),handleCodeInApp:!0};return(t=Hr(t,firebase.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof t.emailLinkSignIn&&ct(e,t.emailLinkSignIn()),e.url=ke(Rr(),e.url).toString(),e}return null}(Th(this)),o=new ro(r.url);return function(t,e){e?t.a.a.set(oo.Ka,e):je(t.a.a,oo.Ka)}(o,i),e&&e.a&&(function(t,e,n){Ba(ja,da(t,JSON.stringify(e.ja())),n)}(i,e,bh(this)),so(o,e.a.providerId)),function(t,e){null!==e?t.a.a.set(oo.Ia,e?"1":"0"):je(t.a.a,oo.Ia)}(o,function(t){return!(!(t=Hr(t,firebase.auth.EmailAuthProvider.PROVIDER_ID))||!t.forceSameDevice)}(Th(this))),Eh(this,function(e){return e&&((e=e.uid)?o.a.a.set(oo.Ha,e):je(o.a.a,oo.Ha)),r.url=o.toString(),mh(n).sendSignInLinkToEmail(t,r)}).then(function(){var e=bh(n),r={};r.email=t,Ba(Fa,da(i,JSON.stringify(r)),e)},function(t){throw Va(ja,bh(n)),Va(Fa,bh(n)),t})},t.Ib=function(t,e){kh(this);var n=this;return mh(this).signInWithEmailAndPassword(t,e).then(function(i){return Eh(n,function(r){return r?Ah(n).then(function(){return Rh(n,{code:"auth/email-already-in-use"},firebase.auth.EmailAuthProvider.credential(t,e))}):i})})},t.Fb=function(t,e){kh(this);var n=this;return Eh(this,function(i){if(i){var r=firebase.auth.EmailAuthProvider.credential(t,e);return i.linkAndRetrieveDataWithCredential(r)}return mh(n).createUserWithEmailAndPassword(t,e)})},t.Hb=function(t){kh(this);var e=this;return Eh(this,function(n){return n?n.linkAndRetrieveDataWithCredential(t).then(function(t){return t},function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Rh(e,n,t)}):mh(e).signInAndRetrieveDataWithCredential(t)})},t.Kb=function(t){kh(this);var e=this,n=this.i;return this.i=null,Eh(this,function(n){return n&&!Ga(bh(e))?n.linkWithRedirect(t):mh(e).signInWithRedirect(t)}).then(function(){},function(t){throw e.i=n,t})},t.Jb=function(t,e){kh(this);var n=this;return Eh(this,function(i){return i?i.linkWithPhoneNumber(t,e).then(function(t){return new Fo(t,function(t){if("auth/credential-already-in-use"==t.code)return Rh(n,t);throw t})}):yh(n).signInWithPhoneNumber(t,e).then(function(t){return new Fo(t)})})},t.Gb=function(){return kh(this),yh(this).signInAnonymously()},t.Eb=function(t,e){return kh(this),mh(this).signInWithEmailAndPassword(t,e)},k("firebaseui.auth.AuthUI",ch),k("firebaseui.auth.AuthUI.getInstance",function(t){return t=fh(t),hh[t]?hh[t]:null}),k("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ch.prototype.disableAutoSignIn),k("firebaseui.auth.AuthUI.prototype.start",ch.prototype.start),k("firebaseui.auth.AuthUI.prototype.setConfig",ch.prototype.ab),k("firebaseui.auth.AuthUI.prototype.signIn",ch.prototype.Db),k("firebaseui.auth.AuthUI.prototype.reset",ch.prototype.reset),k("firebaseui.auth.AuthUI.prototype.delete",ch.prototype.pb),k("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ch.prototype.cb),k("firebaseui.auth.AuthUIError",_n),k("firebaseui.auth.AuthUIError.prototype.toJSON",_n.prototype.toJSON),k("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",Or),k("firebaseui.auth.CredentialHelper.GOOGLE_YOLO","googleyolo"),k("firebaseui.auth.CredentialHelper.NONE","none"),k("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous")}()}();